<!DOCTYPE html>
<!-- saved from url=(0054)file:///Users/sun/Downloads/spiritual-survey-syst.html -->
<html lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>靈性修養問卷生成與分析系統</title>
    
    <!-- Tailwind CSS -->
    <script src="./index_files/saved_resource"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin="" src="./index_files/react.development.js"></script>
    <script crossorigin="" src="./index_files/react-dom.development.js"></script>
    
    <!-- Babel Standalone -->
    <script src="./index_files/babel.min.js"></script>
    
    <!-- Chart.js -->
    <script src="./index_files/chart.js"></script>
    
    <style>
        .dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }
        .drag-over {
            border: 2px dashed #3b82f6;
            background-color: #eff6ff;
        }
        .category-tree {
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }
        .question-list {
            max-height: calc(100vh - 300px);
            overflow-y: auto;
        }
        .preview-pane {
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.mx-auto{margin-left:auto;margin-right:auto}.mt-4{margin-top:1rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-2{margin-left:0.5rem}.ml-4{margin-left:1rem}.mt-6{margin-top:1.5rem}.mb-3{margin-bottom:0.75rem}.mr-2{margin-right:0.5rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-12{height:3rem}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-6{width:1.5rem}.min-w-48{min-width:12rem}.flex-1{flex:1 1 0%}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-move{cursor:move}.cursor-pointer{cursor:pointer}.cursor-not-allowed{cursor:not-allowed}.select-none{-webkit-user-select:none;user-select:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:0.25rem}.gap-2{gap:0.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.rounded-full{border-radius:9999px}.rounded{border-radius:0.25rem}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border-2{border-width:2px}.border{border-width:1px}.border-l-2{border-left-width:2px}.border-b{border-bottom-width:1px}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-t-indigo-600{--tw-border-opacity:1;border-top-color:rgb(79 70 229 / var(--tw-border-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity:1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.pb-4{padding-bottom:1rem}.text-center{text-align:center}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.leading-relaxed{line-height:1.625}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity:1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity:1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-700:hover{--tw-bg-opacity:1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\:text-blue-800:hover{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\:text-red-800:hover{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-indigo-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(99 102 241 / var(--tw-ring-opacity, 1))}@media (min-width: 768px){.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:col-span-3{grid-column:span 3 / span 3}.lg\:col-span-4{grid-column:span 4 / span 4}.lg\:col-span-5{grid-column:span 5 / span 5}.lg\:grid-cols-12{grid-template-columns:repeat(12, minmax(0, 1fr))}.lg\:grid-cols-6{grid-template-columns:repeat(6, minmax(0, 1fr))}}</style><script>"use strict";

function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useCallback = _React.useCallback,
  useMemo = _React.useMemo,
  useRef = _React.useRef;

// 資料模型定義
var LayerTypes = {
  FACETS_7: 'FACETS_7',
  INDICATORS_10: 'INDICATORS_10',
  PRINCIPLES_7: 'PRINCIPLES_7',
  PRACTICES: 'PRACTICES'
};

// IndexedDB 管理
var DatabaseManager = /*#__PURE__*/function () {
  function DatabaseManager() {
    _classCallCheck(this, DatabaseManager);
    this.dbName = 'SpiritualSurveyDB';
    this.version = 1;
    this.db = null;
  }
  return _createClass(DatabaseManager, [{
    key: "init",
    value: function () {
      var _init = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {
        var _this = this;
        return _regenerator().w(function (_context) {
          while (1) switch (_context.n) {
            case 0:
              return _context.a(2, new Promise(function (resolve, reject) {
                var request = indexedDB.open(_this.dbName, _this.version);
                request.onerror = function () {
                  return reject(request.error);
                };
                request.onsuccess = function () {
                  _this.db = request.result;
                  resolve(_this.db);
                };
                request.onupgradeneeded = function (event) {
                  var db = event.target.result;

                  // 分類表
                  if (!db.objectStoreNames.contains('categories')) {
                    var categoryStore = db.createObjectStore('categories', {
                      keyPath: 'id'
                    });
                    categoryStore.createIndex('layer', 'layer', {
                      unique: false
                    });
                    categoryStore.createIndex('parentId', 'parentId', {
                      unique: false
                    });
                  }

                  // 題目表
                  if (!db.objectStoreNames.contains('questions')) {
                    var questionStore = db.createObjectStore('questions', {
                      keyPath: 'id'
                    });
                    questionStore.createIndex('archived', 'archived', {
                      unique: false
                    });
                  }

                  // 版本表
                  if (!db.objectStoreNames.contains('versions')) {
                    db.createObjectStore('versions', {
                      keyPath: 'id'
                    });
                  }

                  // 回覆表
                  if (!db.objectStoreNames.contains('responses')) {
                    var responseStore = db.createObjectStore('responses', {
                      keyPath: 'id'
                    });
                    responseStore.createIndex('versionId', 'versionId', {
                      unique: false
                    });
                    responseStore.createIndex('createdAt', 'createdAt', {
                      unique: false
                    });
                  }
                };
              }));
          }
        }, _callee);
      }));
      function init() {
        return _init.apply(this, arguments);
      }
      return init;
    }()
  }, {
    key: "getAll",
    value: function () {
      var _getAll = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(storeName) {
        var transaction, store;
        return _regenerator().w(function (_context2) {
          while (1) switch (_context2.n) {
            case 0:
              transaction = this.db.transaction([storeName], 'readonly');
              store = transaction.objectStore(storeName);
              return _context2.a(2, new Promise(function (resolve, reject) {
                var request = store.getAll();
                request.onsuccess = function () {
                  return resolve(request.result);
                };
                request.onerror = function () {
                  return reject(request.error);
                };
              }));
          }
        }, _callee2, this);
      }));
      function getAll(_x) {
        return _getAll.apply(this, arguments);
      }
      return getAll;
    }()
  }, {
    key: "add",
    value: function () {
      var _add = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(storeName, data) {
        var transaction, store;
        return _regenerator().w(function (_context3) {
          while (1) switch (_context3.n) {
            case 0:
              transaction = this.db.transaction([storeName], 'readwrite');
              store = transaction.objectStore(storeName);
              return _context3.a(2, new Promise(function (resolve, reject) {
                var request = store.add(data);
                request.onsuccess = function () {
                  return resolve(request.result);
                };
                request.onerror = function () {
                  return reject(request.error);
                };
              }));
          }
        }, _callee3, this);
      }));
      function add(_x2, _x3) {
        return _add.apply(this, arguments);
      }
      return add;
    }()
  }, {
    key: "put",
    value: function () {
      var _put = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(storeName, data) {
        var transaction, store;
        return _regenerator().w(function (_context4) {
          while (1) switch (_context4.n) {
            case 0:
              transaction = this.db.transaction([storeName], 'readwrite');
              store = transaction.objectStore(storeName);
              return _context4.a(2, new Promise(function (resolve, reject) {
                var request = store.put(data);
                request.onsuccess = function () {
                  return resolve(request.result);
                };
                request.onerror = function () {
                  return reject(request.error);
                };
              }));
          }
        }, _callee4, this);
      }));
      function put(_x4, _x5) {
        return _put.apply(this, arguments);
      }
      return put;
    }()
  }, {
    key: "delete",
    value: function () {
      var _delete2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5(storeName, id) {
        var transaction, store;
        return _regenerator().w(function (_context5) {
          while (1) switch (_context5.n) {
            case 0:
              transaction = this.db.transaction([storeName], 'readwrite');
              store = transaction.objectStore(storeName);
              return _context5.a(2, new Promise(function (resolve, reject) {
                var request = store["delete"](id);
                request.onsuccess = function () {
                  return resolve(request.result);
                };
                request.onerror = function () {
                  return reject(request.error);
                };
              }));
          }
        }, _callee5, this);
      }));
      function _delete(_x6, _x7) {
        return _delete2.apply(this, arguments);
      }
      return _delete;
    }()
  }, {
    key: "get",
    value: function () {
      var _get = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6(storeName, id) {
        var transaction, store;
        return _regenerator().w(function (_context6) {
          while (1) switch (_context6.n) {
            case 0:
              transaction = this.db.transaction([storeName], 'readonly');
              store = transaction.objectStore(storeName);
              return _context6.a(2, new Promise(function (resolve, reject) {
                var request = store.get(id);
                request.onsuccess = function () {
                  return resolve(request.result);
                };
                request.onerror = function () {
                  return reject(request.error);
                };
              }));
          }
        }, _callee6, this);
      }));
      function get(_x8, _x9) {
        return _get.apply(this, arguments);
      }
      return get;
    }()
  }]);
}(); // 全域資料庫實例
var db = new DatabaseManager();

// 初始資料
var INITIAL_CATEGORIES = [
// 層級1：靈性修養七面向
{
  id: 'facet-1',
  layer: LayerTypes.FACETS_7,
  name: '起心動念',
  parentId: null,
  order: 1
}, {
  id: 'facet-2',
  layer: LayerTypes.FACETS_7,
  name: '後設思考',
  parentId: null,
  order: 2
}, {
  id: 'facet-3',
  layer: LayerTypes.FACETS_7,
  name: '意義追尋',
  parentId: null,
  order: 3
}, {
  id: 'facet-4',
  layer: LayerTypes.FACETS_7,
  name: '人際靈修',
  parentId: null,
  order: 4
}, {
  id: 'facet-5',
  layer: LayerTypes.FACETS_7,
  name: '物質與環境',
  parentId: null,
  order: 5
}, {
  id: 'facet-6',
  layer: LayerTypes.FACETS_7,
  name: '與超越者的連結',
  parentId: null,
  order: 6
}, {
  id: 'facet-7',
  layer: LayerTypes.FACETS_7,
  name: '生活形態與全人健康',
  parentId: null,
  order: 7
},
// 層級2：靈性健康十核心指標
{
  id: 'indicator-1',
  layer: LayerTypes.INDICATORS_10,
  name: '人格統整',
  parentId: null,
  order: 1
}, {
  id: 'indicator-2',
  layer: LayerTypes.INDICATORS_10,
  name: '追求真理的後設反思',
  parentId: null,
  order: 2
}, {
  id: 'indicator-3',
  layer: LayerTypes.INDICATORS_10,
  name: '意義與目的',
  parentId: null,
  order: 3
}, {
  id: 'indicator-4',
  layer: LayerTypes.INDICATORS_10,
  name: '愛與同理',
  parentId: null,
  order: 4
}, {
  id: 'indicator-5',
  layer: LayerTypes.INDICATORS_10,
  name: '寬恕與和解',
  parentId: null,
  order: 5
}, {
  id: 'indicator-6',
  layer: LayerTypes.INDICATORS_10,
  name: '感恩與喜樂',
  parentId: null,
  order: 6
}, {
  id: 'indicator-7',
  layer: LayerTypes.INDICATORS_10,
  name: '財物倫理與靈修',
  parentId: null,
  order: 7
}, {
  id: 'indicator-8',
  layer: LayerTypes.INDICATORS_10,
  name: '惜物與共生',
  parentId: null,
  order: 8
}, {
  id: 'indicator-9',
  layer: LayerTypes.INDICATORS_10,
  name: '信仰與連結',
  parentId: null,
  order: 9,
  isReligious: true
}, {
  id: 'indicator-10',
  layer: LayerTypes.INDICATORS_10,
  name: '宗教信仰與靈性修養',
  parentId: null,
  order: 10,
  isReligious: true
},
// 層級3：靈修七原則
{
  id: 'principle-1',
  layer: LayerTypes.PRINCIPLES_7,
  name: '在每一個人身上看見神、看見佛、看見人',
  parentId: null,
  order: 1
}, {
  id: 'principle-2',
  layer: LayerTypes.PRINCIPLES_7,
  name: '第一個去愛、第一個去給',
  parentId: null,
  order: 2
}, {
  id: 'principle-3',
  layer: LayerTypes.PRINCIPLES_7,
  name: '給人信心、給人希望、給人歡喜、給人方便',
  parentId: null,
  order: 3
}, {
  id: 'principle-4',
  layer: LayerTypes.PRINCIPLES_7,
  name: '緩於發怒、敏於寬恕、勇於道歉、時時感恩',
  parentId: null,
  order: 4
}, {
  id: 'principle-5',
  layer: LayerTypes.PRINCIPLES_7,
  name: '連結神聖、追求意義、擇善固執、不變隨緣',
  parentId: null,
  order: 5
}, {
  id: 'principle-6',
  layer: LayerTypes.PRINCIPLES_7,
  name: '役物不役於物，惜物厚生濟世',
  parentId: null,
  order: 6
}, {
  id: 'principle-7',
  layer: LayerTypes.PRINCIPLES_7,
  name: '誠意正心、戒慎恐懼、後設反思、開放公正',
  parentId: null,
  order: 7
}];
var INITIAL_QUESTIONS = [{
  id: 'q1',
  text: '我能夠覺察自己的情緒變化，並適當地表達',
  categoryIds: ['facet-1', 'indicator-1'],
  isReligious: false,
  order: 1
}, {
  id: 'q2',
  text: '我會反思自己的行為是否符合內心的價值觀',
  categoryIds: ['facet-2', 'indicator-2'],
  isReligious: false,
  order: 2
}, {
  id: 'q3',
  text: '我清楚知道自己人生的目標和意義',
  categoryIds: ['facet-3', 'indicator-3'],
  isReligious: false,
  order: 3
}, {
  id: 'q4',
  text: '我能夠真誠地關懷他人的需要',
  categoryIds: ['facet-4', 'indicator-4', 'principle-2'],
  isReligious: false,
  order: 4
}, {
  id: 'q5',
  text: '我會珍惜物質資源，避免浪費',
  categoryIds: ['facet-5', 'indicator-8', 'principle-6'],
  isReligious: false,
  order: 5
}, {
  id: 'q6',
  text: '我相信有比自己更大的力量存在',
  categoryIds: ['facet-6', 'indicator-9'],
  isReligious: true,
  order: 6
}, {
  id: 'q7',
  text: '我會為自己的健康負責，保持良好的生活習慣',
  categoryIds: ['facet-7'],
  isReligious: false,
  order: 7
}, {
  id: 'q8',
  text: '我能夠寬恕傷害過我的人',
  categoryIds: ['indicator-5', 'principle-4'],
  isReligious: false,
  order: 8
}, {
  id: 'q9',
  text: '我經常感到感恩和喜悅',
  categoryIds: ['indicator-6', 'principle-4'],
  isReligious: false,
  order: 9
}, {
  id: 'q10',
  text: '我會透過宗教活動來滋養自己的靈性',
  categoryIds: ['indicator-10'],
  isReligious: true,
  order: 10
}, {
  id: 'q11',
  text: '我能夠在每個人身上看到值得尊重的地方',
  categoryIds: ['principle-1'],
  isReligious: false,
  order: 11
}, {
  id: 'q12',
  text: '我願意主動給予他人幫助和支持',
  categoryIds: ['principle-2', 'principle-3'],
  isReligious: false,
  order: 12
}, {
  id: 'q13',
  text: '我能夠控制自己的怒氣，以平和的態度處理衝突',
  categoryIds: ['principle-4'],
  isReligious: false,
  order: 13
}, {
  id: 'q14',
  text: '我會堅持自己認為正確的價值觀',
  categoryIds: ['principle-5'],
  isReligious: false,
  order: 14
}, {
  id: 'q15',
  text: '我會定期反省自己的言行是否恰當',
  categoryIds: ['principle-7'],
  isReligious: false,
  order: 15
}];

// 工具函數
var generateId = function generateId() {
  return Math.random().toString(36).substr(2, 9);
};
var formatDate = function formatDate(date) {
  return new Date(date).toLocaleDateString('zh-TW', {
    year: 'numeric',
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit'
  });
};
var downloadJSON = function downloadJSON(data, filename) {
  var blob = new Blob([JSON.stringify(data, null, 2)], {
    type: 'application/json'
  });
  var url = URL.createObjectURL(blob);
  var a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
};
var downloadCSV = function downloadCSV(data, filename) {
  var csv = convertToCSV(data);
  var blob = new Blob([csv], {
    type: 'text/csv;charset=utf-8;'
  });
  var url = URL.createObjectURL(blob);
  var a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
};
var convertToCSV = function convertToCSV(data) {
  if (!data.length) return '';
  var headers = Object.keys(data[0]);
  var csvContent = [headers.join(',')].concat(_toConsumableArray(data.map(function (row) {
    return headers.map(function (header) {
      var value = row[header];
      if (_typeof(value) === 'object') {
        return "\"".concat(JSON.stringify(value).replace(/"/g, '""'), "\"");
      }
      return "\"".concat(String(value).replace(/"/g, '""'), "\"");
    }).join(',');
  }))).join('\n');
  return "\uFEFF" + csvContent; // 加入 BOM 以支援中文
};

// Toast 通知系統
var Toast = function Toast(_ref) {
  var message = _ref.message,
    type = _ref.type,
    onClose = _ref.onClose;
  useEffect(function () {
    var timer = setTimeout(onClose, 3000);
    return function () {
      return clearTimeout(timer);
    };
  }, [onClose]);
  var bgColor = {
    success: 'bg-green-100 border-green-400 text-green-700',
    error: 'bg-red-100 border-red-400 text-red-700',
    warning: 'bg-yellow-100 border-yellow-400 text-yellow-700',
    info: 'bg-blue-100 border-blue-400 text-blue-700'
  }[type];
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed top-4 right-4 z-50 px-4 py-3 rounded border-l-4 shadow-lg slide-in ".concat(bgColor)
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center justify-between"
  }, /*#__PURE__*/React.createElement("span", null, message), /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "ml-4 text-lg font-bold"
  }, "\xD7")));
};

// 載入動畫組件
var LoadingSpinner = function LoadingSpinner(_ref2) {
  var _ref2$size = _ref2.size,
    size = _ref2$size === void 0 ? 'medium' : _ref2$size;
  var sizeClass = {
    small: 'w-4 h-4',
    medium: 'w-8 h-8',
    large: 'w-12 h-12'
  }[size];
  return /*#__PURE__*/React.createElement("div", {
    className: "animate-spin rounded-full border-2 border-gray-300 border-t-indigo-600 ".concat(sizeClass)
  });
};

// 模態框組件
var Modal = function Modal(_ref3) {
  var isOpen = _ref3.isOpen,
    onClose = _ref3.onClose,
    title = _ref3.title,
    children = _ref3.children,
    _ref3$size = _ref3.size,
    size = _ref3$size === void 0 ? 'medium' : _ref3$size;
  if (!isOpen) return null;
  var sizeClass = {
    small: 'max-w-md',
    medium: 'max-w-2xl',
    large: 'max-w-4xl',
    full: 'max-w-6xl'
  }[size];
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 overflow-y-auto"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"
  }, /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",
    onClick: onClose
  }), /*#__PURE__*/React.createElement("div", {
    className: "inline-block w-full ".concat(sizeClass, " p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg")
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center justify-between mb-4"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-medium text-gray-900"
  }, title), /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "text-gray-400 hover:text-gray-600 focus:outline-none"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-6 h-6",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M6 18L18 6M6 6l12 12"
  })))), children)));
};

// 分類樹組件
var CategoryTree = function CategoryTree(_ref4) {
  var categories = _ref4.categories,
    onCategorySelect = _ref4.onCategorySelect,
    selectedCategoryId = _ref4.selectedCategoryId,
    onAddCategory = _ref4.onAddCategory,
    onEditCategory = _ref4.onEditCategory,
    onDeleteCategory = _ref4.onDeleteCategory;
  var _useState = useState(new Set()),
    _useState2 = _slicedToArray(_useState, 2),
    expandedNodes = _useState2[0],
    setExpandedNodes = _useState2[1];
  var toggleExpand = function toggleExpand(nodeId) {
    var newExpanded = new Set(expandedNodes);
    if (newExpanded.has(nodeId)) {
      newExpanded["delete"](nodeId);
    } else {
      newExpanded.add(nodeId);
    }
    setExpandedNodes(newExpanded);
  };
  var getLayerTitle = function getLayerTitle(layer) {
    var titles = _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, LayerTypes.FACETS_7, '靈性修養七面向'), LayerTypes.INDICATORS_10, '靈性健康十核心指標'), LayerTypes.PRINCIPLES_7, '靈修七原則'), LayerTypes.PRACTICES, '日常靈修實踐');
    return titles[layer];
  };
  var _buildTree = function buildTree() {
    var parentId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var layer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    return categories.filter(function (cat) {
      return cat.parentId === parentId && (layer === null || cat.layer === layer);
    }).sort(function (a, b) {
      return a.order - b.order;
    }).map(function (category) {
      return _objectSpread(_objectSpread({}, category), {}, {
        children: _buildTree(category.id)
      });
    });
  };
  var _renderNode = function renderNode(node) {
    var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var hasChildren = node.children && node.children.length > 0;
    var isExpanded = expandedNodes.has(node.id);
    var isSelected = selectedCategoryId === node.id;
    return /*#__PURE__*/React.createElement("div", {
      key: node.id,
      className: "select-none"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 ".concat(isSelected ? 'bg-indigo-100 text-indigo-700' : ''),
      style: {
        paddingLeft: "".concat(level * 20 + 8, "px")
      },
      onClick: function onClick() {
        return onCategorySelect(node.id);
      }
    }, hasChildren && /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        toggleExpand(node.id);
      },
      className: "mr-2 text-gray-500 hover:text-gray-700"
    }, isExpanded ? '▼' : '▶'), !hasChildren && /*#__PURE__*/React.createElement("span", {
      className: "w-6"
    }), /*#__PURE__*/React.createElement("span", {
      className: "flex-1 text-sm"
    }, node.name), level > 0 && /*#__PURE__*/React.createElement("div", {
      className: "flex space-x-1"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        onEditCategory(node);
      },
      className: "text-xs text-blue-600 hover:text-blue-800"
    }, "\u7DE8\u8F2F"), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        onDeleteCategory(node.id);
      },
      className: "text-xs text-red-600 hover:text-red-800"
    }, "\u522A\u9664"))), hasChildren && isExpanded && /*#__PURE__*/React.createElement("div", null, node.children.map(function (child) {
      return _renderNode(child, level + 1);
    })));
  };

  // 按層級組織分類
  var layerGroups = Object.values(LayerTypes).map(function (layer) {
    return {
      layer: layer,
      title: getLayerTitle(layer),
      nodes: _buildTree(null, layer)
    };
  });
  return /*#__PURE__*/React.createElement("div", {
    className: "category-tree"
  }, layerGroups.map(function (group) {
    return /*#__PURE__*/React.createElement("div", {
      key: group.layer,
      className: "mb-6"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center justify-between mb-2"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "font-semibold text-gray-800"
    }, group.title), group.layer === LayerTypes.PRACTICES && /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return onAddCategory(group.layer);
      },
      className: "text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700"
    }, "\u65B0\u589E")), /*#__PURE__*/React.createElement("div", {
      className: "border-l-2 border-gray-200 ml-2"
    }, group.nodes.map(function (node) {
      return _renderNode(node);
    })));
  }));
};

// 題目表格組件
var QuestionTable = function QuestionTable(_ref5) {
  var questions = _ref5.questions,
    categories = _ref5.categories,
    onEditQuestion = _ref5.onEditQuestion,
    onDeleteQuestion = _ref5.onDeleteQuestion,
    onReorderQuestions = _ref5.onReorderQuestions;
  var _useState3 = useState(''),
    _useState4 = _slicedToArray(_useState3, 2),
    searchTerm = _useState4[0],
    setSearchTerm = _useState4[1];
  var _useState5 = useState(''),
    _useState6 = _slicedToArray(_useState5, 2),
    filterCategory = _useState6[0],
    setFilterCategory = _useState6[1];
  var _useState7 = useState('all'),
    _useState8 = _slicedToArray(_useState7, 2),
    filterReligious = _useState8[0],
    setFilterReligious = _useState8[1];
  var _useState9 = useState(null),
    _useState0 = _slicedToArray(_useState9, 2),
    draggedItem = _useState0[0],
    setDraggedItem = _useState0[1];
  var getCategoryName = function getCategoryName(categoryId) {
    var category = categories.find(function (c) {
      return c.id === categoryId;
    });
    return category ? category.name : categoryId;
  };
  var filteredQuestions = useMemo(function () {
    return questions.filter(function (q) {
      var matchesSearch = q.text.toLowerCase().includes(searchTerm.toLowerCase());
      var matchesCategory = !filterCategory || q.categoryIds.includes(filterCategory);
      var matchesReligious = filterReligious === 'all' || filterReligious === 'religious' && q.isReligious || filterReligious === 'non-religious' && !q.isReligious;
      return matchesSearch && matchesCategory && matchesReligious;
    }).sort(function (a, b) {
      return a.order - b.order;
    });
  }, [questions, searchTerm, filterCategory, filterReligious]);
  var handleDragStart = function handleDragStart(e, question) {
    setDraggedItem(question);
    e.dataTransfer.effectAllowed = 'move';
  };
  var handleDragOver = function handleDragOver(e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
  };
  var handleDrop = function handleDrop(e, targetQuestion) {
    e.preventDefault();
    if (draggedItem && draggedItem.id !== targetQuestion.id) {
      onReorderQuestions(draggedItem.id, targetQuestion.id);
    }
    setDraggedItem(null);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap gap-4"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u641C\u5C0B\u984C\u76EE...",
    value: searchTerm,
    onChange: function onChange(e) {
      return setSearchTerm(e.target.value);
    },
    className: "flex-1 min-w-48 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }), /*#__PURE__*/React.createElement("select", {
    value: filterCategory,
    onChange: function onChange(e) {
      return setFilterCategory(e.target.value);
    },
    className: "px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: ""
  }, "\u6240\u6709\u5206\u985E"), categories.map(function (cat) {
    return /*#__PURE__*/React.createElement("option", {
      key: cat.id,
      value: cat.id
    }, cat.name);
  })), /*#__PURE__*/React.createElement("select", {
    value: filterReligious,
    onChange: function onChange(e) {
      return setFilterReligious(e.target.value);
    },
    className: "px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: "all"
  }, "\u5168\u90E8\u984C\u76EE"), /*#__PURE__*/React.createElement("option", {
    value: "religious"
  }, "\u5B97\u6559\u6027\u984C\u76EE"), /*#__PURE__*/React.createElement("option", {
    value: "non-religious"
  }, "\u975E\u5B97\u6559\u6027\u984C\u76EE"))), /*#__PURE__*/React.createElement("div", {
    className: "question-list space-y-2"
  }, filteredQuestions.map(function (question, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: question.id,
      draggable: true,
      onDragStart: function onDragStart(e) {
        return handleDragStart(e, question);
      },
      onDragOver: handleDragOver,
      onDrop: function onDrop(e) {
        return handleDrop(e, question);
      },
      className: "p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move ".concat((draggedItem === null || draggedItem === void 0 ? void 0 : draggedItem.id) === question.id ? 'dragging' : '')
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-start justify-between"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex-1"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center space-x-2 mb-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-sm text-gray-500"
    }, "#", question.order), question.isReligious && /*#__PURE__*/React.createElement("span", {
      className: "px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded"
    }, "\u5B97\u6559\u6027")), /*#__PURE__*/React.createElement("p", {
      className: "text-gray-900 mb-2"
    }, question.text), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-wrap gap-1"
    }, question.categoryIds.map(function (catId) {
      return /*#__PURE__*/React.createElement("span", {
        key: catId,
        className: "px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded"
      }, getCategoryName(catId));
    }))), /*#__PURE__*/React.createElement("div", {
      className: "flex space-x-2 ml-4"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return onEditQuestion(question);
      },
      className: "text-blue-600 hover:text-blue-800 text-sm"
    }, "\u7DE8\u8F2F"), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return onDeleteQuestion(question.id);
      },
      className: "text-red-600 hover:text-red-800 text-sm"
    }, "\u522A\u9664"))));
  })), filteredQuestions.length === 0 && /*#__PURE__*/React.createElement("div", {
    className: "text-center py-8 text-gray-500"
  }, "\u6C92\u6709\u627E\u5230\u7B26\u5408\u689D\u4EF6\u7684\u984C\u76EE"));
};

// 問卷預覽組件
var PreviewPane = function PreviewPane(_ref6) {
  var questions = _ref6.questions,
    categories = _ref6.categories,
    orderMode = _ref6.orderMode,
    onGenerateSurvey = _ref6.onGenerateSurvey;
  var _useState1 = useState([]),
    _useState10 = _slicedToArray(_useState1, 2),
    previewQuestions = _useState10[0],
    setPreviewQuestions = _useState10[1];
  useEffect(function () {
    var orderedQuestions = _toConsumableArray(questions);
    if (orderMode === 'random') {
      // 隨機排序
      orderedQuestions = orderedQuestions.sort(function () {
        return Math.random() - 0.5;
      });
    } else {
      // 按分類順序
      orderedQuestions = orderedQuestions.sort(function (a, b) {
        return a.order - b.order;
      });
    }
    setPreviewQuestions(orderedQuestions);
  }, [questions, orderMode]);
  var scaleLabels = ['1 完全不符合', '2 很不符合', '3 不太符合', '4 有點符合', '5 很符合', '6 完全符合'];
  return /*#__PURE__*/React.createElement("div", {
    className: "preview-pane space-y-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center justify-between"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold text-gray-800"
  }, "\u554F\u5377\u9810\u89BD"), /*#__PURE__*/React.createElement("button", {
    onClick: onGenerateSurvey,
    className: "bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, "\u751F\u6210\u554F\u5377")), /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-6 p-4 bg-blue-50 rounded-lg"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-blue-800 leading-relaxed"
  }, "\u60A8\u662F\u5426\u66FE\u60F3\u904E\uFF1A\u6211\u7684\u884C\u7A0B\u6EFF\u6A94\uFF0C\u70BA\u4EC0\u9EBC\u5167\u5FC3\u6DF1\u8655\u4ECD\u6703\u611F\u5230\u7A7A\u865B\uFF1F\u4E0D\u592A\u78BA\u5B9A\u4EBA\u751F\u7684\u76EE\u6A19\u8207\u610F\u7FA9\u611F\uFF1F\u6211\u7684\u5167\u5FC3\u8207\u4EBA\u969B\u95DC\u4FC2\u70BA\u4F55\u5E38\u6709\u4E00\u4E9B\u885D\u7A81\u4E0D\u548C\u8AE7\u7684\u5730\u65B9\uFF1F\u60F3\u8655\u7406\u9019\u4E9B\u554F\u984C\uFF0C\u8B93\u81EA\u5DF1\u904E\u5F97\u66F4\u5145\u5BE6\u6EFF\u8DB3\uFF0C\u537B\u4E0D\u77E5\u9053\u5F9E\u54EA\u88E1\u958B\u59CB\uFF1F\u2014\u2014\u6216\u8A31\uFF0C\u662F\u6642\u5019\u4F86\u7167\u9867\u81EA\u5DF1\u7684\u300C\u9748\u6027\u5065\u5EB7\u300D\u4E86\uFF01\u9748\u6027\u5065\u5EB7\u6307\u7684\u662F\u4E00\u500B\u4EBA\u5167\u5728\u662F\u5426\u5B89\u5B9A\u3001\u660E\u767D\u751F\u547D\u7684\u610F\u7FA9\uFF0C\u80FD\u8207\u81EA\u5DF1\u3001\u4ED6\u4EBA\u3001\u81EA\u7136\u53CA\u66F4\u5927\u7684\u751F\u547D\u9023\u7D50\uFF0C\u5EFA\u7ACB\u548C\u8AE7\u7684\u95DC\u4FC2\u3002\u5B83\u8B93\u6211\u5011\u5728\u56F0\u96E3\u4E2D\u4E0D\u8FF7\u5931\uFF0C\u5728\u65E5\u5E38\u4E2D\u627E\u56DE\u5E73\u975C\u8207\u5E0C\u671B\u3002")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-6"
  }, previewQuestions.map(function (question, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: question.id,
      className: "border-b border-gray-200 pb-4"
    }, /*#__PURE__*/React.createElement("p", {
      className: "mb-3 text-gray-900"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-gray-500 mr-2"
    }, index + 1, "."), question.text), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"
    }, scaleLabels.map(function (label, scaleIndex) {
      return /*#__PURE__*/React.createElement("label", {
        key: scaleIndex,
        className: "flex items-center space-x-2 text-sm cursor-not-allowed"
      }, /*#__PURE__*/React.createElement("input", {
        type: "radio",
        name: "preview-".concat(question.id),
        value: scaleIndex + 1,
        disabled: true,
        className: "text-indigo-600"
      }), /*#__PURE__*/React.createElement("span", {
        className: "text-gray-600"
      }, label));
    })));
  })), /*#__PURE__*/React.createElement("div", {
    className: "mt-6 text-center"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-gray-500 text-sm"
  }, "\u9810\u89BD\u6A21\u5F0F - \u7121\u6CD5\u4F5C\u7B54"))));
};

// 題目編輯表單
var QuestionForm = function QuestionForm(_ref7) {
  var question = _ref7.question,
    categories = _ref7.categories,
    onSave = _ref7.onSave,
    onCancel = _ref7.onCancel;
  var _useState11 = useState({
      text: (question === null || question === void 0 ? void 0 : question.text) || '',
      categoryIds: (question === null || question === void 0 ? void 0 : question.categoryIds) || [],
      isReligious: (question === null || question === void 0 ? void 0 : question.isReligious) || false
    }),
    _useState12 = _slicedToArray(_useState11, 2),
    formData = _useState12[0],
    setFormData = _useState12[1];
  var handleSubmit = function handleSubmit(e) {
    e.preventDefault();
    if (!formData.text.trim()) {
      alert('請輸入題目內容');
      return;
    }
    if (formData.categoryIds.length === 0) {
      alert('請選擇至少一個分類');
      return;
    }
    onSave(formData);
  };
  var toggleCategory = function toggleCategory(categoryId) {
    var newCategoryIds = formData.categoryIds.includes(categoryId) ? formData.categoryIds.filter(function (id) {
      return id !== categoryId;
    }) : [].concat(_toConsumableArray(formData.categoryIds), [categoryId]);
    setFormData(_objectSpread(_objectSpread({}, formData), {}, {
      categoryIds: newCategoryIds
    }));
  };
  return /*#__PURE__*/React.createElement("form", {
    onSubmit: handleSubmit,
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u984C\u76EE\u5167\u5BB9 *"), /*#__PURE__*/React.createElement("textarea", {
    value: formData.text,
    onChange: function onChange(e) {
      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {
        text: e.target.value
      }));
    },
    rows: 3,
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    placeholder: "\u8ACB\u8F38\u5165\u984C\u76EE\u5167\u5BB9..."
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u6240\u5C6C\u5206\u985E * (\u53EF\u591A\u9078)"), /*#__PURE__*/React.createElement("div", {
    className: "max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3 space-y-2"
  }, categories.map(function (category) {
    return /*#__PURE__*/React.createElement("label", {
      key: category.id,
      className: "flex items-center space-x-2"
    }, /*#__PURE__*/React.createElement("input", {
      type: "checkbox",
      checked: formData.categoryIds.includes(category.id),
      onChange: function onChange() {
        return toggleCategory(category.id);
      },
      className: "text-indigo-600"
    }), /*#__PURE__*/React.createElement("span", {
      className: "text-sm"
    }, category.name));
  }))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "flex items-center space-x-2"
  }, /*#__PURE__*/React.createElement("input", {
    type: "checkbox",
    checked: formData.isReligious,
    onChange: function onChange(e) {
      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {
        isReligious: e.target.checked
      }));
    },
    className: "text-indigo-600"
  }), /*#__PURE__*/React.createElement("span", {
    className: "text-sm font-medium text-gray-700"
  }, "\u5B97\u6559\u6027\u984C\u76EE"))), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-end space-x-3"
  }, /*#__PURE__*/React.createElement("button", {
    type: "button",
    onClick: onCancel,
    className: "px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"
  }, "\u53D6\u6D88"), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    className: "px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
  }, question ? '更新' : '新增')));
};

// 分類編輯表單
var CategoryForm = function CategoryForm(_ref8) {
  var category = _ref8.category,
    layer = _ref8.layer,
    onSave = _ref8.onSave,
    onCancel = _ref8.onCancel;
  var _useState13 = useState({
      name: (category === null || category === void 0 ? void 0 : category.name) || '',
      parentId: (category === null || category === void 0 ? void 0 : category.parentId) || null
    }),
    _useState14 = _slicedToArray(_useState13, 2),
    formData = _useState14[0],
    setFormData = _useState14[1];
  var handleSubmit = function handleSubmit(e) {
    e.preventDefault();
    if (!formData.name.trim()) {
      alert('請輸入分類名稱');
      return;
    }
    onSave(formData);
  };
  return /*#__PURE__*/React.createElement("form", {
    onSubmit: handleSubmit,
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5206\u985E\u540D\u7A31 *"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: formData.name,
    onChange: function onChange(e) {
      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {
        name: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    placeholder: "\u8ACB\u8F38\u5165\u5206\u985E\u540D\u7A31..."
  })), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-end space-x-3"
  }, /*#__PURE__*/React.createElement("button", {
    type: "button",
    onClick: onCancel,
    className: "px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"
  }, "\u53D6\u6D88"), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    className: "px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
  }, category ? '更新' : '新增')));
};

// 版本管理組件
var VersionManager = function VersionManager(_ref9) {
  var versions = _ref9.versions,
    onLoadVersion = _ref9.onLoadVersion,
    onSaveVersion = _ref9.onSaveVersion,
    onDeleteVersion = _ref9.onDeleteVersion,
    onExportData = _ref9.onExportData,
    onImportData = _ref9.onImportData;
  var _useState15 = useState(false),
    _useState16 = _slicedToArray(_useState15, 2),
    showVersions = _useState16[0],
    setShowVersions = _useState16[1];
  var _useState17 = useState(''),
    _useState18 = _slicedToArray(_useState17, 2),
    versionName = _useState18[0],
    setVersionName = _useState18[1];
  var fileInputRef = useRef();
  var handleSaveVersion = function handleSaveVersion() {
    if (!versionName.trim()) {
      alert('請輸入版本名稱');
      return;
    }
    onSaveVersion(versionName);
    setVersionName('');
  };
  var handleImportFile = function handleImportFile(e) {
    var file = e.target.files[0];
    if (file) {
      var reader = new FileReader();
      reader.onload = function (event) {
        try {
          var data = JSON.parse(event.target.result);
          onImportData(data);
        } catch (error) {
          alert('檔案格式錯誤');
        }
      };
      reader.readAsText(file);
    }
    e.target.value = '';
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setShowVersions(!showVersions);
    },
    className: "px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm"
  }, "\u7248\u672C\u7BA1\u7406"), /*#__PURE__*/React.createElement("button", {
    onClick: onExportData,
    className: "px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"
  }, "\u532F\u51FA\u8CC7\u6599"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      var _fileInputRef$current;
      return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();
    },
    className: "px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm"
  }, "\u532F\u5165\u8CC7\u6599"), /*#__PURE__*/React.createElement("input", {
    ref: fileInputRef,
    type: "file",
    accept: ".json",
    onChange: handleImportFile,
    className: "hidden"
  })), showVersions && /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-4 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex space-x-2"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: versionName,
    onChange: function onChange(e) {
      return setVersionName(e.target.value);
    },
    placeholder: "\u8F38\u5165\u7248\u672C\u540D\u7A31...",
    className: "flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }), /*#__PURE__*/React.createElement("button", {
    onClick: handleSaveVersion,
    className: "px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
  }, "\u5132\u5B58\u7248\u672C"))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 max-h-48 overflow-y-auto"
  }, versions.map(function (version) {
    return /*#__PURE__*/React.createElement("div", {
      key: version.id,
      className: "flex items-center justify-between p-3 border border-gray-200 rounded"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
      className: "font-medium"
    }, version.name), /*#__PURE__*/React.createElement("div", {
      className: "text-sm text-gray-500"
    }, formatDate(version.createdAt))), /*#__PURE__*/React.createElement("div", {
      className: "flex space-x-2"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return onLoadVersion(version.id);
      },
      className: "text-blue-600 hover:text-blue-800 text-sm"
    }, "\u8F09\u5165"), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return onDeleteVersion(version.id);
      },
      className: "text-red-600 hover:text-red-800 text-sm"
    }, "\u522A\u9664")));
  }))));
};

// 問卷編輯頁面
var BuilderPage = function BuilderPage(_ref0) {
  var onNavigateToSurvey = _ref0.onNavigateToSurvey;
  var _useState19 = useState([]),
    _useState20 = _slicedToArray(_useState19, 2),
    categories = _useState20[0],
    setCategories = _useState20[1];
  var _useState21 = useState([]),
    _useState22 = _slicedToArray(_useState21, 2),
    questions = _useState22[0],
    setQuestions = _useState22[1];
  var _useState23 = useState([]),
    _useState24 = _slicedToArray(_useState23, 2),
    versions = _useState24[0],
    setVersions = _useState24[1];
  var _useState25 = useState(null),
    _useState26 = _slicedToArray(_useState25, 2),
    selectedCategoryId = _useState26[0],
    setSelectedCategoryId = _useState26[1];
  var _useState27 = useState('category'),
    _useState28 = _slicedToArray(_useState27, 2),
    orderMode = _useState28[0],
    setOrderMode = _useState28[1];
  var _useState29 = useState(false),
    _useState30 = _slicedToArray(_useState29, 2),
    showQuestionForm = _useState30[0],
    setShowQuestionForm = _useState30[1];
  var _useState31 = useState(false),
    _useState32 = _slicedToArray(_useState31, 2),
    showCategoryForm = _useState32[0],
    setShowCategoryForm = _useState32[1];
  var _useState33 = useState(null),
    _useState34 = _slicedToArray(_useState33, 2),
    editingQuestion = _useState34[0],
    setEditingQuestion = _useState34[1];
  var _useState35 = useState(null),
    _useState36 = _slicedToArray(_useState35, 2),
    editingCategory = _useState36[0],
    setEditingCategory = _useState36[1];
  var _useState37 = useState(null),
    _useState38 = _slicedToArray(_useState37, 2),
    editingLayer = _useState38[0],
    setEditingLayer = _useState38[1];
  var _useState39 = useState(true),
    _useState40 = _slicedToArray(_useState39, 2),
    loading = _useState40[0],
    setLoading = _useState40[1];
  var _useState41 = useState(null),
    _useState42 = _slicedToArray(_useState41, 2),
    toast = _useState42[0],
    setToast = _useState42[1];
  var showToast = function showToast(message) {
    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';
    setToast({
      message: message,
      type: type,
      id: Date.now()
    });
  };
  var loadData = /*#__PURE__*/function () {
    var _ref1 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7() {
      var _yield$Promise$all, _yield$Promise$all2, categoriesData, questionsData, versionsData, _t;
      return _regenerator().w(function (_context7) {
        while (1) switch (_context7.p = _context7.n) {
          case 0:
            _context7.p = 0;
            _context7.n = 1;
            return Promise.all([db.getAll('categories'), db.getAll('questions'), db.getAll('versions')]);
          case 1:
            _yield$Promise$all = _context7.v;
            _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);
            categoriesData = _yield$Promise$all2[0];
            questionsData = _yield$Promise$all2[1];
            versionsData = _yield$Promise$all2[2];
            setCategories(categoriesData);
            setQuestions(questionsData.filter(function (q) {
              return !q.archived;
            }));
            setVersions(versionsData);
            _context7.n = 3;
            break;
          case 2:
            _context7.p = 2;
            _t = _context7.v;
            console.error('載入資料失敗:', _t);
            showToast('載入資料失敗', 'error');
          case 3:
            _context7.p = 3;
            setLoading(false);
            return _context7.f(3);
          case 4:
            return _context7.a(2);
        }
      }, _callee7, null, [[0, 2, 3, 4]]);
    }));
    return function loadData() {
      return _ref1.apply(this, arguments);
    };
  }();
  useEffect(function () {
    loadData();
  }, []);
  var handleAddQuestion = function handleAddQuestion() {
    setEditingQuestion(null);
    setShowQuestionForm(true);
  };
  var handleEditQuestion = function handleEditQuestion(question) {
    setEditingQuestion(question);
    setShowQuestionForm(true);
  };
  var handleSaveQuestion = /*#__PURE__*/function () {
    var _ref10 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8(formData) {
      var updatedQuestion, newQuestion, _t2;
      return _regenerator().w(function (_context8) {
        while (1) switch (_context8.p = _context8.n) {
          case 0:
            _context8.p = 0;
            if (!editingQuestion) {
              _context8.n = 2;
              break;
            }
            updatedQuestion = _objectSpread(_objectSpread({}, editingQuestion), formData);
            _context8.n = 1;
            return db.put('questions', updatedQuestion);
          case 1:
            showToast('題目更新成功', 'success');
            _context8.n = 4;
            break;
          case 2:
            newQuestion = _objectSpread(_objectSpread({
              id: generateId()
            }, formData), {}, {
              order: questions.length + 1,
              archived: false
            });
            _context8.n = 3;
            return db.add('questions', newQuestion);
          case 3:
            showToast('題目新增成功', 'success');
          case 4:
            setShowQuestionForm(false);
            setEditingQuestion(null);
            loadData();
            _context8.n = 6;
            break;
          case 5:
            _context8.p = 5;
            _t2 = _context8.v;
            console.error('儲存題目失敗:', _t2);
            showToast('儲存題目失敗', 'error');
          case 6:
            return _context8.a(2);
        }
      }, _callee8, null, [[0, 5]]);
    }));
    return function handleSaveQuestion(_x0) {
      return _ref10.apply(this, arguments);
    };
  }();
  var handleDeleteQuestion = /*#__PURE__*/function () {
    var _ref11 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee9(questionId) {
      var _t3;
      return _regenerator().w(function (_context9) {
        while (1) switch (_context9.p = _context9.n) {
          case 0:
            if (!confirm('確定要刪除這個題目嗎？')) {
              _context9.n = 4;
              break;
            }
            _context9.p = 1;
            _context9.n = 2;
            return db["delete"]('questions', questionId);
          case 2:
            showToast('題目刪除成功', 'success');
            loadData();
            _context9.n = 4;
            break;
          case 3:
            _context9.p = 3;
            _t3 = _context9.v;
            console.error('刪除題目失敗:', _t3);
            showToast('刪除題目失敗', 'error');
          case 4:
            return _context9.a(2);
        }
      }, _callee9, null, [[1, 3]]);
    }));
    return function handleDeleteQuestion(_x1) {
      return _ref11.apply(this, arguments);
    };
  }();
  var handleReorderQuestions = /*#__PURE__*/function () {
    var _ref12 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee0(draggedId, targetId) {
      var draggedIndex, targetIndex, newQuestions, _newQuestions$splice, _newQuestions$splice2, draggedItem, updatedQuestions, _t4;
      return _regenerator().w(function (_context0) {
        while (1) switch (_context0.p = _context0.n) {
          case 0:
            _context0.p = 0;
            draggedIndex = questions.findIndex(function (q) {
              return q.id === draggedId;
            });
            targetIndex = questions.findIndex(function (q) {
              return q.id === targetId;
            });
            newQuestions = _toConsumableArray(questions);
            _newQuestions$splice = newQuestions.splice(draggedIndex, 1), _newQuestions$splice2 = _slicedToArray(_newQuestions$splice, 1), draggedItem = _newQuestions$splice2[0];
            newQuestions.splice(targetIndex, 0, draggedItem);

            // 更新順序
            updatedQuestions = newQuestions.map(function (q, index) {
              return _objectSpread(_objectSpread({}, q), {}, {
                order: index + 1
              });
            }); // 批量更新
            _context0.n = 1;
            return Promise.all(updatedQuestions.map(function (q) {
              return db.put('questions', q);
            }));
          case 1:
            setQuestions(updatedQuestions);
            showToast('題目順序更新成功', 'success');
            _context0.n = 3;
            break;
          case 2:
            _context0.p = 2;
            _t4 = _context0.v;
            console.error('更新題目順序失敗:', _t4);
            showToast('更新題目順序失敗', 'error');
          case 3:
            return _context0.a(2);
        }
      }, _callee0, null, [[0, 2]]);
    }));
    return function handleReorderQuestions(_x10, _x11) {
      return _ref12.apply(this, arguments);
    };
  }();
  var handleAddCategory = function handleAddCategory(layer) {
    setEditingCategory(null);
    setEditingLayer(layer);
    setShowCategoryForm(true);
  };
  var handleEditCategory = function handleEditCategory(category) {
    setEditingCategory(category);
    setEditingLayer(category.layer);
    setShowCategoryForm(true);
  };
  var handleSaveCategory = /*#__PURE__*/function () {
    var _ref13 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee1(formData) {
      var updatedCategory, newCategory, _t5;
      return _regenerator().w(function (_context1) {
        while (1) switch (_context1.p = _context1.n) {
          case 0:
            _context1.p = 0;
            if (!editingCategory) {
              _context1.n = 2;
              break;
            }
            updatedCategory = _objectSpread(_objectSpread({}, editingCategory), formData);
            _context1.n = 1;
            return db.put('categories', updatedCategory);
          case 1:
            showToast('分類更新成功', 'success');
            _context1.n = 4;
            break;
          case 2:
            newCategory = _objectSpread(_objectSpread({
              id: generateId()
            }, formData), {}, {
              layer: editingLayer,
              order: categories.filter(function (c) {
                return c.layer === editingLayer;
              }).length + 1
            });
            _context1.n = 3;
            return db.add('categories', newCategory);
          case 3:
            showToast('分類新增成功', 'success');
          case 4:
            setShowCategoryForm(false);
            setEditingCategory(null);
            setEditingLayer(null);
            loadData();
            _context1.n = 6;
            break;
          case 5:
            _context1.p = 5;
            _t5 = _context1.v;
            console.error('儲存分類失敗:', _t5);
            showToast('儲存分類失敗', 'error');
          case 6:
            return _context1.a(2);
        }
      }, _callee1, null, [[0, 5]]);
    }));
    return function handleSaveCategory(_x12) {
      return _ref13.apply(this, arguments);
    };
  }();
  var handleDeleteCategory = /*#__PURE__*/function () {
    var _ref14 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee10(categoryId) {
      var updatedQuestions, _t6;
      return _regenerator().w(function (_context10) {
        while (1) switch (_context10.p = _context10.n) {
          case 0:
            if (!confirm('確定要刪除這個分類嗎？相關的題目分類標籤也會被移除。')) {
              _context10.n = 5;
              break;
            }
            _context10.p = 1;
            _context10.n = 2;
            return db["delete"]('categories', categoryId);
          case 2:
            // 更新相關題目，移除此分類
            updatedQuestions = questions.map(function (q) {
              return _objectSpread(_objectSpread({}, q), {}, {
                categoryIds: q.categoryIds.filter(function (id) {
                  return id !== categoryId;
                })
              });
            });
            _context10.n = 3;
            return Promise.all(updatedQuestions.map(function (q) {
              return db.put('questions', q);
            }));
          case 3:
            showToast('分類刪除成功', 'success');
            loadData();
            _context10.n = 5;
            break;
          case 4:
            _context10.p = 4;
            _t6 = _context10.v;
            console.error('刪除分類失敗:', _t6);
            showToast('刪除分類失敗', 'error');
          case 5:
            return _context10.a(2);
        }
      }, _callee10, null, [[1, 4]]);
    }));
    return function handleDeleteCategory(_x13) {
      return _ref14.apply(this, arguments);
    };
  }();
  var handleSaveVersion = /*#__PURE__*/function () {
    var _ref15 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee11(name) {
      var version, _t7;
      return _regenerator().w(function (_context11) {
        while (1) switch (_context11.p = _context11.n) {
          case 0:
            _context11.p = 0;
            version = {
              id: generateId(),
              name: name,
              createdAt: new Date().toISOString(),
              settings: {
                orderMode: orderMode === 'random' ? 'RANDOM_ALL' : 'BY_CATEGORY',
                includeReligious: 'ALL'
              },
              snapshot: {
                categories: categories,
                questions: questions
              }
            };
            _context11.n = 1;
            return db.add('versions', version);
          case 1:
            showToast('版本儲存成功', 'success');
            loadData();
            _context11.n = 3;
            break;
          case 2:
            _context11.p = 2;
            _t7 = _context11.v;
            console.error('儲存版本失敗:', _t7);
            showToast('儲存版本失敗', 'error');
          case 3:
            return _context11.a(2);
        }
      }, _callee11, null, [[0, 2]]);
    }));
    return function handleSaveVersion(_x14) {
      return _ref15.apply(this, arguments);
    };
  }();
  var handleLoadVersion = /*#__PURE__*/function () {
    var _ref16 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee12(versionId) {
      var version, _t8;
      return _regenerator().w(function (_context12) {
        while (1) switch (_context12.p = _context12.n) {
          case 0:
            if (!confirm('載入版本會覆蓋目前的工作內容，確定要繼續嗎？')) {
              _context12.n = 7;
              break;
            }
            _context12.p = 1;
            _context12.n = 2;
            return db.get('versions', versionId);
          case 2:
            version = _context12.v;
            if (!version) {
              _context12.n = 5;
              break;
            }
            _context12.n = 3;
            return Promise.all([].concat(_toConsumableArray(categories.map(function (c) {
              return db["delete"]('categories', c.id);
            })), _toConsumableArray(questions.map(function (q) {
              return db["delete"]('questions', q.id);
            }))));
          case 3:
            _context12.n = 4;
            return Promise.all([].concat(_toConsumableArray(version.snapshot.categories.map(function (c) {
              return db.add('categories', c);
            })), _toConsumableArray(version.snapshot.questions.map(function (q) {
              return db.add('questions', q);
            }))));
          case 4:
            showToast('版本載入成功', 'success');
            loadData();
          case 5:
            _context12.n = 7;
            break;
          case 6:
            _context12.p = 6;
            _t8 = _context12.v;
            console.error('載入版本失敗:', _t8);
            showToast('載入版本失敗', 'error');
          case 7:
            return _context12.a(2);
        }
      }, _callee12, null, [[1, 6]]);
    }));
    return function handleLoadVersion(_x15) {
      return _ref16.apply(this, arguments);
    };
  }();
  var handleDeleteVersion = /*#__PURE__*/function () {
    var _ref17 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee13(versionId) {
      var _t9;
      return _regenerator().w(function (_context13) {
        while (1) switch (_context13.p = _context13.n) {
          case 0:
            if (!confirm('確定要刪除這個版本嗎？')) {
              _context13.n = 4;
              break;
            }
            _context13.p = 1;
            _context13.n = 2;
            return db["delete"]('versions', versionId);
          case 2:
            showToast('版本刪除成功', 'success');
            loadData();
            _context13.n = 4;
            break;
          case 3:
            _context13.p = 3;
            _t9 = _context13.v;
            console.error('刪除版本失敗:', _t9);
            showToast('刪除版本失敗', 'error');
          case 4:
            return _context13.a(2);
        }
      }, _callee13, null, [[1, 3]]);
    }));
    return function handleDeleteVersion(_x16) {
      return _ref17.apply(this, arguments);
    };
  }();
  var handleExportData = function handleExportData() {
    var exportData = {
      categories: categories,
      questions: questions,
      versions: versions,
      exportedAt: new Date().toISOString()
    };
    downloadJSON(exportData, "spiritual-survey-data-".concat(new Date().toISOString().split('T')[0], ".json"));
    showToast('資料匯出成功', 'success');
  };
  var handleImportData = /*#__PURE__*/function () {
    var _ref18 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee14(data) {
      var _t0;
      return _regenerator().w(function (_context14) {
        while (1) switch (_context14.p = _context14.n) {
          case 0:
            if (!confirm('匯入資料會覆蓋現有資料，確定要繼續嗎？')) {
              _context14.n = 7;
              break;
            }
            _context14.p = 1;
            _context14.n = 2;
            return Promise.all([].concat(_toConsumableArray(categories.map(function (c) {
              return db["delete"]('categories', c.id);
            })), _toConsumableArray(questions.map(function (q) {
              return db["delete"]('questions', q.id);
            })), _toConsumableArray(versions.map(function (v) {
              return db["delete"]('versions', v.id);
            }))));
          case 2:
            if (!data.categories) {
              _context14.n = 3;
              break;
            }
            _context14.n = 3;
            return Promise.all(data.categories.map(function (c) {
              return db.add('categories', c);
            }));
          case 3:
            if (!data.questions) {
              _context14.n = 4;
              break;
            }
            _context14.n = 4;
            return Promise.all(data.questions.map(function (q) {
              return db.add('questions', q);
            }));
          case 4:
            if (!data.versions) {
              _context14.n = 5;
              break;
            }
            _context14.n = 5;
            return Promise.all(data.versions.map(function (v) {
              return db.add('versions', v);
            }));
          case 5:
            showToast('資料匯入成功', 'success');
            loadData();
            _context14.n = 7;
            break;
          case 6:
            _context14.p = 6;
            _t0 = _context14.v;
            console.error('匯入資料失敗:', _t0);
            showToast('匯入資料失敗', 'error');
          case 7:
            return _context14.a(2);
        }
      }, _callee14, null, [[1, 6]]);
    }));
    return function handleImportData(_x17) {
      return _ref18.apply(this, arguments);
    };
  }();
  var handleGenerateSurvey = /*#__PURE__*/function () {
    var _ref19 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee15() {
      var versionName, version, _t1;
      return _regenerator().w(function (_context15) {
        while (1) switch (_context15.p = _context15.n) {
          case 0:
            _context15.p = 0;
            versionName = "\u554F\u5377\u7248\u672C-".concat(formatDate(new Date()));
            version = {
              id: generateId(),
              name: versionName,
              createdAt: new Date().toISOString(),
              settings: {
                orderMode: orderMode === 'random' ? 'RANDOM_ALL' : 'BY_CATEGORY',
                includeReligious: 'ALL'
              },
              snapshot: {
                categories: categories,
                questions: questions
              }
            };
            _context15.n = 1;
            return db.add('versions', version);
          case 1:
            showToast('問卷生成成功', 'success');

            // 導向問卷頁面
            onNavigateToSurvey(version.id);
            _context15.n = 3;
            break;
          case 2:
            _context15.p = 2;
            _t1 = _context15.v;
            console.error('生成問卷失敗:', _t1);
            showToast('生成問卷失敗', 'error');
          case 3:
            return _context15.a(2);
        }
      }, _callee15, null, [[0, 2]]);
    }));
    return function handleGenerateSurvey() {
      return _ref19.apply(this, arguments);
    };
  }();
  if (loading) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen bg-gray-50 flex items-center justify-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-center"
    }, /*#__PURE__*/React.createElement(LoadingSpinner, {
      size: "large"
    }), /*#__PURE__*/React.createElement("p", {
      className: "mt-4 text-gray-600"
    }, "\u8F09\u5165\u4E2D...")));
  }
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-50"
  }, /*#__PURE__*/React.createElement("div", {
    className: "container mx-auto px-4 py-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-6"
  }, /*#__PURE__*/React.createElement("h1", {
    className: "text-3xl font-bold text-gray-900 mb-2"
  }, "\u9748\u6027\u4FEE\u990A\u554F\u5377\u7DE8\u8F2F\u7CFB\u7D71"), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600"
  }, "\u7BA1\u7406\u5206\u985E\u3001\u7DE8\u8F2F\u984C\u76EE\u3001\u9810\u89BD\u554F\u5377")), /*#__PURE__*/React.createElement("div", {
    className: "mb-6 bg-white p-4 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap items-center justify-between gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center space-x-4"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleAddQuestion,
    className: "bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700"
  }, "\u65B0\u589E\u984C\u76EE"), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center space-x-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "text-sm text-gray-700"
  }, "\u9810\u89BD\u9806\u5E8F:"), /*#__PURE__*/React.createElement("select", {
    value: orderMode,
    onChange: function onChange(e) {
      return setOrderMode(e.target.value);
    },
    className: "px-3 py-1 border border-gray-300 rounded text-sm"
  }, /*#__PURE__*/React.createElement("option", {
    value: "category"
  }, "\u6309\u5206\u985E\u9806\u5E8F"), /*#__PURE__*/React.createElement("option", {
    value: "random"
  }, "\u96A8\u6A5F\u5316\u9810\u89BD")))), /*#__PURE__*/React.createElement(VersionManager, {
    versions: versions,
    onLoadVersion: handleLoadVersion,
    onSaveVersion: handleSaveVersion,
    onDeleteVersion: handleDeleteVersion,
    onExportData: handleExportData,
    onImportData: handleImportData
  }))), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 lg:grid-cols-12 gap-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-4 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-lg font-semibold text-gray-800 mb-4"
  }, "\u5206\u985E\u7BA1\u7406"), /*#__PURE__*/React.createElement(CategoryTree, {
    categories: categories,
    selectedCategoryId: selectedCategoryId,
    onCategorySelect: setSelectedCategoryId,
    onAddCategory: handleAddCategory,
    onEditCategory: handleEditCategory,
    onDeleteCategory: handleDeleteCategory
  }))), /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-5"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-4 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-lg font-semibold text-gray-800 mb-4"
  }, "\u984C\u76EE\u7BA1\u7406"), /*#__PURE__*/React.createElement(QuestionTable, {
    questions: questions,
    categories: categories,
    onEditQuestion: handleEditQuestion,
    onDeleteQuestion: handleDeleteQuestion,
    onReorderQuestions: handleReorderQuestions
  }))), /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-4 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement(PreviewPane, {
    questions: questions,
    categories: categories,
    orderMode: orderMode,
    onGenerateSurvey: handleGenerateSurvey
  }))))), /*#__PURE__*/React.createElement(Modal, {
    isOpen: showQuestionForm,
    onClose: function onClose() {
      setShowQuestionForm(false);
      setEditingQuestion(null);
    },
    title: editingQuestion ? '編輯題目' : '新增題目',
    size: "large"
  }, /*#__PURE__*/React.createElement(QuestionForm, {
    question: editingQuestion,
    categories: categories,
    onSave: handleSaveQuestion,
    onCancel: function onCancel() {
      setShowQuestionForm(false);
      setEditingQuestion(null);
    }
  })), /*#__PURE__*/React.createElement(Modal, {
    isOpen: showCategoryForm,
    onClose: function onClose() {
      setShowCategoryForm(false);
      setEditingCategory(null);
      setEditingLayer(null);
    },
    title: editingCategory ? '編輯分類' : '新增分類'
  }, /*#__PURE__*/React.createElement(CategoryForm, {
    category: editingCategory,
    layer: editingLayer,
    onSave: handleSaveCategory,
    onCancel: function onCancel() {
      setShowCategoryForm(false);
      setEditingCategory(null);
      setEditingLayer(null);
    }
  })), toast && /*#__PURE__*/React.createElement(Toast, {
    message: toast.message,
    type: toast.type,
    onClose: function onClose() {
      return setToast(null);
    }
  }));
};

// 問卷作答頁面
var SurveyPage = function SurveyPage(_ref20) {
  var versionId = _ref20.versionId,
    onNavigateToBuilder = _ref20.onNavigateToBuilder;
  var _useState43 = useState(null),
    _useState44 = _slicedToArray(_useState43, 2),
    version = _useState44[0],
    setVersion = _useState44[1];
  var _useState45 = useState('survey'),
    _useState46 = _slicedToArray(_useState45, 2),
    currentStep = _useState46[0],
    setCurrentStep = _useState46[1]; // 'survey' | 'demographics' | 'results'
  var _useState47 = useState({}),
    _useState48 = _slicedToArray(_useState47, 2),
    answers = _useState48[0],
    setAnswers = _useState48[1];
  var _useState49 = useState({
      name: '',
      birth: '',
      gender: '男性',
      nationality: '',
      city: '',
      profession: '',
      education: '大學',
      marital: '未婚',
      religion: '無宗教信仰',
      religionOther: '',
      living: '與親屬同住',
      livingOther: '',
      testDate: new Date().toISOString().split('T')[0]
    }),
    _useState50 = _slicedToArray(_useState49, 2),
    demographics = _useState50[0],
    setDemographics = _useState50[1];
  var _useState51 = useState(null),
    _useState52 = _slicedToArray(_useState51, 2),
    analysisResult = _useState52[0],
    setAnalysisResult = _useState52[1];
  var _useState53 = useState(true),
    _useState54 = _slicedToArray(_useState53, 2),
    loading = _useState54[0],
    setLoading = _useState54[1];
  var _useState55 = useState(null),
    _useState56 = _slicedToArray(_useState55, 2),
    toast = _useState56[0],
    setToast = _useState56[1];
  var showToast = function showToast(message) {
    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';
    setToast({
      message: message,
      type: type,
      id: Date.now()
    });
  };
  useEffect(function () {
    loadVersion();
  }, [versionId]);
  var loadVersion = /*#__PURE__*/function () {
    var _ref21 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee16() {
      var versionData, _t10;
      return _regenerator().w(function (_context16) {
        while (1) switch (_context16.p = _context16.n) {
          case 0:
            _context16.p = 0;
            if (versionId) {
              _context16.n = 1;
              break;
            }
            showToast('未指定問卷版本', 'error');
            return _context16.a(2);
          case 1:
            _context16.n = 2;
            return db.get('versions', versionId);
          case 2:
            versionData = _context16.v;
            if (versionData) {
              _context16.n = 3;
              break;
            }
            showToast('找不到指定的問卷版本', 'error');
            return _context16.a(2);
          case 3:
            setVersion(versionData);
            _context16.n = 5;
            break;
          case 4:
            _context16.p = 4;
            _t10 = _context16.v;
            console.error('載入問卷版本失敗:', _t10);
            showToast('載入問卷版本失敗', 'error');
          case 5:
            _context16.p = 5;
            setLoading(false);
            return _context16.f(5);
          case 6:
            return _context16.a(2);
        }
      }, _callee16, null, [[0, 4, 5, 6]]);
    }));
    return function loadVersion() {
      return _ref21.apply(this, arguments);
    };
  }();
  var handleAnswerChange = function handleAnswerChange(questionId, value) {
    setAnswers(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, questionId, parseInt(value)));
    });
  };
  var handleSurveySubmit = function handleSurveySubmit() {
    var questions = version.snapshot.questions;
    var unansweredQuestions = questions.filter(function (q) {
      return !answers[q.id];
    });
    if (unansweredQuestions.length > 0) {
      alert("\u9084\u6709 ".concat(unansweredQuestions.length, " \u984C\u672A\u4F5C\u7B54\uFF0C\u8ACB\u5B8C\u6210\u6240\u6709\u984C\u76EE\u3002"));
      return;
    }
    setCurrentStep('demographics');
  };
  var handleDemographicsSubmit = /*#__PURE__*/function () {
    var _ref22 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee17(e) {
      var requiredFields, missingFields, response, analysis, _t11;
      return _regenerator().w(function (_context17) {
        while (1) switch (_context17.p = _context17.n) {
          case 0:
            e.preventDefault();

            // 驗證必填欄位
            requiredFields = ['name', 'birth', 'nationality', 'city', 'profession'];
            missingFields = requiredFields.filter(function (field) {
              return !demographics[field].trim();
            });
            if (!(missingFields.length > 0)) {
              _context17.n = 1;
              break;
            }
            alert('請填寫所有必填欄位');
            return _context17.a(2);
          case 1:
            _context17.p = 1;
            // 儲存回覆
            response = {
              id: generateId(),
              versionId: version.id,
              answers: Object.entries(answers).map(function (_ref23) {
                var _ref24 = _slicedToArray(_ref23, 2),
                  questionId = _ref24[0],
                  value = _ref24[1];
                return {
                  questionId: questionId,
                  value: value
                };
              }),
              demographics: demographics,
              createdAt: new Date().toISOString(),
              client: {
                ua: navigator.userAgent,
                tz: Intl.DateTimeFormat().resolvedOptions().timeZone
              }
            };
            _context17.n = 2;
            return db.add('responses', response);
          case 2:
            // 計算分析結果
            analysis = calculateAnalysis(version.snapshot, answers);
            setAnalysisResult(analysis);
            setCurrentStep('results');
            showToast('問卷提交成功', 'success');
            _context17.n = 4;
            break;
          case 3:
            _context17.p = 3;
            _t11 = _context17.v;
            console.error('提交問卷失敗:', _t11);
            showToast('提交問卷失敗', 'error');
          case 4:
            return _context17.a(2);
        }
      }, _callee17, null, [[1, 3]]);
    }));
    return function handleDemographicsSubmit(_x18) {
      return _ref22.apply(this, arguments);
    };
  }();
  var calculateAnalysis = function calculateAnalysis(snapshot, answers) {
    var categories = snapshot.categories,
      questions = snapshot.questions;

    // 計算各維度平均分
    var calculateDimensionScore = function calculateDimensionScore(categoryIds) {
      var relevantQuestions = questions.filter(function (q) {
        return q.categoryIds.some(function (catId) {
          return categoryIds.includes(catId);
        });
      });
      if (relevantQuestions.length === 0) return null;
      var scores = relevantQuestions.map(function (q) {
        return answers[q.id];
      }).filter(function (score) {
        return score;
      });
      if (scores.length === 0) return null;
      return scores.reduce(function (sum, score) {
        return sum + score;
      }, 0) / scores.length;
    };

    // 靈性修養七面向
    var facets = categories.filter(function (c) {
      return c.layer === LayerTypes.FACETS_7;
    }).map(function (c) {
      return {
        name: c.name,
        score: calculateDimensionScore([c.id])
      };
    });

    // 靈性健康十核心指標
    var indicators = categories.filter(function (c) {
      return c.layer === LayerTypes.INDICATORS_10;
    }).map(function (c) {
      return {
        name: c.name,
        score: calculateDimensionScore([c.id]),
        isReligious: c.isReligious
      };
    });

    // 靈修七原則
    var principles = categories.filter(function (c) {
      return c.layer === LayerTypes.PRINCIPLES_7;
    }).map(function (c) {
      return {
        name: c.name,
        score: calculateDimensionScore([c.id])
      };
    });
    return {
      facets: facets,
      indicators: indicators,
      principles: principles,
      totalQuestions: questions.length,
      answeredQuestions: Object.keys(answers).length
    };
  };
  var getScoreInterpretation = function getScoreInterpretation(score) {
    if (score === null) return {
      level: '未評',
      color: 'gray',
      suggestion: '此面向沒有相關題目'
    };
    if (score < 3) return {
      level: '待加強',
      color: 'red',
      suggestion: '此面向目前偏低，建議從日常覺察和具體行動開始，逐步培養相關的靈性修養。'
    };
    if (score < 4.5) return {
      level: '良好',
      color: 'yellow',
      suggestion: '具備一定基礎，可進一步在日常生活中練習，深化這方面的靈性修養。'
    };
    return {
      level: '優秀',
      color: 'green',
      suggestion: '表現良好，請繼續維持並嘗試引導他人，共學共好。'
    };
  };
  var downloadResults = function downloadResults() {
    var resultsData = {
      demographics: demographics,
      answers: answers,
      analysisResult: analysisResult,
      version: {
        id: version.id,
        name: version.name
      },
      completedAt: new Date().toISOString()
    };
    downloadJSON(resultsData, "spiritual-survey-results-".concat(demographics.name, "-").concat(new Date().toISOString().split('T')[0], ".json"));
  };
  if (loading) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen bg-gray-50 flex items-center justify-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-center"
    }, /*#__PURE__*/React.createElement(LoadingSpinner, {
      size: "large"
    }), /*#__PURE__*/React.createElement("p", {
      className: "mt-4 text-gray-600"
    }, "\u8F09\u5165\u554F\u5377\u4E2D...")));
  }
  if (!version) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen bg-gray-50 flex items-center justify-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-center"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-gray-600 mb-4"
    }, "\u7121\u6CD5\u8F09\u5165\u554F\u5377"), /*#__PURE__*/React.createElement("button", {
      onClick: onNavigateToBuilder,
      className: "bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700"
    }, "\u8FD4\u56DE\u7DE8\u8F2F\u5668")));
  }
  var questions = version.snapshot.questions;
  var orderedQuestions = version.settings.orderMode === 'RANDOM_ALL' ? _toConsumableArray(questions).sort(function () {
    return Math.random() - 0.5;
  }) : _toConsumableArray(questions).sort(function (a, b) {
    return a.order - b.order;
  });
  var scaleLabels = ['1 完全不符合', '2 很不符合', '3 不太符合', '4 有點符合', '5 很符合', '6 完全符合'];
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-50"
  }, /*#__PURE__*/React.createElement("div", {
    className: "container mx-auto px-4 py-6 max-w-4xl"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-8 text-center"
  }, /*#__PURE__*/React.createElement("h1", {
    className: "text-3xl font-bold text-gray-900 mb-2"
  }, "\u9748\u6027\u4FEE\u990A\u554F\u5377"), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600"
  }, "\u7248\u672C\uFF1A", version.name)), currentStep === 'survey' && /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-8 p-6 bg-blue-50 rounded-lg"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-blue-800 leading-relaxed"
  }, "\u60A8\u662F\u5426\u66FE\u60F3\u904E\uFF1A\u6211\u7684\u884C\u7A0B\u6EFF\u6A94\uFF0C\u70BA\u4EC0\u9EBC\u5167\u5FC3\u6DF1\u8655\u4ECD\u6703\u611F\u5230\u7A7A\u865B\uFF1F\u4E0D\u592A\u78BA\u5B9A\u4EBA\u751F\u7684\u76EE\u6A19\u8207\u610F\u7FA9\u611F\uFF1F\u6211\u7684\u5167\u5FC3\u8207\u4EBA\u969B\u95DC\u4FC2\u70BA\u4F55\u5E38\u6709\u4E00\u4E9B\u885D\u7A81\u4E0D\u548C\u8AE7\u7684\u5730\u65B9\uFF1F\u60F3\u8655\u7406\u9019\u4E9B\u554F\u984C\uFF0C\u8B93\u81EA\u5DF1\u904E\u5F97\u66F4\u5145\u5BE6\u6EFF\u8DB3\uFF0C\u537B\u4E0D\u77E5\u9053\u5F9E\u54EA\u88E1\u958B\u59CB\uFF1F\u2014\u2014\u6216\u8A31\uFF0C\u662F\u6642\u5019\u4F86\u7167\u9867\u81EA\u5DF1\u7684\u300C\u9748\u6027\u5065\u5EB7\u300D\u4E86\uFF01\u9748\u6027\u5065\u5EB7\u6307\u7684\u662F\u4E00\u500B\u4EBA\u5167\u5728\u662F\u5426\u5B89\u5B9A\u3001\u660E\u767D\u751F\u547D\u7684\u610F\u7FA9\uFF0C\u80FD\u8207\u81EA\u5DF1\u3001\u4ED6\u4EBA\u3001\u81EA\u7136\u53CA\u66F4\u5927\u7684\u751F\u547D\u9023\u7D50\uFF0C\u5EFA\u7ACB\u548C\u8AE7\u7684\u95DC\u4FC2\u3002\u5B83\u8B93\u6211\u5011\u5728\u56F0\u96E3\u4E2D\u4E0D\u8FF7\u5931\uFF0C\u5728\u65E5\u5E38\u4E2D\u627E\u56DE\u5E73\u975C\u8207\u5E0C\u671B\u3002")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-8"
  }, orderedQuestions.map(function (question, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: question.id,
      className: "border-b border-gray-200 pb-6"
    }, /*#__PURE__*/React.createElement("p", {
      className: "mb-4 text-gray-900 font-medium"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-gray-500 mr-2"
    }, index + 1, "."), question.text), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"
    }, scaleLabels.map(function (label, scaleIndex) {
      return /*#__PURE__*/React.createElement("label", {
        key: scaleIndex,
        className: "flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded"
      }, /*#__PURE__*/React.createElement("input", {
        type: "radio",
        name: "question-".concat(question.id),
        value: scaleIndex + 1,
        checked: answers[question.id] === scaleIndex + 1,
        onChange: function onChange(e) {
          return handleAnswerChange(question.id, e.target.value);
        },
        className: "text-indigo-600 focus:ring-indigo-500"
      }), /*#__PURE__*/React.createElement("span", {
        className: "text-sm text-gray-700"
      }, label));
    })));
  })), /*#__PURE__*/React.createElement("div", {
    className: "mt-8 text-center"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleSurveySubmit,
    className: "bg-indigo-600 text-white px-8 py-3 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, "\u5B8C\u6210\u554F\u5377\uFF0C\u586B\u5BEB\u57FA\u672C\u8CC7\u6599"))), currentStep === 'demographics' && /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-900 mb-6"
  }, "\u57FA\u672C\u8CC7\u6599"), /*#__PURE__*/React.createElement("form", {
    onSubmit: handleDemographicsSubmit,
    className: "space-y-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-2 gap-6"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u59D3\u540D *"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: demographics.name,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        name: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    required: true
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u751F\u65E5 *"), /*#__PURE__*/React.createElement("input", {
    type: "date",
    value: demographics.birth,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        birth: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    required: true
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u6027\u5225"), /*#__PURE__*/React.createElement("select", {
    value: demographics.gender,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        gender: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: "\u7537\u6027"
  }, "\u7537\u6027"), /*#__PURE__*/React.createElement("option", {
    value: "\u5973\u6027"
  }, "\u5973\u6027"), /*#__PURE__*/React.createElement("option", {
    value: "\u5176\u4ED6"
  }, "\u5176\u4ED6"))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u570B\u7C4D *"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: demographics.nationality,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        nationality: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    required: true
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u76EE\u524D\u5C45\u4F4F\u57CE\u5E02 *"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: demographics.city,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        city: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    required: true
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u8077\u696D *"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: demographics.profession,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        profession: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",
    required: true
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u6559\u80B2\u7A0B\u5EA6"), /*#__PURE__*/React.createElement("select", {
    value: demographics.education,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        education: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: "\u570B\u5C0F\u53CA\u4EE5\u4E0B"
  }, "\u570B\u5C0F\u53CA\u4EE5\u4E0B"), /*#__PURE__*/React.createElement("option", {
    value: "\u570B\u4E2D"
  }, "\u570B\u4E2D"), /*#__PURE__*/React.createElement("option", {
    value: "\u9AD8\u4E2D\u8077"
  }, "\u9AD8\u4E2D\u8077"), /*#__PURE__*/React.createElement("option", {
    value: "\u5C08\u79D1"
  }, "\u5C08\u79D1"), /*#__PURE__*/React.createElement("option", {
    value: "\u5927\u5B78"
  }, "\u5927\u5B78"), /*#__PURE__*/React.createElement("option", {
    value: "\u78A9\u58EB"
  }, "\u78A9\u58EB"), /*#__PURE__*/React.createElement("option", {
    value: "\u535A\u58EB"
  }, "\u535A\u58EB"))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5A5A\u59FB\u72C0\u6CC1"), /*#__PURE__*/React.createElement("select", {
    value: demographics.marital,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        marital: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: "\u672A\u5A5A"
  }, "\u672A\u5A5A"), /*#__PURE__*/React.createElement("option", {
    value: "\u5DF2\u5A5A"
  }, "\u5DF2\u5A5A"), /*#__PURE__*/React.createElement("option", {
    value: "\u96E2\u5A5A"
  }, "\u96E2\u5A5A"), /*#__PURE__*/React.createElement("option", {
    value: "\u55AA\u5076"
  }, "\u55AA\u5076"))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5B97\u6559\u4FE1\u4EF0"), /*#__PURE__*/React.createElement("select", {
    value: demographics.religion,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        religion: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: "\u7121\u5B97\u6559\u4FE1\u4EF0"
  }, "\u7121\u5B97\u6559\u4FE1\u4EF0"), /*#__PURE__*/React.createElement("option", {
    value: "\u4F5B\u6559"
  }, "\u4F5B\u6559"), /*#__PURE__*/React.createElement("option", {
    value: "\u9053\u6559"
  }, "\u9053\u6559"), /*#__PURE__*/React.createElement("option", {
    value: "\u57FA\u7763\u6559"
  }, "\u57FA\u7763\u6559"), /*#__PURE__*/React.createElement("option", {
    value: "\u5929\u4E3B\u6559"
  }, "\u5929\u4E3B\u6559"), /*#__PURE__*/React.createElement("option", {
    value: "\u4F0A\u65AF\u862D\u6559"
  }, "\u4F0A\u65AF\u862D\u6559"), /*#__PURE__*/React.createElement("option", {
    value: "\u5176\u4ED6"
  }, "\u5176\u4ED6"))), demographics.religion === '其他' && /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5176\u4ED6\u5B97\u6559\u4FE1\u4EF0"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: demographics.religionOther,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        religionOther: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5C45\u4F4F\u72C0\u6CC1"), /*#__PURE__*/React.createElement("select", {
    value: demographics.living,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        living: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, /*#__PURE__*/React.createElement("option", {
    value: "\u7368\u5C45"
  }, "\u7368\u5C45"), /*#__PURE__*/React.createElement("option", {
    value: "\u8207\u89AA\u5C6C\u540C\u4F4F"
  }, "\u8207\u89AA\u5C6C\u540C\u4F4F"), /*#__PURE__*/React.createElement("option", {
    value: "\u8207\u975E\u89AA\u5C6C\u540C\u4F4F"
  }, "\u8207\u975E\u89AA\u5C6C\u540C\u4F4F"), /*#__PURE__*/React.createElement("option", {
    value: "\u5176\u4ED6"
  }, "\u5176\u4ED6"))), demographics.living === '其他' && /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5176\u4ED6\u5C45\u4F4F\u72C0\u6CC1"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: demographics.livingOther,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        livingOther: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u6AA2\u6E2C\u65E5\u671F"), /*#__PURE__*/React.createElement("input", {
    type: "date",
    value: demographics.testDate,
    onChange: function onChange(e) {
      return setDemographics(_objectSpread(_objectSpread({}, demographics), {}, {
        testDate: e.target.value
      }));
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "text-center"
  }, /*#__PURE__*/React.createElement("button", {
    type: "submit",
    className: "bg-indigo-600 text-white px-8 py-3 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
  }, "\u63D0\u4EA4\u4E26\u67E5\u770B\u7D50\u679C")))), currentStep === 'results' && analysisResult && /*#__PURE__*/React.createElement("div", {
    className: "space-y-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "text-center"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-900 mb-2"
  }, "\u6AA2\u6E2C\u5B8C\u6210"), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600 mb-4"
  }, "\u611F\u8B1D\u60A8\u5B8C\u6210\u9748\u6027\u4FEE\u990A\u554F\u5377"), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-center space-x-8 text-sm text-gray-500"
  }, /*#__PURE__*/React.createElement("span", null, "\u7248\u672C\uFF1A", version.name), /*#__PURE__*/React.createElement("span", null, "\u5B8C\u6210\u6642\u9593\uFF1A", formatDate(new Date())), /*#__PURE__*/React.createElement("span", null, "\u984C\u76EE\u6578\uFF1A", analysisResult.totalQuestions)))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-gray-900 mb-6"
  }, "\u9748\u6027\u4FEE\u990A\u4E03\u9762\u5411"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, analysisResult.facets.map(function (facet, index) {
    var interpretation = getScoreInterpretation(facet.score);
    return /*#__PURE__*/React.createElement("div", {
      key: index,
      className: "border border-gray-200 rounded-lg p-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center justify-between mb-2"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-medium text-gray-900"
    }, facet.name), /*#__PURE__*/React.createElement("div", {
      className: "flex items-center space-x-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "px-2 py-1 rounded text-sm font-medium ".concat(interpretation.color === 'red' ? 'bg-red-100 text-red-800' : interpretation.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' : interpretation.color === 'green' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800')
    }, interpretation.level), /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-lg"
    }, facet.score ? facet.score.toFixed(1) : 'N/A'))), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-600"
    }, interpretation.suggestion));
  }))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-gray-900 mb-6"
  }, "\u9748\u6027\u5065\u5EB7\u5341\u6838\u5FC3\u6307\u6A19"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, analysisResult.indicators.map(function (indicator, index) {
    var interpretation = getScoreInterpretation(indicator.score);
    return /*#__PURE__*/React.createElement("div", {
      key: index,
      className: "border border-gray-200 rounded-lg p-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center justify-between mb-2"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center space-x-2"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-medium text-gray-900"
    }, indicator.name), indicator.isReligious && /*#__PURE__*/React.createElement("span", {
      className: "px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded"
    }, "\u5B97\u6559\u6027")), /*#__PURE__*/React.createElement("div", {
      className: "flex items-center space-x-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "px-2 py-1 rounded text-sm font-medium ".concat(interpretation.color === 'red' ? 'bg-red-100 text-red-800' : interpretation.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' : interpretation.color === 'green' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800')
    }, interpretation.level), /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-lg"
    }, indicator.score ? indicator.score.toFixed(1) : 'N/A'))), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-600"
    }, interpretation.suggestion));
  }))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-gray-900 mb-6"
  }, "\u9748\u4FEE\u4E03\u539F\u5247"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, analysisResult.principles.map(function (principle, index) {
    var interpretation = getScoreInterpretation(principle.score);
    return /*#__PURE__*/React.createElement("div", {
      key: index,
      className: "border border-gray-200 rounded-lg p-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center justify-between mb-2"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-medium text-gray-900"
    }, principle.name), /*#__PURE__*/React.createElement("div", {
      className: "flex items-center space-x-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "px-2 py-1 rounded text-sm font-medium ".concat(interpretation.color === 'red' ? 'bg-red-100 text-red-800' : interpretation.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' : interpretation.color === 'green' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800')
    }, interpretation.level), /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-lg"
    }, principle.score ? principle.score.toFixed(1) : 'N/A'))), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-600"
    }, interpretation.suggestion));
  }))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-lg p-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap justify-center gap-4"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: downloadResults,
    className: "bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700"
  }, "\u4E0B\u8F09\u7D50\u679C"), /*#__PURE__*/React.createElement("button", {
    onClick: onNavigateToBuilder,
    className: "bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700"
  }, "\u8FD4\u56DE\u7DE8\u8F2F\u5668")))), toast && /*#__PURE__*/React.createElement(Toast, {
    message: toast.message,
    type: toast.type,
    onClose: function onClose() {
      return setToast(null);
    }
  })));
};

// 主應用組件
var App = function App() {
  var _useState57 = useState('builder'),
    _useState58 = _slicedToArray(_useState57, 2),
    currentPage = _useState58[0],
    setCurrentPage = _useState58[1]; // 'builder' | 'survey'
  var _useState59 = useState(null),
    _useState60 = _slicedToArray(_useState59, 2),
    surveyVersionId = _useState60[0],
    setSurveyVersionId = _useState60[1];
  var _useState61 = useState(false),
    _useState62 = _slicedToArray(_useState61, 2),
    initialized = _useState62[0],
    setInitialized = _useState62[1];
  useEffect(function () {
    initializeApp();
  }, []);
  var initializeApp = /*#__PURE__*/function () {
    var _ref25 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee18() {
      var categories, questions, urlParams, versionId, _t12;
      return _regenerator().w(function (_context18) {
        while (1) switch (_context18.p = _context18.n) {
          case 0:
            _context18.p = 0;
            _context18.n = 1;
            return db.init();
          case 1:
            _context18.n = 2;
            return db.getAll('categories');
          case 2:
            categories = _context18.v;
            _context18.n = 3;
            return db.getAll('questions');
          case 3:
            questions = _context18.v;
            if (!(categories.length === 0)) {
              _context18.n = 4;
              break;
            }
            _context18.n = 4;
            return Promise.all(INITIAL_CATEGORIES.map(function (cat) {
              return db.add('categories', cat);
            }));
          case 4:
            if (!(questions.length === 0)) {
              _context18.n = 5;
              break;
            }
            _context18.n = 5;
            return Promise.all(INITIAL_QUESTIONS.map(function (q) {
              return db.add('questions', q);
            }));
          case 5:
            // 檢查 URL 參數
            urlParams = new URLSearchParams(window.location.hash.split('?')[1]);
            versionId = urlParams.get('version');
            if (versionId) {
              setSurveyVersionId(versionId);
              setCurrentPage('survey');
            }
            setInitialized(true);
            _context18.n = 7;
            break;
          case 6:
            _context18.p = 6;
            _t12 = _context18.v;
            console.error('應用初始化失敗:', _t12);
            alert('應用初始化失敗，請重新整理頁面');
          case 7:
            return _context18.a(2);
        }
      }, _callee18, null, [[0, 6]]);
    }));
    return function initializeApp() {
      return _ref25.apply(this, arguments);
    };
  }();
  var navigateToSurvey = function navigateToSurvey(versionId) {
    setSurveyVersionId(versionId);
    setCurrentPage('survey');
    window.location.hash = "#survey?version=".concat(versionId);
  };
  var navigateToBuilder = function navigateToBuilder() {
    setCurrentPage('builder');
    setSurveyVersionId(null);
    window.location.hash = '#builder';
  };
  if (!initialized) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen bg-gray-50 flex items-center justify-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-center"
    }, /*#__PURE__*/React.createElement(LoadingSpinner, {
      size: "large"
    }), /*#__PURE__*/React.createElement("p", {
      className: "mt-4 text-gray-600"
    }, "\u7CFB\u7D71\u521D\u59CB\u5316\u4E2D...")));
  }
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-50"
  }, currentPage === 'builder' && /*#__PURE__*/React.createElement(BuilderPage, {
    onNavigateToSurvey: navigateToSurvey
  }), currentPage === 'survey' && /*#__PURE__*/React.createElement(SurveyPage, {
    versionId: surveyVersionId,
    onNavigateToBuilder: navigateToBuilder
  }));
};

// 渲染應用
ReactDOM.render(/*#__PURE__*/React.createElement(App, null), document.getElementById('root'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlIiwidCIsInIiLCJTeW1ib2wiLCJuIiwiaXRlcmF0b3IiLCJvIiwidG9TdHJpbmdUYWciLCJpIiwiYyIsInByb3RvdHlwZSIsIkdlbmVyYXRvciIsInUiLCJPYmplY3QiLCJjcmVhdGUiLCJfcmVnZW5lcmF0b3JEZWZpbmUyIiwiZiIsInAiLCJ5IiwiRyIsInYiLCJhIiwiZCIsImJpbmQiLCJsZW5ndGgiLCJsIiwiVHlwZUVycm9yIiwiY2FsbCIsImRvbmUiLCJ2YWx1ZSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGlzcGxheU5hbWUiLCJfcmVnZW5lcmF0b3IiLCJ3IiwibSIsImRlZmluZVByb3BlcnR5IiwiX3JlZ2VuZXJhdG9yRGVmaW5lIiwiX2ludm9rZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbmV4dCIsIl90aHJvdyIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJfdG9QcmltaXRpdmUiLCJfdHlwZW9mIiwidG9QcmltaXRpdmUiLCJTdHJpbmciLCJOdW1iZXIiLCJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUmVmIiwiTGF5ZXJUeXBlcyIsIkZBQ0VUU183IiwiSU5ESUNBVE9SU18xMCIsIlBSSU5DSVBMRVNfNyIsIlBSQUNUSUNFUyIsIkRhdGFiYXNlTWFuYWdlciIsImRiTmFtZSIsInZlcnNpb24iLCJkYiIsIl9pbml0IiwiX2NhbGxlZSIsIl90aGlzIiwiX2NvbnRleHQiLCJyZWplY3QiLCJyZXF1ZXN0IiwiaW5kZXhlZERCIiwib3BlbiIsIm9uZXJyb3IiLCJlcnJvciIsIm9uc3VjY2VzcyIsInJlc3VsdCIsIm9udXBncmFkZW5lZWRlZCIsImV2ZW50IiwidGFyZ2V0Iiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwiY2F0ZWdvcnlTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwicXVlc3Rpb25TdG9yZSIsInJlc3BvbnNlU3RvcmUiLCJpbml0IiwiX2dldEFsbCIsIl9jYWxsZWUyIiwic3RvcmVOYW1lIiwidHJhbnNhY3Rpb24iLCJzdG9yZSIsIl9jb250ZXh0MiIsIm9iamVjdFN0b3JlIiwiZ2V0QWxsIiwiX3giLCJfYWRkIiwiX2NhbGxlZTMiLCJkYXRhIiwiX2NvbnRleHQzIiwiYWRkIiwiX3gyIiwiX3gzIiwiX3B1dCIsIl9jYWxsZWU0IiwiX2NvbnRleHQ0IiwicHV0IiwiX3g0IiwiX3g1IiwiX2RlbGV0ZTIiLCJfY2FsbGVlNSIsImlkIiwiX2NvbnRleHQ1IiwiZGVsZXRlIiwiX3g2IiwiX3g3IiwiX2dldCIsIl9jYWxsZWU2IiwiX2NvbnRleHQ2IiwiZ2V0IiwiX3g4IiwiX3g5IiwiSU5JVElBTF9DQVRFR09SSUVTIiwibGF5ZXIiLCJuYW1lIiwicGFyZW50SWQiLCJvcmRlciIsImlzUmVsaWdpb3VzIiwiSU5JVElBTF9RVUVTVElPTlMiLCJ0ZXh0IiwiY2F0ZWdvcnlJZHMiLCJnZW5lcmF0ZUlkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImRvd25sb2FkSlNPTiIsImZpbGVuYW1lIiwiYmxvYiIsIkJsb2IiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJkb3dubG9hZENTViIsImNzdiIsImNvbnZlcnRUb0NTViIsImhlYWRlcnMiLCJrZXlzIiwiY3N2Q29udGVudCIsImpvaW4iLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJtYXAiLCJyb3ciLCJoZWFkZXIiLCJyZXBsYWNlIiwiVG9hc3QiLCJfcmVmIiwibWVzc2FnZSIsIm9uQ2xvc2UiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJiZ0NvbG9yIiwic3VjY2VzcyIsIndhcm5pbmciLCJpbmZvIiwiY2xhc3NOYW1lIiwib25DbGljayIsIkxvYWRpbmdTcGlubmVyIiwiX3JlZjIiLCJfcmVmMiRzaXplIiwic2l6ZSIsInNpemVDbGFzcyIsInNtYWxsIiwibWVkaXVtIiwibGFyZ2UiLCJNb2RhbCIsIl9yZWYzIiwiaXNPcGVuIiwidGl0bGUiLCJjaGlsZHJlbiIsIl9yZWYzJHNpemUiLCJmdWxsIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsIkNhdGVnb3J5VHJlZSIsIl9yZWY0IiwiY2F0ZWdvcmllcyIsIm9uQ2F0ZWdvcnlTZWxlY3QiLCJzZWxlY3RlZENhdGVnb3J5SWQiLCJvbkFkZENhdGVnb3J5Iiwib25FZGl0Q2F0ZWdvcnkiLCJvbkRlbGV0ZUNhdGVnb3J5IiwiX3VzZVN0YXRlIiwiU2V0IiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5IiwiZXhwYW5kZWROb2RlcyIsInNldEV4cGFuZGVkTm9kZXMiLCJ0b2dnbGVFeHBhbmQiLCJub2RlSWQiLCJuZXdFeHBhbmRlZCIsImhhcyIsImdldExheWVyVGl0bGUiLCJ0aXRsZXMiLCJfZGVmaW5lUHJvcGVydHkiLCJidWlsZFRyZWUiLCJ1bmRlZmluZWQiLCJmaWx0ZXIiLCJjYXQiLCJzb3J0IiwiYiIsImNhdGVnb3J5IiwiX29iamVjdFNwcmVhZCIsInJlbmRlck5vZGUiLCJub2RlIiwibGV2ZWwiLCJoYXNDaGlsZHJlbiIsImlzRXhwYW5kZWQiLCJpc1NlbGVjdGVkIiwic3R5bGUiLCJwYWRkaW5nTGVmdCIsInN0b3BQcm9wYWdhdGlvbiIsImNoaWxkIiwibGF5ZXJHcm91cHMiLCJ2YWx1ZXMiLCJub2RlcyIsImdyb3VwIiwiUXVlc3Rpb25UYWJsZSIsIl9yZWY1IiwicXVlc3Rpb25zIiwib25FZGl0UXVlc3Rpb24iLCJvbkRlbGV0ZVF1ZXN0aW9uIiwib25SZW9yZGVyUXVlc3Rpb25zIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2IiwiZmlsdGVyQ2F0ZWdvcnkiLCJzZXRGaWx0ZXJDYXRlZ29yeSIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4IiwiZmlsdGVyUmVsaWdpb3VzIiwic2V0RmlsdGVyUmVsaWdpb3VzIiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJkcmFnZ2VkSXRlbSIsInNldERyYWdnZWRJdGVtIiwiZ2V0Q2F0ZWdvcnlOYW1lIiwiY2F0ZWdvcnlJZCIsImZpbmQiLCJmaWx0ZXJlZFF1ZXN0aW9ucyIsInEiLCJtYXRjaGVzU2VhcmNoIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIm1hdGNoZXNDYXRlZ29yeSIsIm1hdGNoZXNSZWxpZ2lvdXMiLCJoYW5kbGVEcmFnU3RhcnQiLCJxdWVzdGlvbiIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJoYW5kbGVEcmFnT3ZlciIsInByZXZlbnREZWZhdWx0IiwiZHJvcEVmZmVjdCIsImhhbmRsZURyb3AiLCJ0YXJnZXRRdWVzdGlvbiIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJpbmRleCIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnT3ZlciIsIm9uRHJvcCIsImNhdElkIiwiUHJldmlld1BhbmUiLCJfcmVmNiIsIm9yZGVyTW9kZSIsIm9uR2VuZXJhdGVTdXJ2ZXkiLCJfdXNlU3RhdGUxIiwiX3VzZVN0YXRlMTAiLCJwcmV2aWV3UXVlc3Rpb25zIiwic2V0UHJldmlld1F1ZXN0aW9ucyIsIm9yZGVyZWRRdWVzdGlvbnMiLCJzY2FsZUxhYmVscyIsImxhYmVsIiwic2NhbGVJbmRleCIsImRpc2FibGVkIiwiUXVlc3Rpb25Gb3JtIiwiX3JlZjciLCJvblNhdmUiLCJvbkNhbmNlbCIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwiaGFuZGxlU3VibWl0IiwidHJpbSIsImFsZXJ0IiwidG9nZ2xlQ2F0ZWdvcnkiLCJuZXdDYXRlZ29yeUlkcyIsIm9uU3VibWl0Iiwicm93cyIsImNoZWNrZWQiLCJDYXRlZ29yeUZvcm0iLCJfcmVmOCIsIl91c2VTdGF0ZTEzIiwiX3VzZVN0YXRlMTQiLCJWZXJzaW9uTWFuYWdlciIsIl9yZWY5IiwidmVyc2lvbnMiLCJvbkxvYWRWZXJzaW9uIiwib25TYXZlVmVyc2lvbiIsIm9uRGVsZXRlVmVyc2lvbiIsIm9uRXhwb3J0RGF0YSIsIm9uSW1wb3J0RGF0YSIsIl91c2VTdGF0ZTE1IiwiX3VzZVN0YXRlMTYiLCJzaG93VmVyc2lvbnMiLCJzZXRTaG93VmVyc2lvbnMiLCJfdXNlU3RhdGUxNyIsIl91c2VTdGF0ZTE4IiwidmVyc2lvbk5hbWUiLCJzZXRWZXJzaW9uTmFtZSIsImZpbGVJbnB1dFJlZiIsImhhbmRsZVNhdmVWZXJzaW9uIiwiaGFuZGxlSW1wb3J0RmlsZSIsImZpbGUiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJwYXJzZSIsInJlYWRBc1RleHQiLCJfZmlsZUlucHV0UmVmJGN1cnJlbnQiLCJjdXJyZW50IiwicmVmIiwiYWNjZXB0IiwiY3JlYXRlZEF0IiwiQnVpbGRlclBhZ2UiLCJfcmVmMCIsIm9uTmF2aWdhdGVUb1N1cnZleSIsIl91c2VTdGF0ZTE5IiwiX3VzZVN0YXRlMjAiLCJzZXRDYXRlZ29yaWVzIiwiX3VzZVN0YXRlMjEiLCJfdXNlU3RhdGUyMiIsInNldFF1ZXN0aW9ucyIsIl91c2VTdGF0ZTIzIiwiX3VzZVN0YXRlMjQiLCJzZXRWZXJzaW9ucyIsIl91c2VTdGF0ZTI1IiwiX3VzZVN0YXRlMjYiLCJzZXRTZWxlY3RlZENhdGVnb3J5SWQiLCJfdXNlU3RhdGUyNyIsIl91c2VTdGF0ZTI4Iiwic2V0T3JkZXJNb2RlIiwiX3VzZVN0YXRlMjkiLCJfdXNlU3RhdGUzMCIsInNob3dRdWVzdGlvbkZvcm0iLCJzZXRTaG93UXVlc3Rpb25Gb3JtIiwiX3VzZVN0YXRlMzEiLCJfdXNlU3RhdGUzMiIsInNob3dDYXRlZ29yeUZvcm0iLCJzZXRTaG93Q2F0ZWdvcnlGb3JtIiwiX3VzZVN0YXRlMzMiLCJfdXNlU3RhdGUzNCIsImVkaXRpbmdRdWVzdGlvbiIsInNldEVkaXRpbmdRdWVzdGlvbiIsIl91c2VTdGF0ZTM1IiwiX3VzZVN0YXRlMzYiLCJlZGl0aW5nQ2F0ZWdvcnkiLCJzZXRFZGl0aW5nQ2F0ZWdvcnkiLCJfdXNlU3RhdGUzNyIsIl91c2VTdGF0ZTM4IiwiZWRpdGluZ0xheWVyIiwic2V0RWRpdGluZ0xheWVyIiwiX3VzZVN0YXRlMzkiLCJfdXNlU3RhdGU0MCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiX3VzZVN0YXRlNDEiLCJfdXNlU3RhdGU0MiIsInRvYXN0Iiwic2V0VG9hc3QiLCJzaG93VG9hc3QiLCJub3ciLCJsb2FkRGF0YSIsIl9yZWYxIiwiX2NhbGxlZTciLCJfeWllbGQkUHJvbWlzZSRhbGwiLCJfeWllbGQkUHJvbWlzZSRhbGwyIiwiY2F0ZWdvcmllc0RhdGEiLCJxdWVzdGlvbnNEYXRhIiwidmVyc2lvbnNEYXRhIiwiX3QiLCJfY29udGV4dDciLCJhbGwiLCJhcmNoaXZlZCIsImNvbnNvbGUiLCJoYW5kbGVBZGRRdWVzdGlvbiIsImhhbmRsZUVkaXRRdWVzdGlvbiIsImhhbmRsZVNhdmVRdWVzdGlvbiIsIl9yZWYxMCIsIl9jYWxsZWU4IiwidXBkYXRlZFF1ZXN0aW9uIiwibmV3UXVlc3Rpb24iLCJfdDIiLCJfY29udGV4dDgiLCJfeDAiLCJoYW5kbGVEZWxldGVRdWVzdGlvbiIsIl9yZWYxMSIsIl9jYWxsZWU5IiwicXVlc3Rpb25JZCIsIl90MyIsIl9jb250ZXh0OSIsImNvbmZpcm0iLCJfeDEiLCJoYW5kbGVSZW9yZGVyUXVlc3Rpb25zIiwiX3JlZjEyIiwiX2NhbGxlZTAiLCJkcmFnZ2VkSWQiLCJ0YXJnZXRJZCIsImRyYWdnZWRJbmRleCIsInRhcmdldEluZGV4IiwibmV3UXVlc3Rpb25zIiwiX25ld1F1ZXN0aW9ucyRzcGxpY2UiLCJfbmV3UXVlc3Rpb25zJHNwbGljZTIiLCJ1cGRhdGVkUXVlc3Rpb25zIiwiX3Q0IiwiX2NvbnRleHQwIiwiZmluZEluZGV4Iiwic3BsaWNlIiwiX3gxMCIsIl94MTEiLCJoYW5kbGVBZGRDYXRlZ29yeSIsImhhbmRsZUVkaXRDYXRlZ29yeSIsImhhbmRsZVNhdmVDYXRlZ29yeSIsIl9yZWYxMyIsIl9jYWxsZWUxIiwidXBkYXRlZENhdGVnb3J5IiwibmV3Q2F0ZWdvcnkiLCJfdDUiLCJfY29udGV4dDEiLCJfeDEyIiwiaGFuZGxlRGVsZXRlQ2F0ZWdvcnkiLCJfcmVmMTQiLCJfY2FsbGVlMTAiLCJfdDYiLCJfY29udGV4dDEwIiwiX3gxMyIsIl9yZWYxNSIsIl9jYWxsZWUxMSIsIl90NyIsIl9jb250ZXh0MTEiLCJ0b0lTT1N0cmluZyIsInNldHRpbmdzIiwiaW5jbHVkZVJlbGlnaW91cyIsInNuYXBzaG90IiwiX3gxNCIsImhhbmRsZUxvYWRWZXJzaW9uIiwiX3JlZjE2IiwiX2NhbGxlZTEyIiwidmVyc2lvbklkIiwiX3Q4IiwiX2NvbnRleHQxMiIsIl94MTUiLCJoYW5kbGVEZWxldGVWZXJzaW9uIiwiX3JlZjE3IiwiX2NhbGxlZTEzIiwiX3Q5IiwiX2NvbnRleHQxMyIsIl94MTYiLCJoYW5kbGVFeHBvcnREYXRhIiwiZXhwb3J0RGF0YSIsImV4cG9ydGVkQXQiLCJzcGxpdCIsImhhbmRsZUltcG9ydERhdGEiLCJfcmVmMTgiLCJfY2FsbGVlMTQiLCJfdDAiLCJfY29udGV4dDE0IiwiX3gxNyIsImhhbmRsZUdlbmVyYXRlU3VydmV5IiwiX3JlZjE5IiwiX2NhbGxlZTE1IiwiX3QxIiwiX2NvbnRleHQxNSIsIlN1cnZleVBhZ2UiLCJfcmVmMjAiLCJvbk5hdmlnYXRlVG9CdWlsZGVyIiwiX3VzZVN0YXRlNDMiLCJfdXNlU3RhdGU0NCIsInNldFZlcnNpb24iLCJfdXNlU3RhdGU0NSIsIl91c2VTdGF0ZTQ2IiwiY3VycmVudFN0ZXAiLCJzZXRDdXJyZW50U3RlcCIsIl91c2VTdGF0ZTQ3IiwiX3VzZVN0YXRlNDgiLCJhbnN3ZXJzIiwic2V0QW5zd2VycyIsIl91c2VTdGF0ZTQ5IiwiYmlydGgiLCJnZW5kZXIiLCJuYXRpb25hbGl0eSIsImNpdHkiLCJwcm9mZXNzaW9uIiwiZWR1Y2F0aW9uIiwibWFyaXRhbCIsInJlbGlnaW9uIiwicmVsaWdpb25PdGhlciIsImxpdmluZyIsImxpdmluZ090aGVyIiwidGVzdERhdGUiLCJfdXNlU3RhdGU1MCIsImRlbW9ncmFwaGljcyIsInNldERlbW9ncmFwaGljcyIsIl91c2VTdGF0ZTUxIiwiX3VzZVN0YXRlNTIiLCJhbmFseXNpc1Jlc3VsdCIsInNldEFuYWx5c2lzUmVzdWx0IiwiX3VzZVN0YXRlNTMiLCJfdXNlU3RhdGU1NCIsIl91c2VTdGF0ZTU1IiwiX3VzZVN0YXRlNTYiLCJsb2FkVmVyc2lvbiIsIl9yZWYyMSIsIl9jYWxsZWUxNiIsInZlcnNpb25EYXRhIiwiX3QxMCIsIl9jb250ZXh0MTYiLCJoYW5kbGVBbnN3ZXJDaGFuZ2UiLCJwcmV2IiwicGFyc2VJbnQiLCJoYW5kbGVTdXJ2ZXlTdWJtaXQiLCJ1bmFuc3dlcmVkUXVlc3Rpb25zIiwiaGFuZGxlRGVtb2dyYXBoaWNzU3VibWl0IiwiX3JlZjIyIiwiX2NhbGxlZTE3IiwicmVxdWlyZWRGaWVsZHMiLCJtaXNzaW5nRmllbGRzIiwicmVzcG9uc2UiLCJhbmFseXNpcyIsIl90MTEiLCJfY29udGV4dDE3IiwiZmllbGQiLCJlbnRyaWVzIiwiX3JlZjIzIiwiX3JlZjI0IiwiY2xpZW50IiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0eiIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInJlc29sdmVkT3B0aW9ucyIsInRpbWVab25lIiwiY2FsY3VsYXRlQW5hbHlzaXMiLCJfeDE4IiwiY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUiLCJyZWxldmFudFF1ZXN0aW9ucyIsInNvbWUiLCJzY29yZXMiLCJzY29yZSIsInJlZHVjZSIsInN1bSIsImZhY2V0cyIsImluZGljYXRvcnMiLCJwcmluY2lwbGVzIiwidG90YWxRdWVzdGlvbnMiLCJhbnN3ZXJlZFF1ZXN0aW9ucyIsImdldFNjb3JlSW50ZXJwcmV0YXRpb24iLCJjb2xvciIsInN1Z2dlc3Rpb24iLCJkb3dubG9hZFJlc3VsdHMiLCJyZXN1bHRzRGF0YSIsImNvbXBsZXRlZEF0IiwicmVxdWlyZWQiLCJmYWNldCIsImludGVycHJldGF0aW9uIiwidG9GaXhlZCIsImluZGljYXRvciIsInByaW5jaXBsZSIsIkFwcCIsIl91c2VTdGF0ZTU3IiwiX3VzZVN0YXRlNTgiLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwiX3VzZVN0YXRlNTkiLCJfdXNlU3RhdGU2MCIsInN1cnZleVZlcnNpb25JZCIsInNldFN1cnZleVZlcnNpb25JZCIsIl91c2VTdGF0ZTYxIiwiX3VzZVN0YXRlNjIiLCJpbml0aWFsaXplZCIsInNldEluaXRpYWxpemVkIiwiaW5pdGlhbGl6ZUFwcCIsIl9yZWYyNSIsIl9jYWxsZWUxOCIsInVybFBhcmFtcyIsIl90MTIiLCJfY29udGV4dDE4IiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwibmF2aWdhdGVUb1N1cnZleSIsIm5hdmlnYXRlVG9CdWlsZGVyIiwiUmVhY3RET00iLCJyZW5kZXIiLCJnZXRFbGVtZW50QnlJZCJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAgIGNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9ID0gUmVhY3Q7XG5cbiAgICAgICAgLy8g6LOH5paZ5qih5Z6L5a6a576pXG4gICAgICAgIGNvbnN0IExheWVyVHlwZXMgPSB7XG4gICAgICAgICAgICBGQUNFVFNfNzogJ0ZBQ0VUU183JyxcbiAgICAgICAgICAgIElORElDQVRPUlNfMTA6ICdJTkRJQ0FUT1JTXzEwJywgXG4gICAgICAgICAgICBQUklOQ0lQTEVTXzc6ICdQUklOQ0lQTEVTXzcnLFxuICAgICAgICAgICAgUFJBQ1RJQ0VTOiAnUFJBQ1RJQ0VTJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluZGV4ZWREQiDnrqHnkIZcbiAgICAgICAgY2xhc3MgRGF0YWJhc2VNYW5hZ2VyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGJOYW1lID0gJ1NwaXJpdHVhbFN1cnZleURCJztcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnNpb24gPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuZGIgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYyBpbml0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy52ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZGIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiG6aGe6KGoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ2NhdGVnb3JpZXMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5U3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY2F0ZWdvcmllcycsIHsga2V5UGF0aDogJ2lkJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVN0b3JlLmNyZWF0ZUluZGV4KCdsYXllcicsICdsYXllcicsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVN0b3JlLmNyZWF0ZUluZGV4KCdwYXJlbnRJZCcsICdwYXJlbnRJZCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g6aGM55uu6KGoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ3F1ZXN0aW9ucycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVlc3Rpb25TdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdxdWVzdGlvbnMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25TdG9yZS5jcmVhdGVJbmRleCgnYXJjaGl2ZWQnLCAnYXJjaGl2ZWQnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOeJiOacrOihqFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCd2ZXJzaW9ucycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3ZlcnNpb25zJywgeyBrZXlQYXRoOiAnaWQnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlm57opobooahcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygncmVzcG9uc2VzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3Jlc3BvbnNlcycsIHsga2V5UGF0aDogJ2lkJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0b3JlLmNyZWF0ZUluZGV4KCd2ZXJzaW9uSWQnLCAndmVyc2lvbklkJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RvcmUuY3JlYXRlSW5kZXgoJ2NyZWF0ZWRBdCcsICdjcmVhdGVkQXQnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzeW5jIGdldEFsbChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oW3N0b3JlTmFtZV0sICdyZWFkb25seScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXN5bmMgYWRkKHN0b3JlTmFtZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbc3RvcmVOYW1lXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuYWRkKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzeW5jIHB1dChzdG9yZU5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oW3N0b3JlTmFtZV0sICdyZWFkd3JpdGUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLnB1dChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYyBkZWxldGUoc3RvcmVOYW1lLCBpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbc3RvcmVOYW1lXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYyBnZXQoc3RvcmVOYW1lLCBpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbc3RvcmVOYW1lXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQoaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDlhajln5/os4fmlpnluqvlr6bkvotcbiAgICAgICAgY29uc3QgZGIgPSBuZXcgRGF0YWJhc2VNYW5hZ2VyKCk7XG5cbiAgICAgICAgLy8g5Yid5aeL6LOH5paZXG4gICAgICAgIGNvbnN0IElOSVRJQUxfQ0FURUdPUklFUyA9IFtcbiAgICAgICAgICAgIC8vIOWxpOe0mjHvvJrpnYjmgKfkv67ppIrkuIPpnaLlkJFcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC0xJywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICfotbflv4Pli5Xlv7UnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDEgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC0yJywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICflvozoqK3mgJ3ogIMnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDIgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC0zJywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICfmhI/nvqnov73lsIsnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDMgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC00JywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICfkurrpmpvpnYjkv64nLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDQgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC01JywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICfnianos6roiIfnkrDlooMnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDUgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC02JywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICfoiIfotoXotorogIXnmoTpgKPntZAnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDYgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmYWNldC03JywgbGF5ZXI6IExheWVyVHlwZXMuRkFDRVRTXzcsIG5hbWU6ICfnlJ/mtLvlvaLmhYvoiIflhajkurrlgaXlurcnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDcgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g5bGk57SaMu+8mumdiOaAp+WBpeW6t+WNgeaguOW/g+aMh+aomVxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci0xJywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+S6uuagvOe1seaVtCcsIHBhcmVudElkOiBudWxsLCBvcmRlcjogMSB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci0yJywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+i/veaxguecn+eQhueahOW+jOioreWPjeaAnScsIHBhcmVudElkOiBudWxsLCBvcmRlcjogMiB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci0zJywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+aEj+e+qeiIh+ebrueahCcsIHBhcmVudElkOiBudWxsLCBvcmRlcjogMyB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci00JywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+aEm+iIh+WQjOeQhicsIHBhcmVudElkOiBudWxsLCBvcmRlcjogNCB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci01JywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+WvrOaBleiIh+WSjOinoycsIHBhcmVudElkOiBudWxsLCBvcmRlcjogNSB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci02JywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+aEn+aBqeiIh+WWnOaogicsIHBhcmVudElkOiBudWxsLCBvcmRlcjogNiB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci03JywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+iyoeeJqeWAq+eQhuiIh+mdiOS/ricsIHBhcmVudElkOiBudWxsLCBvcmRlcjogNyB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci04JywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+aDnOeJqeiIh+WFseeUnycsIHBhcmVudElkOiBudWxsLCBvcmRlcjogOCB9LFxuICAgICAgICAgICAgeyBpZDogJ2luZGljYXRvci05JywgbGF5ZXI6IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMCwgbmFtZTogJ+S/oeS7sOiIh+mAo+e1kCcsIHBhcmVudElkOiBudWxsLCBvcmRlcjogOSwgaXNSZWxpZ2lvdXM6IHRydWUgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdpbmRpY2F0b3ItMTAnLCBsYXllcjogTGF5ZXJUeXBlcy5JTkRJQ0FUT1JTXzEwLCBuYW1lOiAn5a6X5pWZ5L+h5Luw6IiH6Z2I5oCn5L+u6aSKJywgcGFyZW50SWQ6IG51bGwsIG9yZGVyOiAxMCwgaXNSZWxpZ2lvdXM6IHRydWUgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g5bGk57SaM++8mumdiOS/ruS4g+WOn+WJh1xuICAgICAgICAgICAgeyBpZDogJ3ByaW5jaXBsZS0xJywgbGF5ZXI6IExheWVyVHlwZXMuUFJJTkNJUExFU183LCBuYW1lOiAn5Zyo5q+P5LiA5YCL5Lq66Lqr5LiK55yL6KaL56We44CB55yL6KaL5L2b44CB55yL6KaL5Lq6JywgcGFyZW50SWQ6IG51bGwsIG9yZGVyOiAxIH0sXG4gICAgICAgICAgICB7IGlkOiAncHJpbmNpcGxlLTInLCBsYXllcjogTGF5ZXJUeXBlcy5QUklOQ0lQTEVTXzcsIG5hbWU6ICfnrKzkuIDlgIvljrvmhJvjgIHnrKzkuIDlgIvljrvntaYnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDIgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdwcmluY2lwbGUtMycsIGxheWVyOiBMYXllclR5cGVzLlBSSU5DSVBMRVNfNywgbmFtZTogJ+e1puS6uuS/oeW/g+OAgee1puS6uuW4jOacm+OAgee1puS6uuatoeWWnOOAgee1puS6uuaWueS+vycsIHBhcmVudElkOiBudWxsLCBvcmRlcjogMyB9LFxuICAgICAgICAgICAgeyBpZDogJ3ByaW5jaXBsZS00JywgbGF5ZXI6IExheWVyVHlwZXMuUFJJTkNJUExFU183LCBuYW1lOiAn57ep5pa855m85oCS44CB5pWP5pa85a+s5oGV44CB5YuH5pa86YGT5q2J44CB5pmC5pmC5oSf5oGpJywgcGFyZW50SWQ6IG51bGwsIG9yZGVyOiA0IH0sXG4gICAgICAgICAgICB7IGlkOiAncHJpbmNpcGxlLTUnLCBsYXllcjogTGF5ZXJUeXBlcy5QUklOQ0lQTEVTXzcsIG5hbWU6ICfpgKPntZDnpZ7ogZbjgIHov73msYLmhI/nvqnjgIHmk4flloTlm7rln7fjgIHkuI3ororpmqjnt6MnLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDUgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdwcmluY2lwbGUtNicsIGxheWVyOiBMYXllclR5cGVzLlBSSU5DSVBMRVNfNywgbmFtZTogJ+W9ueeJqeS4jeW9ueaWvOeJqe+8jOaDnOeJqeWOmueUn+a/n+S4licsIHBhcmVudElkOiBudWxsLCBvcmRlcjogNiB9LFxuICAgICAgICAgICAgeyBpZDogJ3ByaW5jaXBsZS03JywgbGF5ZXI6IExheWVyVHlwZXMuUFJJTkNJUExFU183LCBuYW1lOiAn6Kqg5oSP5q2j5b+D44CB5oiS5oWO5oGQ5oe844CB5b6M6Kit5Y+N5oCd44CB6ZaL5pS+5YWs5q2jJywgcGFyZW50SWQ6IG51bGwsIG9yZGVyOiA3IH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgSU5JVElBTF9RVUVTVElPTlMgPSBbXG4gICAgICAgICAgICB7IGlkOiAncTEnLCB0ZXh0OiAn5oiR6IO95aSg6Ka65a+f6Ieq5bex55qE5oOF57eS6K6K5YyW77yM5Lim6YGp55W25Zyw6KGo6YGUJywgY2F0ZWdvcnlJZHM6IFsnZmFjZXQtMScsICdpbmRpY2F0b3ItMSddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAxIH0sXG4gICAgICAgICAgICB7IGlkOiAncTInLCB0ZXh0OiAn5oiR5pyD5Y+N5oCd6Ieq5bex55qE6KGM54K65piv5ZCm56ym5ZCI5YWn5b+D55qE5YO55YC86KeAJywgY2F0ZWdvcnlJZHM6IFsnZmFjZXQtMicsICdpbmRpY2F0b3ItMiddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAyIH0sXG4gICAgICAgICAgICB7IGlkOiAncTMnLCB0ZXh0OiAn5oiR5riF5qWa55+l6YGT6Ieq5bex5Lq655Sf55qE55uu5qiZ5ZKM5oSP576pJywgY2F0ZWdvcnlJZHM6IFsnZmFjZXQtMycsICdpbmRpY2F0b3ItMyddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAzIH0sXG4gICAgICAgICAgICB7IGlkOiAncTQnLCB0ZXh0OiAn5oiR6IO95aSg55yf6Kqg5Zyw6Zec5oe35LuW5Lq655qE6ZyA6KaBJywgY2F0ZWdvcnlJZHM6IFsnZmFjZXQtNCcsICdpbmRpY2F0b3ItNCcsICdwcmluY2lwbGUtMiddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiA0IH0sXG4gICAgICAgICAgICB7IGlkOiAncTUnLCB0ZXh0OiAn5oiR5pyD54+N5oOc54mp6LOq6LOH5rqQ77yM6YG/5YWN5rWq6LK7JywgY2F0ZWdvcnlJZHM6IFsnZmFjZXQtNScsICdpbmRpY2F0b3ItOCcsICdwcmluY2lwbGUtNiddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiA1IH0sXG4gICAgICAgICAgICB7IGlkOiAncTYnLCB0ZXh0OiAn5oiR55u45L+h5pyJ5q+U6Ieq5bex5pu05aSn55qE5Yqb6YeP5a2Y5ZyoJywgY2F0ZWdvcnlJZHM6IFsnZmFjZXQtNicsICdpbmRpY2F0b3ItOSddLCBpc1JlbGlnaW91czogdHJ1ZSwgb3JkZXI6IDYgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdxNycsIHRleHQ6ICfmiJHmnIPngrroh6rlt7HnmoTlgaXlurfosqDosqzvvIzkv53mjIHoia/lpb3nmoTnlJ/mtLvnv5LmhaMnLCBjYXRlZ29yeUlkczogWydmYWNldC03J10sIGlzUmVsaWdpb3VzOiBmYWxzZSwgb3JkZXI6IDcgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdxOCcsIHRleHQ6ICfmiJHog73lpKDlr6zmgZXlgrflrrPpgY7miJHnmoTkuronLCBjYXRlZ29yeUlkczogWydpbmRpY2F0b3ItNScsICdwcmluY2lwbGUtNCddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiA4IH0sXG4gICAgICAgICAgICB7IGlkOiAncTknLCB0ZXh0OiAn5oiR57aT5bi45oSf5Yiw5oSf5oGp5ZKM5Zac5oKFJywgY2F0ZWdvcnlJZHM6IFsnaW5kaWNhdG9yLTYnLCAncHJpbmNpcGxlLTQnXSwgaXNSZWxpZ2lvdXM6IGZhbHNlLCBvcmRlcjogOSB9LFxuICAgICAgICAgICAgeyBpZDogJ3ExMCcsIHRleHQ6ICfmiJHmnIPpgI/pgY7lrpfmlZnmtLvli5Xkvobmu4vppIroh6rlt7HnmoTpnYjmgKcnLCBjYXRlZ29yeUlkczogWydpbmRpY2F0b3ItMTAnXSwgaXNSZWxpZ2lvdXM6IHRydWUsIG9yZGVyOiAxMCB9LFxuICAgICAgICAgICAgeyBpZDogJ3ExMScsIHRleHQ6ICfmiJHog73lpKDlnKjmr4/lgIvkurrouqvkuIrnnIvliLDlgLzlvpflsIrph43nmoTlnLDmlrknLCBjYXRlZ29yeUlkczogWydwcmluY2lwbGUtMSddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAxMSB9LFxuICAgICAgICAgICAgeyBpZDogJ3ExMicsIHRleHQ6ICfmiJHpoZjmhI/kuLvli5Xntabkuojku5bkurrluavliqnlkozmlK/mjIEnLCBjYXRlZ29yeUlkczogWydwcmluY2lwbGUtMicsICdwcmluY2lwbGUtMyddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAxMiB9LFxuICAgICAgICAgICAgeyBpZDogJ3ExMycsIHRleHQ6ICfmiJHog73lpKDmjqfliLboh6rlt7HnmoTmgJLmsKPvvIzku6XlubPlkoznmoTmhYvluqbomZXnkIbooZ3nqoEnLCBjYXRlZ29yeUlkczogWydwcmluY2lwbGUtNCddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAxMyB9LFxuICAgICAgICAgICAgeyBpZDogJ3ExNCcsIHRleHQ6ICfmiJHmnIPloIXmjIHoh6rlt7Hoqo3ngrrmraPnorrnmoTlg7nlgLzop4AnLCBjYXRlZ29yeUlkczogWydwcmluY2lwbGUtNSddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAxNCB9LFxuICAgICAgICAgICAgeyBpZDogJ3ExNScsIHRleHQ6ICfmiJHmnIPlrprmnJ/lj43nnIHoh6rlt7HnmoToqIDooYzmmK/lkKbmgbDnlbYnLCBjYXRlZ29yeUlkczogWydwcmluY2lwbGUtNyddLCBpc1JlbGlnaW91czogZmFsc2UsIG9yZGVyOiAxNSB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8g5bel5YW35Ye95pW4XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlSWQgPSAoKSA9PiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLVRXJywge1xuICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICBtb250aDogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgIGRheTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZG93bmxvYWRKU09OID0gKGRhdGEsIGZpbGVuYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGRvd25sb2FkQ1NWID0gKGRhdGEsIGZpbGVuYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjc3YgPSBjb252ZXJ0VG9DU1YoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2Nzdl0sIHsgdHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7JyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29udmVydFRvQ1NWID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHJldHVybiAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5rZXlzKGRhdGFbMF0pO1xuICAgICAgICAgICAgY29uc3QgY3N2Q29udGVudCA9IFtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmpvaW4oJywnKSxcbiAgICAgICAgICAgICAgICAuLi5kYXRhLm1hcChyb3cgPT4gXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMubWFwKGhlYWRlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvd1toZWFkZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFwiJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXCIvZywgJ1wiXCInKX1cImA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFwiJHtTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1wiL2csICdcIlwiJyl9XCJgO1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsJylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gJ1xcdUZFRkYnICsgY3N2Q29udGVudDsgLy8g5Yqg5YWlIEJPTSDku6XmlK/mj7TkuK3mlodcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUb2FzdCDpgJrnn6Xns7vntbFcbiAgICAgICAgY29uc3QgVG9hc3QgPSAoeyBtZXNzYWdlLCB0eXBlLCBvbkNsb3NlIH0pID0+IHtcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KG9uQ2xvc2UsIDMwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgfSwgW29uQ2xvc2VdKTtcblxuICAgICAgICAgICAgY29uc3QgYmdDb2xvciA9IHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAnYmctZ3JlZW4tMTAwIGJvcmRlci1ncmVlbi00MDAgdGV4dC1ncmVlbi03MDAnLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnYmctcmVkLTEwMCBib3JkZXItcmVkLTQwMCB0ZXh0LXJlZC03MDAnLFxuICAgICAgICAgICAgICAgIHdhcm5pbmc6ICdiZy15ZWxsb3ctMTAwIGJvcmRlci15ZWxsb3ctNDAwIHRleHQteWVsbG93LTcwMCcsXG4gICAgICAgICAgICAgICAgaW5mbzogJ2JnLWJsdWUtMTAwIGJvcmRlci1ibHVlLTQwMCB0ZXh0LWJsdWUtNzAwJ1xuICAgICAgICAgICAgfVt0eXBlXTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZpeGVkIHRvcC00IHJpZ2h0LTQgei01MCBweC00IHB5LTMgcm91bmRlZCBib3JkZXItbC00IHNoYWRvdy1sZyBzbGlkZS1pbiAke2JnQ29sb3J9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bWVzc2FnZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cIm1sLTQgdGV4dC1sZyBmb250LWJvbGRcIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDovInlhaXli5XnlavntYTku7ZcbiAgICAgICAgY29uc3QgTG9hZGluZ1NwaW5uZXIgPSAoeyBzaXplID0gJ21lZGl1bScgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZUNsYXNzID0ge1xuICAgICAgICAgICAgICAgIHNtYWxsOiAndy00IGgtNCcsXG4gICAgICAgICAgICAgICAgbWVkaXVtOiAndy04IGgtOCcsXG4gICAgICAgICAgICAgICAgbGFyZ2U6ICd3LTEyIGgtMTInXG4gICAgICAgICAgICB9W3NpemVdO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItZ3JheS0zMDAgYm9yZGVyLXQtaW5kaWdvLTYwMCAke3NpemVDbGFzc31gfT48L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5qih5oWL5qGG57WE5Lu2XG4gICAgICAgIGNvbnN0IE1vZGFsID0gKHsgaXNPcGVuLCBvbkNsb3NlLCB0aXRsZSwgY2hpbGRyZW4sIHNpemUgPSAnbWVkaXVtJyB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IHNpemVDbGFzcyA9IHtcbiAgICAgICAgICAgICAgICBzbWFsbDogJ21heC13LW1kJyxcbiAgICAgICAgICAgICAgICBtZWRpdW06ICdtYXgtdy0yeGwnLFxuICAgICAgICAgICAgICAgIGxhcmdlOiAnbWF4LXctNHhsJyxcbiAgICAgICAgICAgICAgICBmdWxsOiAnbWF4LXctNnhsJ1xuICAgICAgICAgICAgfVtzaXplXTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW4gcHgtNCBwdC00IHBiLTIwIHRleHQtY2VudGVyIHNtOmJsb2NrIHNtOnAtMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHRyYW5zaXRpb24tb3BhY2l0eSBiZy1ncmF5LTUwMCBiZy1vcGFjaXR5LTc1XCIgb25DbGljaz17b25DbG9zZX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgaW5saW5lLWJsb2NrIHctZnVsbCAke3NpemVDbGFzc30gcC02IG15LTggb3ZlcmZsb3ctaGlkZGVuIHRleHQtbGVmdCBhbGlnbi1taWRkbGUgdHJhbnNpdGlvbi1hbGwgdHJhbnNmb3JtIGJnLXdoaXRlIHNoYWRvdy14bCByb3VuZGVkLWxnYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e3RpdGxlfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5YiG6aGe5qi557WE5Lu2XG4gICAgICAgIGNvbnN0IENhdGVnb3J5VHJlZSA9ICh7IGNhdGVnb3JpZXMsIG9uQ2F0ZWdvcnlTZWxlY3QsIHNlbGVjdGVkQ2F0ZWdvcnlJZCwgb25BZGRDYXRlZ29yeSwgb25FZGl0Q2F0ZWdvcnksIG9uRGVsZXRlQ2F0ZWdvcnkgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2V4cGFuZGVkTm9kZXMsIHNldEV4cGFuZGVkTm9kZXNdID0gdXNlU3RhdGUobmV3IFNldCgpKTtcblxuICAgICAgICAgICAgY29uc3QgdG9nZ2xlRXhwYW5kID0gKG5vZGVJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V4cGFuZGVkID0gbmV3IFNldChleHBhbmRlZE5vZGVzKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RXhwYW5kZWQuaGFzKG5vZGVJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RXhwYW5kZWQuZGVsZXRlKG5vZGVJZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RXhwYW5kZWQuYWRkKG5vZGVJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkTm9kZXMobmV3RXhwYW5kZWQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0TGF5ZXJUaXRsZSA9IChsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgW0xheWVyVHlwZXMuRkFDRVRTXzddOiAn6Z2I5oCn5L+u6aSK5LiD6Z2i5ZCRJyxcbiAgICAgICAgICAgICAgICAgICAgW0xheWVyVHlwZXMuSU5ESUNBVE9SU18xMF06ICfpnYjmgKflgaXlurfljYHmoLjlv4PmjIfmqJknLFxuICAgICAgICAgICAgICAgICAgICBbTGF5ZXJUeXBlcy5QUklOQ0lQTEVTXzddOiAn6Z2I5L+u5LiD5Y6f5YmHJyxcbiAgICAgICAgICAgICAgICAgICAgW0xheWVyVHlwZXMuUFJBQ1RJQ0VTXTogJ+aXpeW4uOmdiOS/ruWvpui4kCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aXRsZXNbbGF5ZXJdO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgYnVpbGRUcmVlID0gKHBhcmVudElkID0gbnVsbCwgbGF5ZXIgPSBudWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjYXQgPT4gY2F0LnBhcmVudElkID09PSBwYXJlbnRJZCAmJiAobGF5ZXIgPT09IG51bGwgfHwgY2F0LmxheWVyID09PSBsYXllcikpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcilcbiAgICAgICAgICAgICAgICAgICAgLm1hcChjYXRlZ29yeSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogYnVpbGRUcmVlKGNhdGVnb3J5LmlkKVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCByZW5kZXJOb2RlID0gKG5vZGUsIGxldmVsID0gMCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gbm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkTm9kZXMuaGFzKG5vZGUuaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZENhdGVnb3J5SWQgPT09IG5vZGUuaWQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bm9kZS5pZH0gY2xhc3NOYW1lPVwic2VsZWN0LW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgcHktMiBweC0yIHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA/ICdiZy1pbmRpZ28tMTAwIHRleHQtaW5kaWdvLTcwMCcgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBgJHtsZXZlbCAqIDIwICsgOH1weGAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkNhdGVnb3J5U2VsZWN0KG5vZGUuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoYXNDaGlsZHJlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVFeHBhbmQobm9kZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMiB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNFeHBhbmRlZCA/ICfilrwnIDogJ+KWtid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFoYXNDaGlsZHJlbiAmJiA8c3BhbiBjbGFzc05hbWU9XCJ3LTZcIj48L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtMSB0ZXh0LXNtXCI+e25vZGUubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2xldmVsID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRDYXRlZ29yeShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnt6jovK9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlQ2F0ZWdvcnkobm9kZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC04MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWIqumZpFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAge2hhc0NoaWxkcmVuICYmIGlzRXhwYW5kZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtub2RlLmNoaWxkcmVuLm1hcChjaGlsZCA9PiByZW5kZXJOb2RlKGNoaWxkLCBsZXZlbCArIDEpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyDmjInlsaTntJrntYTnuZTliIbpoZ5cbiAgICAgICAgICAgIGNvbnN0IGxheWVyR3JvdXBzID0gT2JqZWN0LnZhbHVlcyhMYXllclR5cGVzKS5tYXAobGF5ZXIgPT4gKHtcbiAgICAgICAgICAgICAgICBsYXllcixcbiAgICAgICAgICAgICAgICB0aXRsZTogZ2V0TGF5ZXJUaXRsZShsYXllciksXG4gICAgICAgICAgICAgICAgbm9kZXM6IGJ1aWxkVHJlZShudWxsLCBsYXllcilcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LXRyZWVcIj5cbiAgICAgICAgICAgICAgICAgICAge2xheWVyR3JvdXBzLm1hcChncm91cCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Z3JvdXAubGF5ZXJ9IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj57Z3JvdXAudGl0bGV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dyb3VwLmxheWVyID09PSBMYXllclR5cGVzLlBSQUNUSUNFUyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25BZGRDYXRlZ29yeShncm91cC5sYXllcil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUgcHgtMiBweS0xIHJvdW5kZWQgaG92ZXI6YmctaW5kaWdvLTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5paw5aKeXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1sLTIgYm9yZGVyLWdyYXktMjAwIG1sLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dyb3VwLm5vZGVzLm1hcChub2RlID0+IHJlbmRlck5vZGUobm9kZSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDpoYznm67ooajmoLzntYTku7ZcbiAgICAgICAgY29uc3QgUXVlc3Rpb25UYWJsZSA9ICh7IHF1ZXN0aW9ucywgY2F0ZWdvcmllcywgb25FZGl0UXVlc3Rpb24sIG9uRGVsZXRlUXVlc3Rpb24sIG9uUmVvcmRlclF1ZXN0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbZmlsdGVyQ2F0ZWdvcnksIHNldEZpbHRlckNhdGVnb3J5XSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtmaWx0ZXJSZWxpZ2lvdXMsIHNldEZpbHRlclJlbGlnaW91c10gPSB1c2VTdGF0ZSgnYWxsJyk7XG4gICAgICAgICAgICBjb25zdCBbZHJhZ2dlZEl0ZW0sIHNldERyYWdnZWRJdGVtXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBnZXRDYXRlZ29yeU5hbWUgPSAoY2F0ZWdvcnlJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcmllcy5maW5kKGMgPT4gYy5pZCA9PT0gY2F0ZWdvcnlJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5ID8gY2F0ZWdvcnkubmFtZSA6IGNhdGVnb3J5SWQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFF1ZXN0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWVzdGlvbnMuZmlsdGVyKHEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzU2VhcmNoID0gcS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlc0NhdGVnb3J5ID0gIWZpbHRlckNhdGVnb3J5IHx8IHEuY2F0ZWdvcnlJZHMuaW5jbHVkZXMoZmlsdGVyQ2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzUmVsaWdpb3VzID0gZmlsdGVyUmVsaWdpb3VzID09PSAnYWxsJyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgIChmaWx0ZXJSZWxpZ2lvdXMgPT09ICdyZWxpZ2lvdXMnICYmIHEuaXNSZWxpZ2lvdXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoZmlsdGVyUmVsaWdpb3VzID09PSAnbm9uLXJlbGlnaW91cycgJiYgIXEuaXNSZWxpZ2lvdXMpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNTZWFyY2ggJiYgbWF0Y2hlc0NhdGVnb3J5ICYmIG1hdGNoZXNSZWxpZ2lvdXM7XG4gICAgICAgICAgICAgICAgfSkuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xuICAgICAgICAgICAgfSwgW3F1ZXN0aW9ucywgc2VhcmNoVGVybSwgZmlsdGVyQ2F0ZWdvcnksIGZpbHRlclJlbGlnaW91c10pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSAoZSwgcXVlc3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXREcmFnZ2VkSXRlbShxdWVzdGlvbik7XG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURyb3AgPSAoZSwgdGFyZ2V0UXVlc3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGRyYWdnZWRJdGVtICYmIGRyYWdnZWRJdGVtLmlkICE9PSB0YXJnZXRRdWVzdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgICBvblJlb3JkZXJRdWVzdGlvbnMoZHJhZ2dlZEl0ZW0uaWQsIHRhcmdldFF1ZXN0aW9uLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0RHJhZ2dlZEl0ZW0obnVsbCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKiDmkJzlsIvlkoznr6npgbggKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuaQnOWwi+mhjOebri4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctNDggcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ZpbHRlckNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RmlsdGVyQ2F0ZWdvcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj7miYDmnInliIbpoZ48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoY2F0ID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdC5pZH0gdmFsdWU9e2NhdC5pZH0+e2NhdC5uYW1lfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZmlsdGVyUmVsaWdpb3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RmlsdGVyUmVsaWdpb3VzKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYWxsXCI+5YWo6YOo6aGM55uuPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJlbGlnaW91c1wiPuWul+aVmeaAp+mhjOebrjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub24tcmVsaWdpb3VzXCI+6Z2e5a6X5pWZ5oCn6aGM55uuPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIOmhjOebruWIl+ihqCAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbi1saXN0IHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkUXVlc3Rpb25zLm1hcCgocXVlc3Rpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3F1ZXN0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiBoYW5kbGVEcmFnU3RhcnQoZSwgcXVlc3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wPXsoZSkgPT4gaGFuZGxlRHJvcChlLCBxdWVzdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyBjdXJzb3ItbW92ZSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZEl0ZW0/LmlkID09PSBxdWVzdGlvbi5pZCA/ICdkcmFnZ2luZycgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj4je3F1ZXN0aW9uLm9yZGVyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1ZXN0aW9uLmlzUmVsaWdpb3VzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LXhzIGJnLXB1cnBsZS0xMDAgdGV4dC1wdXJwbGUtODAwIHJvdW5kZWRcIj7lrpfmlZnmgKc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTkwMCBtYi0yXCI+e3F1ZXN0aW9uLnRleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1ZXN0aW9uLmNhdGVnb3J5SWRzLm1hcChjYXRJZCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2NhdElkfSBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC14cyBiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0Q2F0ZWdvcnlOYW1lKGNhdElkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTIgbWwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25FZGl0UXVlc3Rpb24ocXVlc3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS04MDAgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnt6jovK9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlUXVlc3Rpb24ocXVlc3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtODAwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Yiq6ZmkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkUXVlc3Rpb25zLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTggdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaykuacieaJvuWIsOespuWQiOaineS7tueahOmhjOebrlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIOWVj+WNt+mgkOimvee1hOS7tlxuICAgICAgICBjb25zdCBQcmV2aWV3UGFuZSA9ICh7IHF1ZXN0aW9ucywgY2F0ZWdvcmllcywgb3JkZXJNb2RlLCBvbkdlbmVyYXRlU3VydmV5IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtwcmV2aWV3UXVlc3Rpb25zLCBzZXRQcmV2aWV3UXVlc3Rpb25zXSA9IHVzZVN0YXRlKFtdKTtcblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb3JkZXJlZFF1ZXN0aW9ucyA9IFsuLi5xdWVzdGlvbnNdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvcmRlck1vZGUgPT09ICdyYW5kb20nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOmaqOapn+aOkuW6j1xuICAgICAgICAgICAgICAgICAgICBvcmRlcmVkUXVlc3Rpb25zID0gb3JkZXJlZFF1ZXN0aW9ucy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOaMieWIhumhnumghuW6j1xuICAgICAgICAgICAgICAgICAgICBvcmRlcmVkUXVlc3Rpb25zID0gb3JkZXJlZFF1ZXN0aW9ucy5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldFByZXZpZXdRdWVzdGlvbnMob3JkZXJlZFF1ZXN0aW9ucyk7XG4gICAgICAgICAgICB9LCBbcXVlc3Rpb25zLCBvcmRlck1vZGVdKTtcblxuICAgICAgICAgICAgY29uc3Qgc2NhbGVMYWJlbHMgPSBbXG4gICAgICAgICAgICAgICAgJzEg5a6M5YWo5LiN56ym5ZCIJyxcbiAgICAgICAgICAgICAgICAnMiDlvojkuI3nrKblkIgnLCBcbiAgICAgICAgICAgICAgICAnMyDkuI3lpKrnrKblkIgnLFxuICAgICAgICAgICAgICAgICc0IOaciem7nuespuWQiCcsXG4gICAgICAgICAgICAgICAgJzUg5b6I56ym5ZCIJyxcbiAgICAgICAgICAgICAgICAnNiDlrozlhajnrKblkIgnXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJldmlldy1wYW5lIHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+5ZWP5Y236aCQ6Ka9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkdlbmVyYXRlU3VydmV5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDnlJ/miJDllY/ljbdcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNiByb3VuZGVkLWxnIHNoYWRvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1ibHVlLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS04MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaCqOaYr+WQpuabvuaDs+mBju+8muaIkeeahOihjOeoi+a7v+aqlO+8jOeCuuS7gOm6vOWFp+W/g+a3seiZleS7jeacg+aEn+WIsOepuuiZm++8n+S4jeWkqueiuuWumuS6uueUn+eahOebruaomeiIh+aEj+e+qeaEn++8n+aIkeeahOWFp+W/g+iIh+S6uumam+mXnOS/gueCuuS9leW4uOacieS4gOS6m+ihneeqgeS4jeWSjOirp+eahOWcsOaWue+8n+aDs+iZleeQhumAmeS6m+WVj+mhjO+8jOiuk+iHquW3semBjuW+l+abtOWFheWvpua7v+i2s++8jOWNu+S4jeefpemBk+W+nuWTquijoemWi+Wni++8n+KAlOKAlOaIluiose+8jOaYr+aZguWAmeS+hueFp+mhp+iHquW3seeahOOAjOmdiOaAp+WBpeW6t+OAjeS6hu+8gemdiOaAp+WBpeW6t+aMh+eahOaYr+S4gOWAi+S6uuWFp+WcqOaYr+WQpuWuieWumuOAgeaYjueZveeUn+WRveeahOaEj+e+qe+8jOiDveiIh+iHquW3seOAgeS7luS6uuOAgeiHqueEtuWPiuabtOWkp+eahOeUn+WRvemAo+e1kO+8jOW7uueri+WSjOirp+eahOmXnOS/guOAguWug+iuk+aIkeWAkeWcqOWbsOmbo+S4reS4jei/t+Wkse+8jOWcqOaXpeW4uOS4reaJvuWbnuW5s+mdnOiIh+W4jOacm+OAglxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmV2aWV3UXVlc3Rpb25zLm1hcCgocXVlc3Rpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtxdWVzdGlvbi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIHBiLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTMgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgbXItMlwiPntpbmRleCArIDF9Ljwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb24udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBtZDpncmlkLWNvbHMtMyBsZzpncmlkLWNvbHMtNiBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzY2FsZUxhYmVscy5tYXAoKGxhYmVsLCBzY2FsZUluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e3NjYWxlSW5kZXh9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LXNtIGN1cnNvci1ub3QtYWxsb3dlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2BwcmV2aWV3LSR7cXVlc3Rpb24uaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2NhbGVJbmRleCArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWluZGlnby02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1zbVwiPumgkOimveaooeW8jyAtIOeEoeazleS9nOetlDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g6aGM55uu57eo6Lyv6KGo5ZauXG4gICAgICAgIGNvbnN0IFF1ZXN0aW9uRm9ybSA9ICh7IHF1ZXN0aW9uLCBjYXRlZ29yaWVzLCBvblNhdmUsIG9uQ2FuY2VsIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGUoe1xuICAgICAgICAgICAgICAgIHRleHQ6IHF1ZXN0aW9uPy50ZXh0IHx8ICcnLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SWRzOiBxdWVzdGlvbj8uY2F0ZWdvcnlJZHMgfHwgW10sXG4gICAgICAgICAgICAgICAgaXNSZWxpZ2lvdXM6IHF1ZXN0aW9uPy5pc1JlbGlnaW91cyB8fCBmYWxzZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmICghZm9ybURhdGEudGV4dC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iri+i8uOWFpemhjOebruWFp+WuuScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb3JtRGF0YS5jYXRlZ29yeUlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iri+mBuOaTh+iHs+WwkeS4gOWAi+WIhumhnicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uU2F2ZShmb3JtRGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCB0b2dnbGVDYXRlZ29yeSA9IChjYXRlZ29yeUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnlJZHMgPSBmb3JtRGF0YS5jYXRlZ29yeUlkcy5pbmNsdWRlcyhjYXRlZ29yeUlkKVxuICAgICAgICAgICAgICAgICAgICA/IGZvcm1EYXRhLmNhdGVnb3J5SWRzLmZpbHRlcihpZCA9PiBpZCAhPT0gY2F0ZWdvcnlJZClcbiAgICAgICAgICAgICAgICAgICAgOiBbLi4uZm9ybURhdGEuY2F0ZWdvcnlJZHMsIGNhdGVnb3J5SWRdO1xuICAgICAgICAgICAgICAgIHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIGNhdGVnb3J5SWRzOiBuZXdDYXRlZ29yeUlkcyB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDpoYznm67lhaflrrkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS50ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgdGV4dDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLoq4vovLjlhaXpoYznm67lhaflrrkuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaJgOWxrOWIhumhniAqICjlj6/lpJrpgbgpXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC00OCBvdmVyZmxvdy15LWF1dG8gYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIHAtMyBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXtjYXRlZ29yeS5pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2Zvcm1EYXRhLmNhdGVnb3J5SWRzLmluY2x1ZGVzKGNhdGVnb3J5LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlQ2F0ZWdvcnkoY2F0ZWdvcnkuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtaW5kaWdvLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbVwiPntjYXRlZ29yeS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtmb3JtRGF0YS5pc1JlbGlnaW91c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBpc1JlbGlnaW91czogZS50YXJnZXQuY2hlY2tlZCB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1pbmRpZ28tNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPuWul+aVmeaAp+mhjOebrjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC1ncmF5LTcwMCBiZy1ncmF5LTIwMCByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDlj5bmtohcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb24gPyAn5pu05pawJyA6ICfmlrDlop4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5YiG6aGe57eo6Lyv6KGo5ZauXG4gICAgICAgIGNvbnN0IENhdGVnb3J5Rm9ybSA9ICh7IGNhdGVnb3J5LCBsYXllciwgb25TYXZlLCBvbkNhbmNlbCB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjYXRlZ29yeT8ubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBwYXJlbnRJZDogY2F0ZWdvcnk/LnBhcmVudElkIHx8IG51bGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZvcm1EYXRhLm5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfoq4vovLjlhaXliIbpoZ7lkI3nqLEnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvblNhdmUoZm9ybURhdGEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWIhumhnuWQjeeosSAqXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6KuL6Ly45YWl5YiG6aGe5ZCN56ixLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC1ncmF5LTcwMCBiZy1ncmF5LTIwMCByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDlj5bmtohcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkgPyAn5pu05pawJyA6ICfmlrDlop4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g54mI5pys566h55CG57WE5Lu2XG4gICAgICAgIGNvbnN0IFZlcnNpb25NYW5hZ2VyID0gKHsgdmVyc2lvbnMsIG9uTG9hZFZlcnNpb24sIG9uU2F2ZVZlcnNpb24sIG9uRGVsZXRlVmVyc2lvbiwgb25FeHBvcnREYXRhLCBvbkltcG9ydERhdGEgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3Nob3dWZXJzaW9ucywgc2V0U2hvd1ZlcnNpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFt2ZXJzaW9uTmFtZSwgc2V0VmVyc2lvbk5hbWVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVNhdmVWZXJzaW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdmVyc2lvbk5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfoq4vovLjlhaXniYjmnKzlkI3nqLEnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvblNhdmVWZXJzaW9uKHZlcnNpb25OYW1lKTtcbiAgICAgICAgICAgICAgICBzZXRWZXJzaW9uTmFtZSgnJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkltcG9ydERhdGEoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmqpTmoYjmoLzlvI/pjK/oqqQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93VmVyc2lvbnMoIXNob3dWZXJzaW9ucyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJnLWdyYXktNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTcwMCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDniYjmnKznrqHnkIZcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uRXhwb3J0RGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg5Yyv5Ye66LOH5paZXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWMr+WFpeizh+aWmVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiLmpzb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbXBvcnRGaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7c2hvd1ZlcnNpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC00IHJvdW5kZWQtbGcgc2hhZG93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmVyc2lvbk5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRWZXJzaW9uTmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLovLjlhaXniYjmnKzlkI3nqLEuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZVZlcnNpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWluZGlnby02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLWluZGlnby03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWEsuWtmOeJiOacrFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWF4LWgtNDggb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt2ZXJzaW9ucy5tYXAodmVyc2lvbiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17dmVyc2lvbi5pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3ZlcnNpb24ubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj57Zm9ybWF0RGF0ZSh2ZXJzaW9uLmNyZWF0ZWRBdCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkxvYWRWZXJzaW9uKHZlcnNpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDovInlhaVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlVmVyc2lvbih2ZXJzaW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC04MDAgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWIqumZpFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDllY/ljbfnt6jovK/poIHpnaJcbiAgICAgICAgY29uc3QgQnVpbGRlclBhZ2UgPSAoeyBvbk5hdmlnYXRlVG9TdXJ2ZXkgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2NhdGVnb3JpZXMsIHNldENhdGVnb3JpZXNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW3F1ZXN0aW9ucywgc2V0UXVlc3Rpb25zXSA9IHVzZVN0YXRlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IFt2ZXJzaW9ucywgc2V0VmVyc2lvbnNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnlJZCwgc2V0U2VsZWN0ZWRDYXRlZ29yeUlkXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW29yZGVyTW9kZSwgc2V0T3JkZXJNb2RlXSA9IHVzZVN0YXRlKCdjYXRlZ29yeScpO1xuICAgICAgICAgICAgY29uc3QgW3Nob3dRdWVzdGlvbkZvcm0sIHNldFNob3dRdWVzdGlvbkZvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW3Nob3dDYXRlZ29yeUZvcm0sIHNldFNob3dDYXRlZ29yeUZvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW2VkaXRpbmdRdWVzdGlvbiwgc2V0RWRpdGluZ1F1ZXN0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW2VkaXRpbmdDYXRlZ29yeSwgc2V0RWRpdGluZ0NhdGVnb3J5XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW2VkaXRpbmdMYXllciwgc2V0RWRpdGluZ0xheWVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBbdG9hc3QsIHNldFRvYXN0XSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSwgdHlwZSA9ICdpbmZvJykgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvYXN0KHsgbWVzc2FnZSwgdHlwZSwgaWQ6IERhdGUubm93KCkgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBsb2FkRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY2F0ZWdvcmllc0RhdGEsIHF1ZXN0aW9uc0RhdGEsIHZlcnNpb25zRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5nZXRBbGwoJ2NhdGVnb3JpZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmdldEFsbCgncXVlc3Rpb25zJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5nZXRBbGwoJ3ZlcnNpb25zJylcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRDYXRlZ29yaWVzKGNhdGVnb3JpZXNEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UXVlc3Rpb25zKHF1ZXN0aW9uc0RhdGEuZmlsdGVyKHEgPT4gIXEuYXJjaGl2ZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmVyc2lvbnModmVyc2lvbnNEYXRhKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfovInlhaXos4fmlpnlpLHmlZc6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+i8ieWFpeizh+aWmeWkseaVlycsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZERhdGEoKTtcbiAgICAgICAgICAgIH0sIFtdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQWRkUXVlc3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGluZ1F1ZXN0aW9uKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldFNob3dRdWVzdGlvbkZvcm0odHJ1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVFZGl0UXVlc3Rpb24gPSAocXVlc3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUXVlc3Rpb24ocXVlc3Rpb24pO1xuICAgICAgICAgICAgICAgIHNldFNob3dRdWVzdGlvbkZvcm0odHJ1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTYXZlUXVlc3Rpb24gPSBhc3luYyAoZm9ybURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZ1F1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkUXVlc3Rpb24gPSB7IC4uLmVkaXRpbmdRdWVzdGlvbiwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLnB1dCgncXVlc3Rpb25zJywgdXBkYXRlZFF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn6aGM55uu5pu05paw5oiQ5YqfJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1F1ZXN0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHF1ZXN0aW9ucy5sZW5ndGggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY2hpdmVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmFkZCgncXVlc3Rpb25zJywgbmV3UXVlc3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfpoYznm67mlrDlop7miJDlip8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRTaG93UXVlc3Rpb25Gb3JtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1F1ZXN0aW9uKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBsb2FkRGF0YSgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WEsuWtmOmhjOebruWkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5YSy5a2Y6aGM55uu5aSx5pWXJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlRGVsZXRlUXVlc3Rpb24gPSBhc3luYyAocXVlc3Rpb25JZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25maXJtKCfnorrlrpropoHliKrpmaTpgJnlgIvpoYznm67ll47vvJ8nKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuZGVsZXRlKCdxdWVzdGlvbnMnLCBxdWVzdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn6aGM55uu5Yiq6Zmk5oiQ5YqfJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWREYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfliKrpmaTpoYznm67lpLHmlZc6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfliKrpmaTpoYznm67lpLHmlZcnLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVJlb3JkZXJRdWVzdGlvbnMgPSBhc3luYyAoZHJhZ2dlZElkLCB0YXJnZXRJZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRJbmRleCA9IHF1ZXN0aW9ucy5maW5kSW5kZXgocSA9PiBxLmlkID09PSBkcmFnZ2VkSWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IHF1ZXN0aW9ucy5maW5kSW5kZXgocSA9PiBxLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdRdWVzdGlvbnMgPSBbLi4ucXVlc3Rpb25zXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2RyYWdnZWRJdGVtXSA9IG5ld1F1ZXN0aW9ucy5zcGxpY2UoZHJhZ2dlZEluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3UXVlc3Rpb25zLnNwbGljZSh0YXJnZXRJbmRleCwgMCwgZHJhZ2dlZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8g5pu05paw6aCG5bqPXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRRdWVzdGlvbnMgPSBuZXdRdWVzdGlvbnMubWFwKChxLCBpbmRleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnEsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogaW5kZXggKyAxXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIOaJuemHj+abtOaWsFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh1cGRhdGVkUXVlc3Rpb25zLm1hcChxID0+IGRiLnB1dCgncXVlc3Rpb25zJywgcSkpKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNldFF1ZXN0aW9ucyh1cGRhdGVkUXVlc3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfpoYznm67poIbluo/mm7TmlrDmiJDlip8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOmhjOebrumghuW6j+WkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5pu05paw6aGM55uu6aCG5bqP5aSx5pWXJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQWRkQ2F0ZWdvcnkgPSAobGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nQ2F0ZWdvcnkobnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGluZ0xheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICBzZXRTaG93Q2F0ZWdvcnlGb3JtKHRydWUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlRWRpdENhdGVnb3J5ID0gKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGluZ0NhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nTGF5ZXIoY2F0ZWdvcnkubGF5ZXIpO1xuICAgICAgICAgICAgICAgIHNldFNob3dDYXRlZ29yeUZvcm0odHJ1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTYXZlQ2F0ZWdvcnkgPSBhc3luYyAoZm9ybURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZ0NhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ2F0ZWdvcnkgPSB7IC4uLmVkaXRpbmdDYXRlZ29yeSwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLnB1dCgnY2F0ZWdvcmllcycsIHVwZGF0ZWRDYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+WIhumhnuabtOaWsOaIkOWKnycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXRlZ29yeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBlZGl0aW5nTGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGNhdGVnb3JpZXMuZmlsdGVyKGMgPT4gYy5sYXllciA9PT0gZWRpdGluZ0xheWVyKS5sZW5ndGggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuYWRkKCdjYXRlZ29yaWVzJywgbmV3Q2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfliIbpoZ7mlrDlop7miJDlip8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q2F0ZWdvcnlGb3JtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ0NhdGVnb3J5KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nTGF5ZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGxvYWREYXRhKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5YSy5a2Y5YiG6aGe5aSx5pWXOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCflhLLlrZjliIbpoZ7lpLHmlZcnLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWxldGVDYXRlZ29yeSA9IGFzeW5jIChjYXRlZ29yeUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ+eiuuWumuimgeWIqumZpOmAmeWAi+WIhumhnuWXju+8n+ebuOmXnOeahOmhjOebruWIhumhnuaomeexpOS5n+acg+iiq+enu+mZpOOAgicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkYi5kZWxldGUoJ2NhdGVnb3JpZXMnLCBjYXRlZ29yeUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pu05paw55u46Zec6aGM55uu77yM56e76Zmk5q2k5YiG6aGeXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkUXVlc3Rpb25zID0gcXVlc3Rpb25zLm1hcChxID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkczogcS5jYXRlZ29yeUlkcy5maWx0ZXIoaWQgPT4gaWQgIT09IGNhdGVnb3J5SWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHVwZGF0ZWRRdWVzdGlvbnMubWFwKHEgPT4gZGIucHV0KCdxdWVzdGlvbnMnLCBxKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+WIhumhnuWIqumZpOaIkOWKnycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Yiq6Zmk5YiG6aGe5aSx5pWXOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5Yiq6Zmk5YiG6aGe5aSx5pWXJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTYXZlVmVyc2lvbiA9IGFzeW5jIChuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyTW9kZTogb3JkZXJNb2RlID09PSAncmFuZG9tJyA/ICdSQU5ET01fQUxMJyA6ICdCWV9DQVRFR09SWScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVJlbGlnaW91czogJ0FMTCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25zOiBxdWVzdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmFkZCgndmVyc2lvbnMnLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfniYjmnKzlhLLlrZjmiJDlip8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICBsb2FkRGF0YSgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WEsuWtmOeJiOacrOWkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5YSy5a2Y54mI5pys5aSx5pWXJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlTG9hZFZlcnNpb24gPSBhc3luYyAodmVyc2lvbklkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ+i8ieWFpeeJiOacrOacg+imhuiTi+ebruWJjeeahOW3peS9nOWFp+Wuue+8jOeiuuWumuimgee5vOe6jOWXju+8nycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgZGIuZ2V0KCd2ZXJzaW9ucycsIHZlcnNpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOa4heepuuePvuacieizh+aWmVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2F0ZWdvcmllcy5tYXAoYyA9PiBkYi5kZWxldGUoJ2NhdGVnb3JpZXMnLCBjLmlkKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnF1ZXN0aW9ucy5tYXAocSA9PiBkYi5kZWxldGUoJ3F1ZXN0aW9ucycsIHEuaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi8ieWFpeeJiOacrOizh+aWmVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udmVyc2lvbi5zbmFwc2hvdC5jYXRlZ29yaWVzLm1hcChjID0+IGRiLmFkZCgnY2F0ZWdvcmllcycsIGMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udmVyc2lvbi5zbmFwc2hvdC5xdWVzdGlvbnMubWFwKHEgPT4gZGIuYWRkKCdxdWVzdGlvbnMnLCBxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+eJiOacrOi8ieWFpeaIkOWKnycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZERhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+i8ieWFpeeJiOacrOWkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+i8ieWFpeeJiOacrOWkseaVlycsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlRGVsZXRlVmVyc2lvbiA9IGFzeW5jICh2ZXJzaW9uSWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgn56K65a6a6KaB5Yiq6Zmk6YCZ5YCL54mI5pys5ZeO77yfJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmRlbGV0ZSgndmVyc2lvbnMnLCB2ZXJzaW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfniYjmnKzliKrpmaTmiJDlip8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZERhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIqumZpOeJiOacrOWkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+WIqumZpOeJiOacrOWkseaVlycsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlRXhwb3J0RGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHBvcnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25zLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRvd25sb2FkSlNPTihleHBvcnREYXRhLCBgc3Bpcml0dWFsLXN1cnZleS1kYXRhLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19Lmpzb25gKTtcbiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+izh+aWmeWMr+WHuuaIkOWKnycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVJbXBvcnREYXRhID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgn5Yyv5YWl6LOH5paZ5pyD6KaG6JOL54++5pyJ6LOH5paZ77yM56K65a6a6KaB57m857qM5ZeO77yfJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOa4heepuuePvuacieizh+aWmVxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNhdGVnb3JpZXMubWFwKGMgPT4gZGIuZGVsZXRlKCdjYXRlZ29yaWVzJywgYy5pZCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnF1ZXN0aW9ucy5tYXAocSA9PiBkYi5kZWxldGUoJ3F1ZXN0aW9ucycsIHEuaWQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi52ZXJzaW9ucy5tYXAodiA9PiBkYi5kZWxldGUoJ3ZlcnNpb25zJywgdi5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yyv5YWl5paw6LOH5paZXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZGF0YS5jYXRlZ29yaWVzLm1hcChjID0+IGRiLmFkZCgnY2F0ZWdvcmllcycsIGMpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5xdWVzdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChkYXRhLnF1ZXN0aW9ucy5tYXAocSA9PiBkYi5hZGQoJ3F1ZXN0aW9ucycsIHEpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS52ZXJzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGRhdGEudmVyc2lvbnMubWFwKHYgPT4gZGIuYWRkKCd2ZXJzaW9ucycsIHYpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn6LOH5paZ5Yyv5YWl5oiQ5YqfJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWREYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfljK/lhaXos4fmlpnlpLHmlZc6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfljK/lhaXos4fmlpnlpLHmlZcnLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlU3VydmV5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25OYW1lID0gYOWVj+WNt+eJiOacrC0ke2Zvcm1hdERhdGUobmV3IERhdGUoKSl9YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB2ZXJzaW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlck1vZGU6IG9yZGVyTW9kZSA9PT0gJ3JhbmRvbScgPyAnUkFORE9NX0FMTCcgOiAnQllfQ0FURUdPUlknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVSZWxpZ2lvdXM6ICdBTEwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uczogcXVlc3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBkYi5hZGQoJ3ZlcnNpb25zJywgdmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5ZWP5Y2355Sf5oiQ5oiQ5YqfJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIOWwjuWQkeWVj+WNt+mggemdolxuICAgICAgICAgICAgICAgICAgICBvbk5hdmlnYXRlVG9TdXJ2ZXkodmVyc2lvbi5pZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign55Sf5oiQ5ZWP5Y235aSx5pWXOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfnlJ/miJDllY/ljbflpLHmlZcnLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZ1NwaW5uZXIgc2l6ZT1cImxhcmdlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtZ3JheS02MDBcIj7ovInlhaXkuK0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPumdiOaAp+S/rumkiuWVj+WNt+e3qOi8r+ezu+e1sTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPueuoeeQhuWIhumhnuOAgee3qOi8r+mhjOebruOAgemgkOimveWVj+WNtzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7Lyog5bel5YW35YiXICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IGJnLXdoaXRlIHAtNCByb3VuZGVkLWxnIHNoYWRvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZFF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmlrDlop7poYznm65cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj7poJDopr3poIbluo86PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtvcmRlck1vZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0T3JkZXJNb2RlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjYXRlZ29yeVwiPuaMieWIhumhnumghuW6jzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmFuZG9tXCI+6Zqo5qmf5YyW6aCQ6Ka9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZlcnNpb25NYW5hZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9ucz17dmVyc2lvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkxvYWRWZXJzaW9uPXtoYW5kbGVMb2FkVmVyc2lvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2F2ZVZlcnNpb249e2hhbmRsZVNhdmVWZXJzaW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVWZXJzaW9uPXtoYW5kbGVEZWxldGVWZXJzaW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FeHBvcnREYXRhPXtoYW5kbGVFeHBvcnREYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25JbXBvcnREYXRhPXtoYW5kbGVJbXBvcnREYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiDkuLvopoHlhaflrrnljYDln58gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTEyIGdhcC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOW3puWBtO+8muWIhumhnuaouSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTQgcm91bmRlZC1sZyBzaGFkb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi00XCI+5YiG6aGe566h55CGPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXRlZ29yeVRyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXtjYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlJZD17c2VsZWN0ZWRDYXRlZ29yeUlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2F0ZWdvcnlTZWxlY3Q9e3NldFNlbGVjdGVkQ2F0ZWdvcnlJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFkZENhdGVnb3J5PXtoYW5kbGVBZGRDYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRDYXRlZ29yeT17aGFuZGxlRWRpdENhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlQ2F0ZWdvcnk9e2hhbmRsZURlbGV0ZUNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog5Lit6ZaT77ya6aGM55uu5YiX6KGoICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNCByb3VuZGVkLWxnIHNoYWRvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj7poYznm67nrqHnkIY8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFF1ZXN0aW9uVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbnM9e3F1ZXN0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXtjYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdFF1ZXN0aW9uPXtoYW5kbGVFZGl0UXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVRdWVzdGlvbj17aGFuZGxlRGVsZXRlUXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZW9yZGVyUXVlc3Rpb25zPXtoYW5kbGVSZW9yZGVyUXVlc3Rpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog5Y+z5YG077ya6aCQ6Ka9ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNCByb3VuZGVkLWxnIHNoYWRvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByZXZpZXdQYW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25zPXtxdWVzdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlck1vZGU9e29yZGVyTW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkdlbmVyYXRlU3VydmV5PXtoYW5kbGVHZW5lcmF0ZVN1cnZleX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiDpoYznm67nt6jovK/mqKHmhYvmoYYgKi99XG4gICAgICAgICAgICAgICAgICAgIDxNb2RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXtzaG93UXVlc3Rpb25Gb3JtfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dRdWVzdGlvbkZvcm0oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdRdWVzdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZWRpdGluZ1F1ZXN0aW9uID8gJ+e3qOi8r+mhjOebricgOiAn5paw5aKe6aGM55uuJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxRdWVzdGlvbkZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbj17ZWRpdGluZ1F1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9e2NhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TYXZlPXtoYW5kbGVTYXZlUXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1F1ZXN0aW9uRm9ybShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdRdWVzdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cblxuICAgICAgICAgICAgICAgICAgICB7Lyog5YiG6aGe57eo6Lyv5qih5oWL5qGGICovfVxuICAgICAgICAgICAgICAgICAgICA8TW9kYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17c2hvd0NhdGVnb3J5Rm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q2F0ZWdvcnlGb3JtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nQ2F0ZWdvcnkobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ0xheWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtlZGl0aW5nQ2F0ZWdvcnkgPyAn57eo6Lyv5YiG6aGeJyA6ICfmlrDlop7liIbpoZ4nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlGb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9e2VkaXRpbmdDYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcj17ZWRpdGluZ0xheWVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2F2ZT17aGFuZGxlU2F2ZUNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dDYXRlZ29yeUZvcm0oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nQ2F0ZWdvcnkobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdMYXllcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cblxuICAgICAgICAgICAgICAgICAgICB7LyogVG9hc3Qg6YCa55+lICovfVxuICAgICAgICAgICAgICAgICAgICB7dG9hc3QgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFRvYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dG9hc3QubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXt0b2FzdC50eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFRvYXN0KG51bGwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5ZWP5Y235L2c562U6aCB6Z2iXG4gICAgICAgIGNvbnN0IFN1cnZleVBhZ2UgPSAoeyB2ZXJzaW9uSWQsIG9uTmF2aWdhdGVUb0J1aWxkZXIgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3ZlcnNpb24sIHNldFZlcnNpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbY3VycmVudFN0ZXAsIHNldEN1cnJlbnRTdGVwXSA9IHVzZVN0YXRlKCdzdXJ2ZXknKTsgLy8gJ3N1cnZleScgfCAnZGVtb2dyYXBoaWNzJyB8ICdyZXN1bHRzJ1xuICAgICAgICAgICAgY29uc3QgW2Fuc3dlcnMsIHNldEFuc3dlcnNdID0gdXNlU3RhdGUoe30pO1xuICAgICAgICAgICAgY29uc3QgW2RlbW9ncmFwaGljcywgc2V0RGVtb2dyYXBoaWNzXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBiaXJ0aDogJycsXG4gICAgICAgICAgICAgICAgZ2VuZGVyOiAn55S35oCnJyxcbiAgICAgICAgICAgICAgICBuYXRpb25hbGl0eTogJycsXG4gICAgICAgICAgICAgICAgY2l0eTogJycsXG4gICAgICAgICAgICAgICAgcHJvZmVzc2lvbjogJycsXG4gICAgICAgICAgICAgICAgZWR1Y2F0aW9uOiAn5aSn5a24JyxcbiAgICAgICAgICAgICAgICBtYXJpdGFsOiAn5pyq5amaJyxcbiAgICAgICAgICAgICAgICByZWxpZ2lvbjogJ+eEoeWul+aVmeS/oeS7sCcsXG4gICAgICAgICAgICAgICAgcmVsaWdpb25PdGhlcjogJycsXG4gICAgICAgICAgICAgICAgbGl2aW5nOiAn6IiH6Kaq5bGs5ZCM5L2PJyxcbiAgICAgICAgICAgICAgICBsaXZpbmdPdGhlcjogJycsXG4gICAgICAgICAgICAgICAgdGVzdERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IFthbmFseXNpc1Jlc3VsdCwgc2V0QW5hbHlzaXNSZXN1bHRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IFt0b2FzdCwgc2V0VG9hc3RdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlLCB0eXBlID0gJ2luZm8nKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9hc3QoeyBtZXNzYWdlLCB0eXBlLCBpZDogRGF0ZS5ub3coKSB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZFZlcnNpb24oKTtcbiAgICAgICAgICAgIH0sIFt2ZXJzaW9uSWRdKTtcblxuICAgICAgICAgICAgY29uc3QgbG9hZFZlcnNpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5pyq5oyH5a6a5ZWP5Y2354mI5pysJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25EYXRhID0gYXdhaXQgZGIuZ2V0KCd2ZXJzaW9ucycsIHZlcnNpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmVyc2lvbkRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5om+5LiN5Yiw5oyH5a6a55qE5ZWP5Y2354mI5pysJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNldFZlcnNpb24odmVyc2lvbkRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+i8ieWFpeWVj+WNt+eJiOacrOWkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn6LyJ5YWl5ZWP5Y2354mI5pys5aSx5pWXJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQW5zd2VyQ2hhbmdlID0gKHF1ZXN0aW9uSWQsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0QW5zd2VycyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgIFtxdWVzdGlvbklkXTogcGFyc2VJbnQodmFsdWUpXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlU3VydmV5U3VibWl0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9ucyA9IHZlcnNpb24uc25hcHNob3QucXVlc3Rpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuYW5zd2VyZWRRdWVzdGlvbnMgPSBxdWVzdGlvbnMuZmlsdGVyKHEgPT4gIWFuc3dlcnNbcS5pZF0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh1bmFuc3dlcmVkUXVlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOmChOaciSAke3VuYW5zd2VyZWRRdWVzdGlvbnMubGVuZ3RofSDpoYzmnKrkvZznrZTvvIzoq4vlrozmiJDmiYDmnInpoYznm67jgIJgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnZGVtb2dyYXBoaWNzJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZW1vZ3JhcGhpY3NTdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyDpqZforYnlv4XloavmrITkvY1cbiAgICAgICAgICAgICAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsnbmFtZScsICdiaXJ0aCcsICduYXRpb25hbGl0eScsICdjaXR5JywgJ3Byb2Zlc3Npb24nXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+ICFkZW1vZ3JhcGhpY3NbZmllbGRdLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG1pc3NpbmdGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgn6KuL5aGr5a+r5omA5pyJ5b+F5aGr5qyE5L2NJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5YSy5a2Y5Zue6KaGXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25JZDogdmVyc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcnM6IE9iamVjdC5lbnRyaWVzKGFuc3dlcnMpLm1hcCgoW3F1ZXN0aW9uSWQsIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZW1vZ3JhcGhpY3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVhOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR6OiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmFkZCgncmVzcG9uc2VzJywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8g6KiI566X5YiG5p6Q57WQ5p6cXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuYWx5c2lzID0gY2FsY3VsYXRlQW5hbHlzaXModmVyc2lvbi5zbmFwc2hvdCwgYW5zd2Vycyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFuYWx5c2lzUmVzdWx0KGFuYWx5c2lzKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFN0ZXAoJ3Jlc3VsdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5ZWP5Y235o+Q5Lqk5oiQ5YqfJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmj5DkuqTllY/ljbflpLHmlZc6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+aPkOS6pOWVj+WNt+WkseaVlycsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZUFuYWx5c2lzID0gKHNuYXBzaG90LCBhbnN3ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjYXRlZ29yaWVzLCBxdWVzdGlvbnMgfSA9IHNuYXBzaG90O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOioiOeul+WQhOe2reW6puW5s+Wdh+WIhlxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZURpbWVuc2lvblNjb3JlID0gKGNhdGVnb3J5SWRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50UXVlc3Rpb25zID0gcXVlc3Rpb25zLmZpbHRlcihxID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgcS5jYXRlZ29yeUlkcy5zb21lKGNhdElkID0+IGNhdGVnb3J5SWRzLmluY2x1ZGVzKGNhdElkKSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWxldmFudFF1ZXN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVzID0gcmVsZXZhbnRRdWVzdGlvbnMubWFwKHEgPT4gYW5zd2Vyc1txLmlkXSkuZmlsdGVyKHNjb3JlID0+IHNjb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3Jlcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3Jlcy5yZWR1Y2UoKHN1bSwgc2NvcmUpID0+IHN1bSArIHNjb3JlLCAwKSAvIHNjb3Jlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIOmdiOaAp+S/rumkiuS4g+mdouWQkVxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY2V0cyA9IGNhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjID0+IGMubGF5ZXIgPT09IExheWVyVHlwZXMuRkFDRVRTXzcpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoYyA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IGNhbGN1bGF0ZURpbWVuc2lvblNjb3JlKFtjLmlkXSlcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgLy8g6Z2I5oCn5YGl5bq35Y2B5qC45b+D5oyH5qiZXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9ycyA9IGNhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjID0+IGMubGF5ZXIgPT09IExheWVyVHlwZXMuSU5ESUNBVE9SU18xMClcbiAgICAgICAgICAgICAgICAgICAgLm1hcChjID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoW2MuaWRdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVsaWdpb3VzOiBjLmlzUmVsaWdpb3VzXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIC8vIOmdiOS/ruS4g+WOn+WJh1xuICAgICAgICAgICAgICAgIGNvbnN0IHByaW5jaXBsZXMgPSBjYXRlZ29yaWVzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYyA9PiBjLmxheWVyID09PSBMYXllclR5cGVzLlBSSU5DSVBMRVNfNylcbiAgICAgICAgICAgICAgICAgICAgLm1hcChjID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoW2MuaWRdKVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBmYWNldHMsXG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvcnMsXG4gICAgICAgICAgICAgICAgICAgIHByaW5jaXBsZXMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUXVlc3Rpb25zOiBxdWVzdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBhbnN3ZXJlZFF1ZXN0aW9uczogT2JqZWN0LmtleXMoYW5zd2VycykubGVuZ3RoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdldFNjb3JlSW50ZXJwcmV0YXRpb24gPSAoc2NvcmUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPT09IG51bGwpIHJldHVybiB7IGxldmVsOiAn5pyq6KmVJywgY29sb3I6ICdncmF5Jywgc3VnZ2VzdGlvbjogJ+atpOmdouWQkeaykuacieebuOmXnOmhjOebricgfTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPCAzKSByZXR1cm4geyBcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6ICflvoXliqDlvLcnLCBcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdyZWQnLCBcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbjogJ+atpOmdouWQkeebruWJjeWBj+S9ju+8jOW7uuitsOW+nuaXpeW4uOimuuWvn+WSjOWFt+mrlOihjOWLlemWi+Wni++8jOmAkOatpeWfuemkiuebuOmXnOeahOmdiOaAp+S/rumkiuOAgicgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPCA0LjUpIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogJ+iJr+WlvScsIFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3llbGxvdycsIFxuICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9uOiAn5YW35YKZ5LiA5a6a5Z+656SO77yM5Y+v6YCy5LiA5q2l5Zyo5pel5bi455Sf5rS75Lit57e057+S77yM5rex5YyW6YCZ5pa56Z2i55qE6Z2I5oCn5L+u6aSK44CCJyBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogJ+WEquengCcsIFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJywgXG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb246ICfooajnj77oia/lpb3vvIzoq4vnubznuozntq3mjIHkuKblmJfoqablvJXlsI7ku5bkurrvvIzlhbHlrbjlhbHlpb3jgIInIFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBkb3dubG9hZFJlc3VsdHMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbW9ncmFwaGljcyxcbiAgICAgICAgICAgICAgICAgICAgYW5zd2VycyxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXNSZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB2ZXJzaW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdmVyc2lvbi5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRvd25sb2FkSlNPTihyZXN1bHRzRGF0YSwgYHNwaXJpdHVhbC1zdXJ2ZXktcmVzdWx0cy0ke2RlbW9ncmFwaGljcy5uYW1lfS0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5qc29uYCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZ1NwaW5uZXIgc2l6ZT1cImxhcmdlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtZ3JheS02MDBcIj7ovInlhaXllY/ljbfkuK0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNFwiPueEoeazlei8ieWFpeWVj+WNtzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uTmF2aWdhdGVUb0J1aWxkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOi/lOWbnue3qOi8r+WZqFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9ucyA9IHZlcnNpb24uc25hcHNob3QucXVlc3Rpb25zO1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJlZFF1ZXN0aW9ucyA9IHZlcnNpb24uc2V0dGluZ3Mub3JkZXJNb2RlID09PSAnUkFORE9NX0FMTCcgXG4gICAgICAgICAgICAgICAgPyBbLi4ucXVlc3Rpb25zXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpXG4gICAgICAgICAgICAgICAgOiBbLi4ucXVlc3Rpb25zXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XG5cbiAgICAgICAgICAgIGNvbnN0IHNjYWxlTGFiZWxzID0gW1xuICAgICAgICAgICAgICAgICcxIOWujOWFqOS4jeespuWQiCcsXG4gICAgICAgICAgICAgICAgJzIg5b6I5LiN56ym5ZCIJywgXG4gICAgICAgICAgICAgICAgJzMg5LiN5aSq56ym5ZCIJyxcbiAgICAgICAgICAgICAgICAnNCDmnInpu57nrKblkIgnLFxuICAgICAgICAgICAgICAgICc1IOW+iOespuWQiCcsXG4gICAgICAgICAgICAgICAgJzYg5a6M5YWo56ym5ZCIJ1xuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS02IG1heC13LTR4bFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIOaomemhjOWNgOWfnyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+6Z2I5oCn5L+u6aSK5ZWP5Y23PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+54mI5pys77yae3ZlcnNpb24ubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRTdGVwID09PSAnc3VydmV5JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOW8leWwjuiqniAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi04IHAtNiBiZy1ibHVlLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS04MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5oKo5piv5ZCm5pu+5oOz6YGO77ya5oiR55qE6KGM56iL5ru/5qqU77yM54K65LuA6bq85YWn5b+D5rex6JmV5LuN5pyD5oSf5Yiw56m66Jmb77yf5LiN5aSq56K65a6a5Lq655Sf55qE55uu5qiZ6IiH5oSP576p5oSf77yf5oiR55qE5YWn5b+D6IiH5Lq66Zqb6Zec5L+C54K65L2V5bi45pyJ5LiA5Lqb6KGd56qB5LiN5ZKM6Kun55qE5Zyw5pa577yf5oOz6JmV55CG6YCZ5Lqb5ZWP6aGM77yM6K6T6Ieq5bex6YGO5b6X5pu05YWF5a+m5ru/6Laz77yM5Y275LiN55+l6YGT5b6e5ZOq6KOh6ZaL5aeL77yf4oCU4oCU5oiW6Kix77yM5piv5pmC5YCZ5L6G54Wn6aGn6Ieq5bex55qE44CM6Z2I5oCn5YGl5bq344CN5LqG77yB6Z2I5oCn5YGl5bq35oyH55qE5piv5LiA5YCL5Lq65YWn5Zyo5piv5ZCm5a6J5a6a44CB5piO55m955Sf5ZG955qE5oSP576p77yM6IO96IiH6Ieq5bex44CB5LuW5Lq644CB6Ieq54S25Y+K5pu05aSn55qE55Sf5ZG96YCj57WQ77yM5bu656uL5ZKM6Kun55qE6Zec5L+C44CC5a6D6K6T5oiR5YCR5Zyo5Zuw6Zuj5Lit5LiN6L+35aSx77yM5Zyo5pel5bi45Lit5om+5Zue5bmz6Z2c6IiH5biM5pyb44CCXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiDllY/ljbfpoYznm64gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3JkZXJlZFF1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtxdWVzdGlvbi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIHBiLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItNCB0ZXh0LWdyYXktOTAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1yLTJcIj57aW5kZXggKyAxfS48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb24udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzY2FsZUxhYmVscy5tYXAoKGxhYmVsLCBzY2FsZUluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGtleT17c2NhbGVJbmRleH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktNTAgcC0yIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcXVlc3Rpb24tJHtxdWVzdGlvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NjYWxlSW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17YW5zd2Vyc1txdWVzdGlvbi5pZF0gPT09IHNjYWxlSW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVBbnN3ZXJDaGFuZ2UocXVlc3Rpb24uaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtaW5kaWdvLTYwMCBmb2N1czpyaW5nLWluZGlnby01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOaPkOS6pOaMiemIlSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VydmV5U3VibWl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBweC04IHB5LTMgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlrozmiJDllY/ljbfvvIzloavlr6vln7rmnKzos4fmlplcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ2RlbW9ncmFwaGljcycgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi02XCI+5Z+65pys6LOH5paZPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVEZW1vZ3JhcGhpY3NTdWJtaXR9IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlp5PlkI0gKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHsuLi5kZW1vZ3JhcGhpY3MsIG5hbWU6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnlJ/ml6UgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MuYmlydGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh7Li4uZGVtb2dyYXBoaWNzLCBiaXJ0aDogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaAp+WIpVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLmdlbmRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHsuLi5kZW1vZ3JhcGhpY3MsIGdlbmRlcjogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIueUt+aAp1wiPueUt+aApzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIuWls+aAp1wiPuWls+aApzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIuWFtuS7llwiPuWFtuS7ljwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5ZyL57GNICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLm5hdGlvbmFsaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREZW1vZ3JhcGhpY3Moey4uLmRlbW9ncmFwaGljcywgbmF0aW9uYWxpdHk6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnm67liY3lsYXkvY/ln47luIIgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MuY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHsuLi5kZW1vZ3JhcGhpY3MsIGNpdHk6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDogbfmpa0gKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MucHJvZmVzc2lvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHsuLi5kZW1vZ3JhcGhpY3MsIHByb2Zlc3Npb246IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmlZnogrLnqIvluqZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5lZHVjYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh7Li4uZGVtb2dyYXBoaWNzLCBlZHVjYXRpb246IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLlnIvlsI/lj4rku6XkuItcIj7lnIvlsI/lj4rku6XkuIs8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLlnIvkuK1cIj7lnIvkuK08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLpq5jkuK3ogbdcIj7pq5jkuK3ogbc8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLlsIjnp5FcIj7lsIjnp5E8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLlpKflrbhcIj7lpKflrbg8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLnoqnlo6tcIj7noqnlo6s8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCLljZrlo6tcIj7ljZrlo6s8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWpmuWnu+eLgOazgVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLm1hcml0YWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh7Li4uZGVtb2dyYXBoaWNzLCBtYXJpdGFsOiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5pyq5amaXCI+5pyq5amaPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5bey5amaXCI+5bey5amaPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi6Zui5amaXCI+6Zui5amaPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5Zaq5YG2XCI+5Zaq5YG2PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlrpfmlZnkv6Hku7BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5yZWxpZ2lvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHsuLi5kZW1vZ3JhcGhpY3MsIHJlbGlnaW9uOiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi54Sh5a6X5pWZ5L+h5LuwXCI+54Sh5a6X5pWZ5L+h5LuwPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5L2b5pWZXCI+5L2b5pWZPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi6YGT5pWZXCI+6YGT5pWZPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5Z+6552j5pWZXCI+5Z+6552j5pWZPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5aSp5Li75pWZXCI+5aSp5Li75pWZPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5LyK5pav6Jit5pWZXCI+5LyK5pav6Jit5pWZPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwi5YW25LuWXCI+5YW25LuWPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RlbW9ncmFwaGljcy5yZWxpZ2lvbiA9PT0gJ+WFtuS7licgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5YW25LuW5a6X5pWZ5L+h5LuwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MucmVsaWdpb25PdGhlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh7Li4uZGVtb2dyYXBoaWNzLCByZWxpZ2lvbk90aGVyOiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxheS9j+eLgOazgVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLmxpdmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHsuLi5kZW1vZ3JhcGhpY3MsIGxpdmluZzogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIueNqOWxhVwiPueNqOWxhTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIuiIh+imquWxrOWQjOS9j1wiPuiIh+imquWxrOWQjOS9jzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIuiIh+mdnuimquWxrOWQjOS9j1wiPuiIh+mdnuimquWxrOWQjOS9jzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIuWFtuS7llwiPuWFtuS7ljwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZW1vZ3JhcGhpY3MubGl2aW5nID09PSAn5YW25LuWJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlhbbku5blsYXkvY/ni4Dms4FcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5saXZpbmdPdGhlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh7Li4uZGVtb2dyYXBoaWNzLCBsaXZpbmdPdGhlcjogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmqqLmuKzml6XmnJ9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLnRlc3REYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREZW1vZ3JhcGhpY3Moey4uLmRlbW9ncmFwaGljcywgdGVzdERhdGU6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBweC04IHB5LTMgcm91bmRlZC1tZCBob3ZlcjpiZy1pbmRpZ28tNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaPkOS6pOS4puafpeeci+e1kOaenFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ3Jlc3VsdHMnICYmIGFuYWx5c2lzUmVzdWx0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog57i96Ka95Y2h54mHICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+5qqi5ris5a6M5oiQPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTRcIj7mhJ/orJ3mgqjlrozmiJDpnYjmgKfkv67ppIrllY/ljbc8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIHNwYWNlLXgtOCB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+54mI5pys77yae3ZlcnNpb24ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuWujOaIkOaZgumWk++8mntmb3JtYXREYXRlKG5ldyBEYXRlKCkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+6aGM55uu5pW477yae2FuYWx5c2lzUmVzdWx0LnRvdGFsUXVlc3Rpb25zfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog6Z2I5oCn5L+u6aSK5LiD6Z2i5ZCRICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNlwiPumdiOaAp+S/rumkiuS4g+mdouWQkTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthbmFseXNpc1Jlc3VsdC5mYWNldHMubWFwKChmYWNldCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJwcmV0YXRpb24gPSBnZXRTY29yZUludGVycHJldGF0aW9uKGZhY2V0LnNjb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57ZmFjZXQubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycHJldGF0aW9uLmNvbG9yID09PSAncmVkJyA/ICdiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycHJldGF0aW9uLmNvbG9yID09PSAneWVsbG93JyA/ICdiZy15ZWxsb3ctMTAwIHRleHQteWVsbG93LTgwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycHJldGF0aW9uLmNvbG9yID09PSAnZ3JlZW4nID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbnRlcnByZXRhdGlvbi5sZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZhY2V0LnNjb3JlID8gZmFjZXQuc2NvcmUudG9GaXhlZCgxKSA6ICdOL0EnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj57aW50ZXJwcmV0YXRpb24uc3VnZ2VzdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog6Z2I5oCn5YGl5bq35Y2B5qC45b+D5oyH5qiZICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNlwiPumdiOaAp+WBpeW6t+WNgeaguOW/g+aMh+aomTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthbmFseXNpc1Jlc3VsdC5pbmRpY2F0b3JzLm1hcCgoaW5kaWNhdG9yLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnByZXRhdGlvbiA9IGdldFNjb3JlSW50ZXJwcmV0YXRpb24oaW5kaWNhdG9yLnNjb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e2luZGljYXRvci5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kaWNhdG9yLmlzUmVsaWdpb3VzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC14cyBiZy1wdXJwbGUtMTAwIHRleHQtcHVycGxlLTgwMCByb3VuZGVkXCI+5a6X5pWZ5oCnPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0yIHB5LTEgcm91bmRlZCB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24uY29sb3IgPT09ICdyZWQnID8gJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24uY29sb3IgPT09ICd5ZWxsb3cnID8gJ2JnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24uY29sb3IgPT09ICdncmVlbicgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JnLWdyYXktMTAwIHRleHQtZ3JheS04MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ludGVycHJldGF0aW9uLmxldmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kaWNhdG9yLnNjb3JlID8gaW5kaWNhdG9yLnNjb3JlLnRvRml4ZWQoMSkgOiAnTi9BJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+e2ludGVycHJldGF0aW9uLnN1Z2dlc3Rpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOmdiOS/ruS4g+WOn+WJhyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTZcIj7pnYjkv67kuIPljp/liYc8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YW5hbHlzaXNSZXN1bHQucHJpbmNpcGxlcy5tYXAoKHByaW5jaXBsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJwcmV0YXRpb24gPSBnZXRTY29yZUludGVycHJldGF0aW9uKHByaW5jaXBsZS5zY29yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e3ByaW5jaXBsZS5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0yIHB5LTEgcm91bmRlZCB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24uY29sb3IgPT09ICdyZWQnID8gJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24uY29sb3IgPT09ICd5ZWxsb3cnID8gJ2JnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24uY29sb3IgPT09ICdncmVlbicgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JnLWdyYXktMTAwIHRleHQtZ3JheS04MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ludGVycHJldGF0aW9uLmxldmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJpbmNpcGxlLnNjb3JlID8gcHJpbmNpcGxlLnNjb3JlLnRvRml4ZWQoMSkgOiAnTi9BJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+e2ludGVycHJldGF0aW9uLnN1Z2dlc3Rpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOaTjeS9nOaMiemIlSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAganVzdGlmeS1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Rvd25sb2FkUmVzdWx0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHgtNiBweS0yIHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JlZW4tNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOS4i+i8iee1kOaenFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25OYXZpZ2F0ZVRvQnVpbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS02MDAgdGV4dC13aGl0ZSBweC02IHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDov5Tlm57nt6jovK/lmahcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBUb2FzdCDpgJrnn6UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9hc3QgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUb2FzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0b2FzdC5tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXt0b2FzdC50eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRUb2FzdChudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIOS4u+aHieeUqOe1hOS7tlxuICAgICAgICBjb25zdCBBcHAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKCdidWlsZGVyJyk7IC8vICdidWlsZGVyJyB8ICdzdXJ2ZXknXG4gICAgICAgICAgICBjb25zdCBbc3VydmV5VmVyc2lvbklkLCBzZXRTdXJ2ZXlWZXJzaW9uSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbaW5pdGlhbGl6ZWQsIHNldEluaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplQXBwKCk7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxpemVBcHAgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8g5qqi5p+l5piv5ZCm6ZyA6KaB5Yid5aeL5YyW6LOH5paZXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBkYi5nZXRBbGwoJ2NhdGVnb3JpZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVlc3Rpb25zID0gYXdhaXQgZGIuZ2V0QWxsKCdxdWVzdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoSU5JVElBTF9DQVRFR09SSUVTLm1hcChjYXQgPT4gZGIuYWRkKCdjYXRlZ29yaWVzJywgY2F0KSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoSU5JVElBTF9RVUVTVElPTlMubWFwKHEgPT4gZGIuYWRkKCdxdWVzdGlvbnMnLCBxKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyDmqqLmn6UgVVJMIOWPg+aVuFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNwbGl0KCc/JylbMV0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uSWQgPSB1cmxQYXJhbXMuZ2V0KCd2ZXJzaW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdXJ2ZXlWZXJzaW9uSWQodmVyc2lvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKCdzdXJ2ZXknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbGl6ZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5oeJ55So5Yid5aeL5YyW5aSx5pWXOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aHieeUqOWIneWni+WMluWkseaVl++8jOiri+mHjeaWsOaVtOeQhumggemdoicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRlVG9TdXJ2ZXkgPSAodmVyc2lvbklkKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U3VydmV5VmVyc2lvbklkKHZlcnNpb25JZCk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoJ3N1cnZleScpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gYCNzdXJ2ZXk/dmVyc2lvbj0ke3ZlcnNpb25JZH1gO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgbmF2aWdhdGVUb0J1aWxkZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoJ2J1aWxkZXInKTtcbiAgICAgICAgICAgICAgICBzZXRTdXJ2ZXlWZXJzaW9uSWQobnVsbCk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnI2J1aWxkZXInO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZ1NwaW5uZXIgc2l6ZT1cImxhcmdlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtZ3JheS02MDBcIj7ns7vntbHliJ3lp4vljJbkuK0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjdXJyZW50UGFnZSA9PT0gJ2J1aWxkZXInICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGVyUGFnZSBvbk5hdmlnYXRlVG9TdXJ2ZXk9e25hdmlnYXRlVG9TdXJ2ZXl9IC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFBhZ2UgPT09ICdzdXJ2ZXknICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdXJ2ZXlQYWdlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25JZD17c3VydmV5VmVyc2lvbklkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk5hdmlnYXRlVG9CdWlsZGVyPXtuYXZpZ2F0ZVRvQnVpbGRlcn0gXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDmuLLmn5Pmh4nnlKhcbiAgICAgICAgUmVhY3RET00ucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuICAgICJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OzswQkFDQSx1S0FBQUEsQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsd0JBQUFDLE1BQUEsR0FBQUEsTUFBQSxPQUFBQyxDQUFBLEdBQUFGLENBQUEsQ0FBQUcsUUFBQSxrQkFBQUMsQ0FBQSxHQUFBSixDQUFBLENBQUFLLFdBQUEsOEJBQUFDLEVBQUFOLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLEVBQUFFLENBQUEsUUFBQUMsQ0FBQSxHQUFBTCxDQUFBLElBQUFBLENBQUEsQ0FBQU0sU0FBQSxZQUFBQyxTQUFBLEdBQUFQLENBQUEsR0FBQU8sU0FBQSxFQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsTUFBQSxDQUFBTCxDQUFBLENBQUFDLFNBQUEsVUFBQUssbUJBQUEsQ0FBQUgsQ0FBQSx1QkFBQVYsQ0FBQSxFQUFBRSxDQUFBLEVBQUFFLENBQUEsUUFBQUUsQ0FBQSxFQUFBQyxDQUFBLEVBQUFHLENBQUEsRUFBQUksQ0FBQSxNQUFBQyxDQUFBLEdBQUFYLENBQUEsUUFBQVksQ0FBQSxPQUFBQyxDQUFBLEtBQUFGLENBQUEsS0FBQWIsQ0FBQSxLQUFBZ0IsQ0FBQSxFQUFBcEIsQ0FBQSxFQUFBcUIsQ0FBQSxFQUFBQyxDQUFBLEVBQUFOLENBQUEsRUFBQU0sQ0FBQSxDQUFBQyxJQUFBLENBQUF2QixDQUFBLE1BQUFzQixDQUFBLFdBQUFBLEVBQUFyQixDQUFBLEVB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QUFFZixFQUFFLEVBQUUsU0FBUztFQUFFWSxLQUFLLEVBQUV0RSxVQUFVLENBQUNDLFFBQVE7RUFBRXNFLElBQUksRUFBRSxNQUFNO0VBQUVDLFFBQVEsRUFBRSxJQUFJO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDckY7RUFBRWYsRUFBRSxFQUFFLFNBQVM7RUFBRVksS0FBSyxFQUFFdEUsVUFBVSxDQUFDQyxRQUFRO0VBQUVzRSxJQUFJLEVBQUUsTUFBTTtFQUFFQyxRQUFRLEVBQUUsSUFBSTtFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDLEVBQ3JGO0VBQUVmLEVBQUUsRUFBRSxTQUFTO0VBQUVZLEtBQUssRUFBRXRFLFVBQVUsQ0FBQ0MsUUFBUTtFQUFFc0UsSUFBSSxFQUFFLE1BQU07RUFBRUMsUUFBUSxFQUFFLElBQUk7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQyxFQUNyRjtFQUFFZixFQUFFLEVBQUUsU0FBUztFQUFFWSxLQUFLLEVBQUV0RSxVQUFVLENBQUNDLFFBQVE7RUFBRXNFLElBQUksRUFBRSxPQUFPO0VBQUVDLFFBQVEsRUFBRSxJQUFJO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDdEY7RUFBRWYsRUFBRSxFQUFFLFNBQVM7RUFBRVksS0FBSyxFQUFFdEUsVUFBVSxDQUFDQyxRQUFRO0VBQUVzRSxJQUFJLEVBQUUsU0FBUztFQUFFQyxRQUFRLEVBQUUsSUFBSTtFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDLEVBQ3hGO0VBQUVmLEVBQUUsRUFBRSxTQUFTO0VBQUVZLEtBQUssRUFBRXRFLFVBQVUsQ0FBQ0MsUUFBUTtFQUFFc0UsSUFBSSxFQUFFLFdBQVc7RUFBRUMsUUFBUSxFQUFFLElBQUk7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQztBQUUxRjtBQUNBO0VBQUVmLEVBQUUsRUFBRSxhQUFhO0VBQUVZLEtBQUssRUFBRXRFLFVBQVUsQ0FBQ0UsYUFBYTtFQUFFcUUsSUFBSSxFQUFFLE1BQU07RUFBRUMsUUFBUSxFQUFFLElBQUk7RUFBRUMsS0FBSyxFQUFFO0FB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</script></head>
<body>
    <div id="root"><div class="min-h-screen bg-gray-50"><div class="min-h-screen bg-gray-50"><div class="container mx-auto px-4 py-6"><div class="mb-6"><h1 class="text-3xl font-bold text-gray-900 mb-2">靈性修養問卷編輯系統</h1><p class="text-gray-600">管理分類、編輯題目、預覽問卷</p></div><div class="mb-6 bg-white p-4 rounded-lg shadow"><div class="flex flex-wrap items-center justify-between gap-4"><div class="flex items-center space-x-4"><button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700">新增題目</button><div class="flex items-center space-x-2"><label class="text-sm text-gray-700">預覽順序:</label><select class="px-3 py-1 border border-gray-300 rounded text-sm"><option value="category">按分類順序</option><option value="random">隨機化預覽</option></select></div></div><div class="space-y-4"><div class="flex flex-wrap gap-2"><button class="px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm">版本管理</button><button class="px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm">匯出資料</button><button class="px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm">匯入資料</button><input type="file" accept=".json" class="hidden"></div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-12 gap-6"><div class="lg:col-span-3"><div class="bg-white p-4 rounded-lg shadow"><h2 class="text-lg font-semibold text-gray-800 mb-4">分類管理</h2><div class="category-tree"><div class="mb-6"><div class="flex items-center justify-between mb-2"><h3 class="font-semibold text-gray-800">靈性修養七面向</h3></div><div class="border-l-2 border-gray-200 ml-2"><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">起心動念</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">後設思考</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">意義追尋</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">人際靈修</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">物質與環境</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">與超越者的連結</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">生活形態與全人健康</span></div></div></div></div><div class="mb-6"><div class="flex items-center justify-between mb-2"><h3 class="font-semibold text-gray-800">靈性健康十核心指標</h3></div><div class="border-l-2 border-gray-200 ml-2"><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">人格統整</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">追求真理的後設反思</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">意義與目的</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">愛與同理</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">寬恕與和解</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">感恩與喜樂</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">財物倫理與靈修</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">惜物與共生</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">信仰與連結</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">宗教信仰與靈性修養</span></div></div></div></div><div class="mb-6"><div class="flex items-center justify-between mb-2"><h3 class="font-semibold text-gray-800">靈修七原則</h3></div><div class="border-l-2 border-gray-200 ml-2"><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">在每一個人身上看見神、看見佛、看見人</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">第一個去愛、第一個去給</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">給人信心、給人希望、給人歡喜、給人方便</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">緩於發怒、敏於寬恕、勇於道歉、時時感恩</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">連結神聖、追求意義、擇善固執、不變隨緣</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">役物不役於物，惜物厚生濟世</span></div></div><div class="select-none"><div class="flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 " style="padding-left: 8px;"><span class="w-6"></span><span class="flex-1 text-sm">誠意正心、戒慎恐懼、後設反思、開放公正</span></div></div></div></div><div class="mb-6"><div class="flex items-center justify-between mb-2"><h3 class="font-semibold text-gray-800">日常靈修實踐</h3><button class="text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700">新增</button></div><div class="border-l-2 border-gray-200 ml-2"></div></div></div></div></div><div class="lg:col-span-5"><div class="bg-white p-4 rounded-lg shadow"><h2 class="text-lg font-semibold text-gray-800 mb-4">題目管理</h2><div class="space-y-4"><div class="flex flex-wrap gap-4"><input type="text" placeholder="搜尋題目..." class="flex-1 min-w-48 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" value=""><select class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"><option value="">所有分類</option><option value="facet-1">起心動念</option><option value="facet-2">後設思考</option><option value="facet-3">意義追尋</option><option value="facet-4">人際靈修</option><option value="facet-5">物質與環境</option><option value="facet-6">與超越者的連結</option><option value="facet-7">生活形態與全人健康</option><option value="indicator-1">人格統整</option><option value="indicator-10">宗教信仰與靈性修養</option><option value="indicator-2">追求真理的後設反思</option><option value="indicator-3">意義與目的</option><option value="indicator-4">愛與同理</option><option value="indicator-5">寬恕與和解</option><option value="indicator-6">感恩與喜樂</option><option value="indicator-7">財物倫理與靈修</option><option value="indicator-8">惜物與共生</option><option value="indicator-9">信仰與連結</option><option value="principle-1">在每一個人身上看見神、看見佛、看見人</option><option value="principle-2">第一個去愛、第一個去給</option><option value="principle-3">給人信心、給人希望、給人歡喜、給人方便</option><option value="principle-4">緩於發怒、敏於寬恕、勇於道歉、時時感恩</option><option value="principle-5">連結神聖、追求意義、擇善固執、不變隨緣</option><option value="principle-6">役物不役於物，惜物厚生濟世</option><option value="principle-7">誠意正心、戒慎恐懼、後設反思、開放公正</option></select><select class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"><option value="all">全部題目</option><option value="religious">宗教性題目</option><option value="non-religious">非宗教性題目</option></select></div><div class="question-list space-y-2"><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#1</span></div><p class="text-gray-900 mb-2">我能夠覺察自己的情緒變化，並適當地表達</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">起心動念</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">人格統整</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#2</span></div><p class="text-gray-900 mb-2">我會反思自己的行為是否符合內心的價值觀</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">後設思考</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">追求真理的後設反思</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#3</span></div><p class="text-gray-900 mb-2">我清楚知道自己人生的目標和意義</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">意義追尋</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">意義與目的</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#4</span></div><p class="text-gray-900 mb-2">我能夠真誠地關懷他人的需要</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">人際靈修</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">愛與同理</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">第一個去愛、第一個去給</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#5</span></div><p class="text-gray-900 mb-2">我會珍惜物質資源，避免浪費</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">物質與環境</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">惜物與共生</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">役物不役於物，惜物厚生濟世</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#6</span><span class="px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded">宗教性</span></div><p class="text-gray-900 mb-2">我相信有比自己更大的力量存在</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">與超越者的連結</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">信仰與連結</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#7</span></div><p class="text-gray-900 mb-2">我會為自己的健康負責，保持良好的生活習慣</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">生活形態與全人健康</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#8</span></div><p class="text-gray-900 mb-2">我能夠寬恕傷害過我的人</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">寬恕與和解</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">緩於發怒、敏於寬恕、勇於道歉、時時感恩</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#9</span></div><p class="text-gray-900 mb-2">我經常感到感恩和喜悅</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">感恩與喜樂</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">緩於發怒、敏於寬恕、勇於道歉、時時感恩</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#10</span><span class="px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded">宗教性</span></div><p class="text-gray-900 mb-2">我會透過宗教活動來滋養自己的靈性</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">宗教信仰與靈性修養</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#11</span></div><p class="text-gray-900 mb-2">我能夠在每個人身上看到值得尊重的地方</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">在每一個人身上看見神、看見佛、看見人</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#12</span></div><p class="text-gray-900 mb-2">我願意主動給予他人幫助和支持</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">第一個去愛、第一個去給</span><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">給人信心、給人希望、給人歡喜、給人方便</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#13</span></div><p class="text-gray-900 mb-2">我能夠控制自己的怒氣，以平和的態度處理衝突</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">緩於發怒、敏於寬恕、勇於道歉、時時感恩</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#14</span></div><p class="text-gray-900 mb-2">我會堅持自己認為正確的價值觀</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">連結神聖、追求意義、擇善固執、不變隨緣</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div><div draggable="true" class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move "><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center space-x-2 mb-2"><span class="text-sm text-gray-500">#15</span></div><p class="text-gray-900 mb-2">我會定期反省自己的言行是否恰當</p><div class="flex flex-wrap gap-1"><span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">誠意正心、戒慎恐懼、後設反思、開放公正</span></div></div><div class="flex space-x-2 ml-4"><button class="text-blue-600 hover:text-blue-800 text-sm">編輯</button><button class="text-red-600 hover:text-red-800 text-sm">刪除</button></div></div></div></div></div></div></div><div class="lg:col-span-4"><div class="bg-white p-4 rounded-lg shadow"><div class="preview-pane space-y-6"><div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-gray-800">問卷預覽</h3><button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">生成問卷</button></div><div class="bg-white p-6 rounded-lg shadow"><div class="mb-6 p-4 bg-blue-50 rounded-lg"><p class="text-sm text-blue-800 leading-relaxed">您是否曾想過：我的行程滿檔，為什麼內心深處仍會感到空虛？不太確定人生的目標與意義感？我的內心與人際關係為何常有一些衝突不和諧的地方？想處理這些問題，讓自己過得更充實滿足，卻不知道從哪裡開始？——或許，是時候來照顧自己的「靈性健康」了！靈性健康指的是一個人內在是否安定、明白生命的意義，能與自己、他人、自然及更大的生命連結，建立和諧的關係。它讓我們在困難中不迷失，在日常中找回平靜與希望。</p></div><div class="space-y-6"><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">1.</span>我能夠覺察自己的情緒變化，並適當地表達</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q1" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q1" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q1" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q1" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q1" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q1" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">2.</span>我會反思自己的行為是否符合內心的價值觀</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q2" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q2" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q2" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q2" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q2" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q2" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">3.</span>我清楚知道自己人生的目標和意義</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q3" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q3" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q3" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q3" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q3" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q3" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">4.</span>我能夠真誠地關懷他人的需要</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q4" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q4" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q4" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q4" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q4" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q4" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">5.</span>我會珍惜物質資源，避免浪費</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q5" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q5" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q5" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q5" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q5" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q5" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">6.</span>我相信有比自己更大的力量存在</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q6" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q6" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q6" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q6" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q6" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q6" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">7.</span>我會為自己的健康負責，保持良好的生活習慣</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q7" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q7" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q7" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q7" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q7" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q7" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">8.</span>我能夠寬恕傷害過我的人</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q8" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q8" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q8" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q8" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q8" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q8" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">9.</span>我經常感到感恩和喜悅</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q9" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q9" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q9" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q9" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q9" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q9" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">10.</span>我會透過宗教活動來滋養自己的靈性</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q10" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q10" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q10" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q10" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q10" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q10" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">11.</span>我能夠在每個人身上看到值得尊重的地方</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q11" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q11" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q11" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q11" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q11" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q11" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">12.</span>我願意主動給予他人幫助和支持</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q12" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q12" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q12" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q12" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q12" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q12" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">13.</span>我能夠控制自己的怒氣，以平和的態度處理衝突</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q13" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q13" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q13" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q13" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q13" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q13" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">14.</span>我會堅持自己認為正確的價值觀</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q14" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q14" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q14" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q14" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q14" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q14" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div><div class="border-b border-gray-200 pb-4"><p class="mb-3 text-gray-900"><span class="text-gray-500 mr-2">15.</span>我會定期反省自己的言行是否恰當</p><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q15" disabled="" class="text-indigo-600" value="1"><span class="text-gray-600">1 完全不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q15" disabled="" class="text-indigo-600" value="2"><span class="text-gray-600">2 很不符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q15" disabled="" class="text-indigo-600" value="3"><span class="text-gray-600">3 不太符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q15" disabled="" class="text-indigo-600" value="4"><span class="text-gray-600">4 有點符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q15" disabled="" class="text-indigo-600" value="5"><span class="text-gray-600">5 很符合</span></label><label class="flex items-center space-x-2 text-sm cursor-not-allowed"><input type="radio" name="preview-q15" disabled="" class="text-indigo-600" value="6"><span class="text-gray-600">6 完全符合</span></label></div></div></div><div class="mt-6 text-center"><p class="text-gray-500 text-sm">預覽模式 - 無法作答</p></div></div></div></div></div></div></div></div></div></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo, useRef } = React;

        // 資料模型定義
        const LayerTypes = {
            FACETS_7: 'FACETS_7',
            INDICATORS_10: 'INDICATORS_10', 
            PRINCIPLES_7: 'PRINCIPLES_7',
            PRACTICES: 'PRACTICES'
        };

        // IndexedDB 管理
        class DatabaseManager {
            constructor() {
                this.dbName = 'SpiritualSurveyDB';
                this.version = 1;
                this.db = null;
            }

            async init() {
                return new Promise((resolve, reject) => {
                    const request = indexedDB.open(this.dbName, this.version);
                    
                    request.onerror = () => reject(request.error);
                    request.onsuccess = () => {
                        this.db = request.result;
                        resolve(this.db);
                    };
                    
                    request.onupgradeneeded = (event) => {
                        const db = event.target.result;
                        
                        // 分類表
                        if (!db.objectStoreNames.contains('categories')) {
                            const categoryStore = db.createObjectStore('categories', { keyPath: 'id' });
                            categoryStore.createIndex('layer', 'layer', { unique: false });
                            categoryStore.createIndex('parentId', 'parentId', { unique: false });
                        }
                        
                        // 題目表
                        if (!db.objectStoreNames.contains('questions')) {
                            const questionStore = db.createObjectStore('questions', { keyPath: 'id' });
                            questionStore.createIndex('archived', 'archived', { unique: false });
                        }
                        
                        // 版本表
                        if (!db.objectStoreNames.contains('versions')) {
                            db.createObjectStore('versions', { keyPath: 'id' });
                        }
                        
                        // 回覆表
                        if (!db.objectStoreNames.contains('responses')) {
                            const responseStore = db.createObjectStore('responses', { keyPath: 'id' });
                            responseStore.createIndex('versionId', 'versionId', { unique: false });
                            responseStore.createIndex('createdAt', 'createdAt', { unique: false });
                        }
                    };
                });
            }

            async getAll(storeName) {
                const transaction = this.db.transaction([storeName], 'readonly');
                const store = transaction.objectStore(storeName);
                return new Promise((resolve, reject) => {
                    const request = store.getAll();
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async add(storeName, data) {
                const transaction = this.db.transaction([storeName], 'readwrite');
                const store = transaction.objectStore(storeName);
                return new Promise((resolve, reject) => {
                    const request = store.add(data);
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async put(storeName, data) {
                const transaction = this.db.transaction([storeName], 'readwrite');
                const store = transaction.objectStore(storeName);
                return new Promise((resolve, reject) => {
                    const request = store.put(data);
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async delete(storeName, id) {
                const transaction = this.db.transaction([storeName], 'readwrite');
                const store = transaction.objectStore(storeName);
                return new Promise((resolve, reject) => {
                    const request = store.delete(id);
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async get(storeName, id) {
                const transaction = this.db.transaction([storeName], 'readonly');
                const store = transaction.objectStore(storeName);
                return new Promise((resolve, reject) => {
                    const request = store.get(id);
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }
        }

        // 全域資料庫實例
        const db = new DatabaseManager();

        // 初始資料
        const INITIAL_CATEGORIES = [
            // 層級1：靈性修養七面向
            { id: 'facet-1', layer: LayerTypes.FACETS_7, name: '起心動念', parentId: null, order: 1 },
            { id: 'facet-2', layer: LayerTypes.FACETS_7, name: '後設思考', parentId: null, order: 2 },
            { id: 'facet-3', layer: LayerTypes.FACETS_7, name: '意義追尋', parentId: null, order: 3 },
            { id: 'facet-4', layer: LayerTypes.FACETS_7, name: '人際靈修', parentId: null, order: 4 },
            { id: 'facet-5', layer: LayerTypes.FACETS_7, name: '物質與環境', parentId: null, order: 5 },
            { id: 'facet-6', layer: LayerTypes.FACETS_7, name: '與超越者的連結', parentId: null, order: 6 },
            { id: 'facet-7', layer: LayerTypes.FACETS_7, name: '生活形態與全人健康', parentId: null, order: 7 },
            
            // 層級2：靈性健康十核心指標
            { id: 'indicator-1', layer: LayerTypes.INDICATORS_10, name: '人格統整', parentId: null, order: 1 },
            { id: 'indicator-2', layer: LayerTypes.INDICATORS_10, name: '追求真理的後設反思', parentId: null, order: 2 },
            { id: 'indicator-3', layer: LayerTypes.INDICATORS_10, name: '意義與目的', parentId: null, order: 3 },
            { id: 'indicator-4', layer: LayerTypes.INDICATORS_10, name: '愛與同理', parentId: null, order: 4 },
            { id: 'indicator-5', layer: LayerTypes.INDICATORS_10, name: '寬恕與和解', parentId: null, order: 5 },
            { id: 'indicator-6', layer: LayerTypes.INDICATORS_10, name: '感恩與喜樂', parentId: null, order: 6 },
            { id: 'indicator-7', layer: LayerTypes.INDICATORS_10, name: '財物倫理與靈修', parentId: null, order: 7 },
            { id: 'indicator-8', layer: LayerTypes.INDICATORS_10, name: '惜物與共生', parentId: null, order: 8 },
            { id: 'indicator-9', layer: LayerTypes.INDICATORS_10, name: '信仰與連結', parentId: null, order: 9, isReligious: true },
            { id: 'indicator-10', layer: LayerTypes.INDICATORS_10, name: '宗教信仰與靈性修養', parentId: null, order: 10, isReligious: true },
            
            // 層級3：靈修七原則
            { id: 'principle-1', layer: LayerTypes.PRINCIPLES_7, name: '在每一個人身上看見神、看見佛、看見人', parentId: null, order: 1 },
            { id: 'principle-2', layer: LayerTypes.PRINCIPLES_7, name: '第一個去愛、第一個去給', parentId: null, order: 2 },
            { id: 'principle-3', layer: LayerTypes.PRINCIPLES_7, name: '給人信心、給人希望、給人歡喜、給人方便', parentId: null, order: 3 },
            { id: 'principle-4', layer: LayerTypes.PRINCIPLES_7, name: '緩於發怒、敏於寬恕、勇於道歉、時時感恩', parentId: null, order: 4 },
            { id: 'principle-5', layer: LayerTypes.PRINCIPLES_7, name: '連結神聖、追求意義、擇善固執、不變隨緣', parentId: null, order: 5 },
            { id: 'principle-6', layer: LayerTypes.PRINCIPLES_7, name: '役物不役於物，惜物厚生濟世', parentId: null, order: 6 },
            { id: 'principle-7', layer: LayerTypes.PRINCIPLES_7, name: '誠意正心、戒慎恐懼、後設反思、開放公正', parentId: null, order: 7 },
        ];

        const INITIAL_QUESTIONS = [
            { id: 'q1', text: '我能夠覺察自己的情緒變化，並適當地表達', categoryIds: ['facet-1', 'indicator-1'], isReligious: false, order: 1 },
            { id: 'q2', text: '我會反思自己的行為是否符合內心的價值觀', categoryIds: ['facet-2', 'indicator-2'], isReligious: false, order: 2 },
            { id: 'q3', text: '我清楚知道自己人生的目標和意義', categoryIds: ['facet-3', 'indicator-3'], isReligious: false, order: 3 },
            { id: 'q4', text: '我能夠真誠地關懷他人的需要', categoryIds: ['facet-4', 'indicator-4', 'principle-2'], isReligious: false, order: 4 },
            { id: 'q5', text: '我會珍惜物質資源，避免浪費', categoryIds: ['facet-5', 'indicator-8', 'principle-6'], isReligious: false, order: 5 },
            { id: 'q6', text: '我相信有比自己更大的力量存在', categoryIds: ['facet-6', 'indicator-9'], isReligious: true, order: 6 },
            { id: 'q7', text: '我會為自己的健康負責，保持良好的生活習慣', categoryIds: ['facet-7'], isReligious: false, order: 7 },
            { id: 'q8', text: '我能夠寬恕傷害過我的人', categoryIds: ['indicator-5', 'principle-4'], isReligious: false, order: 8 },
            { id: 'q9', text: '我經常感到感恩和喜悅', categoryIds: ['indicator-6', 'principle-4'], isReligious: false, order: 9 },
            { id: 'q10', text: '我會透過宗教活動來滋養自己的靈性', categoryIds: ['indicator-10'], isReligious: true, order: 10 },
            { id: 'q11', text: '我能夠在每個人身上看到值得尊重的地方', categoryIds: ['principle-1'], isReligious: false, order: 11 },
            { id: 'q12', text: '我願意主動給予他人幫助和支持', categoryIds: ['principle-2', 'principle-3'], isReligious: false, order: 12 },
            { id: 'q13', text: '我能夠控制自己的怒氣，以平和的態度處理衝突', categoryIds: ['principle-4'], isReligious: false, order: 13 },
            { id: 'q14', text: '我會堅持自己認為正確的價值觀', categoryIds: ['principle-5'], isReligious: false, order: 14 },
            { id: 'q15', text: '我會定期反省自己的言行是否恰當', categoryIds: ['principle-7'], isReligious: false, order: 15 }
        ];

        // 工具函數
        const generateId = () => Math.random().toString(36).substr(2, 9);
        
        const formatDate = (date) => {
            return new Date(date).toLocaleDateString('zh-TW', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
        };

        const downloadJSON = (data, filename) => {
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        };

        const downloadCSV = (data, filename) => {
            const csv = convertToCSV(data);
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        };

        const convertToCSV = (data) => {
            if (!data.length) return '';
            
            const headers = Object.keys(data[0]);
            const csvContent = [
                headers.join(','),
                ...data.map(row => 
                    headers.map(header => {
                        const value = row[header];
                        if (typeof value === 'object') {
                            return `"${JSON.stringify(value).replace(/"/g, '""')}"`;
                        }
                        return `"${String(value).replace(/"/g, '""')}"`;
                    }).join(',')
                )
            ].join('\n');
            
            return '\uFEFF' + csvContent; // 加入 BOM 以支援中文
        };

        // Toast 通知系統
        const Toast = ({ message, type, onClose }) => {
            useEffect(() => {
                const timer = setTimeout(onClose, 3000);
                return () => clearTimeout(timer);
            }, [onClose]);

            const bgColor = {
                success: 'bg-green-100 border-green-400 text-green-700',
                error: 'bg-red-100 border-red-400 text-red-700',
                warning: 'bg-yellow-100 border-yellow-400 text-yellow-700',
                info: 'bg-blue-100 border-blue-400 text-blue-700'
            }[type];

            return (
                <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded border-l-4 shadow-lg slide-in ${bgColor}`}>
                    <div className="flex items-center justify-between">
                        <span>{message}</span>
                        <button onClick={onClose} className="ml-4 text-lg font-bold">&times;</button>
                    </div>
                </div>
            );
        };

        // 載入動畫組件
        const LoadingSpinner = ({ size = 'medium' }) => {
            const sizeClass = {
                small: 'w-4 h-4',
                medium: 'w-8 h-8',
                large: 'w-12 h-12'
            }[size];

            return (
                <div className={`animate-spin rounded-full border-2 border-gray-300 border-t-indigo-600 ${sizeClass}`}></div>
            );
        };

        // 模態框組件
        const Modal = ({ isOpen, onClose, title, children, size = 'medium' }) => {
            if (!isOpen) return null;

            const sizeClass = {
                small: 'max-w-md',
                medium: 'max-w-2xl',
                large: 'max-w-4xl',
                full: 'max-w-6xl'
            }[size];

            return (
                <div className="fixed inset-0 z-50 overflow-y-auto">
                    <div className="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
                        <div className="fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75" onClick={onClose}></div>
                        
                        <div className={`inline-block w-full ${sizeClass} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`}>
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="text-lg font-medium text-gray-900">{title}</h3>
                                <button
                                    onClick={onClose}
                                    className="text-gray-400 hover:text-gray-600 focus:outline-none"
                                >
                                    <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                            {children}
                        </div>
                    </div>
                </div>
            );
        };

        // 分類樹組件
        const CategoryTree = ({ categories, onCategorySelect, selectedCategoryId, onAddCategory, onEditCategory, onDeleteCategory }) => {
            const [expandedNodes, setExpandedNodes] = useState(new Set());

            const toggleExpand = (nodeId) => {
                const newExpanded = new Set(expandedNodes);
                if (newExpanded.has(nodeId)) {
                    newExpanded.delete(nodeId);
                } else {
                    newExpanded.add(nodeId);
                }
                setExpandedNodes(newExpanded);
            };

            const getLayerTitle = (layer) => {
                const titles = {
                    [LayerTypes.FACETS_7]: '靈性修養七面向',
                    [LayerTypes.INDICATORS_10]: '靈性健康十核心指標',
                    [LayerTypes.PRINCIPLES_7]: '靈修七原則',
                    [LayerTypes.PRACTICES]: '日常靈修實踐'
                };
                return titles[layer];
            };

            const buildTree = (parentId = null, layer = null) => {
                return categories
                    .filter(cat => cat.parentId === parentId && (layer === null || cat.layer === layer))
                    .sort((a, b) => a.order - b.order)
                    .map(category => ({
                        ...category,
                        children: buildTree(category.id)
                    }));
            };

            const renderNode = (node, level = 0) => {
                const hasChildren = node.children && node.children.length > 0;
                const isExpanded = expandedNodes.has(node.id);
                const isSelected = selectedCategoryId === node.id;

                return (
                    <div key={node.id} className="select-none">
                        <div 
                            className={`flex items-center py-2 px-2 rounded cursor-pointer hover:bg-gray-100 ${
                                isSelected ? 'bg-indigo-100 text-indigo-700' : ''
                            }`}
                            style={{ paddingLeft: `${level * 20 + 8}px` }}
                            onClick={() => onCategorySelect(node.id)}
                        >
                            {hasChildren && (
                                <button
                                    onClick={(e) => {
                                        e.stopPropagation();
                                        toggleExpand(node.id);
                                    }}
                                    className="mr-2 text-gray-500 hover:text-gray-700"
                                >
                                    {isExpanded ? '▼' : '▶'}
                                </button>
                            )}
                            {!hasChildren && <span className="w-6"></span>}
                            
                            <span className="flex-1 text-sm">{node.name}</span>
                            
                            {level > 0 && (
                                <div className="flex space-x-1">
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            onEditCategory(node);
                                        }}
                                        className="text-xs text-blue-600 hover:text-blue-800"
                                    >
                                        編輯
                                    </button>
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            onDeleteCategory(node.id);
                                        }}
                                        className="text-xs text-red-600 hover:text-red-800"
                                    >
                                        刪除
                                    </button>
                                </div>
                            )}
                        </div>
                        
                        {hasChildren && isExpanded && (
                            <div>
                                {node.children.map(child => renderNode(child, level + 1))}
                            </div>
                        )}
                    </div>
                );
            };

            // 按層級組織分類
            const layerGroups = Object.values(LayerTypes).map(layer => ({
                layer,
                title: getLayerTitle(layer),
                nodes: buildTree(null, layer)
            }));

            return (
                <div className="category-tree">
                    {layerGroups.map(group => (
                        <div key={group.layer} className="mb-6">
                            <div className="flex items-center justify-between mb-2">
                                <h3 className="font-semibold text-gray-800">{group.title}</h3>
                                {group.layer === LayerTypes.PRACTICES && (
                                    <button
                                        onClick={() => onAddCategory(group.layer)}
                                        className="text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700"
                                    >
                                        新增
                                    </button>
                                )}
                            </div>
                            <div className="border-l-2 border-gray-200 ml-2">
                                {group.nodes.map(node => renderNode(node))}
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        // 題目表格組件
        const QuestionTable = ({ questions, categories, onEditQuestion, onDeleteQuestion, onReorderQuestions }) => {
            const [searchTerm, setSearchTerm] = useState('');
            const [filterCategory, setFilterCategory] = useState('');
            const [filterReligious, setFilterReligious] = useState('all');
            const [draggedItem, setDraggedItem] = useState(null);

            const getCategoryName = (categoryId) => {
                const category = categories.find(c => c.id === categoryId);
                return category ? category.name : categoryId;
            };

            const filteredQuestions = useMemo(() => {
                return questions.filter(q => {
                    const matchesSearch = q.text.toLowerCase().includes(searchTerm.toLowerCase());
                    const matchesCategory = !filterCategory || q.categoryIds.includes(filterCategory);
                    const matchesReligious = filterReligious === 'all' || 
                        (filterReligious === 'religious' && q.isReligious) ||
                        (filterReligious === 'non-religious' && !q.isReligious);
                    
                    return matchesSearch && matchesCategory && matchesReligious;
                }).sort((a, b) => a.order - b.order);
            }, [questions, searchTerm, filterCategory, filterReligious]);

            const handleDragStart = (e, question) => {
                setDraggedItem(question);
                e.dataTransfer.effectAllowed = 'move';
            };

            const handleDragOver = (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            };

            const handleDrop = (e, targetQuestion) => {
                e.preventDefault();
                if (draggedItem && draggedItem.id !== targetQuestion.id) {
                    onReorderQuestions(draggedItem.id, targetQuestion.id);
                }
                setDraggedItem(null);
            };

            return (
                <div className="space-y-4">
                    {/* 搜尋和篩選 */}
                    <div className="flex flex-wrap gap-4">
                        <input
                            type="text"
                            placeholder="搜尋題目..."
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                            className="flex-1 min-w-48 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        />
                        
                        <select
                            value={filterCategory}
                            onChange={(e) => setFilterCategory(e.target.value)}
                            className="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            <option value="">所有分類</option>
                            {categories.map(cat => (
                                <option key={cat.id} value={cat.id}>{cat.name}</option>
                            ))}
                        </select>
                        
                        <select
                            value={filterReligious}
                            onChange={(e) => setFilterReligious(e.target.value)}
                            className="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            <option value="all">全部題目</option>
                            <option value="religious">宗教性題目</option>
                            <option value="non-religious">非宗教性題目</option>
                        </select>
                    </div>

                    {/* 題目列表 */}
                    <div className="question-list space-y-2">
                        {filteredQuestions.map((question, index) => (
                            <div
                                key={question.id}
                                draggable
                                onDragStart={(e) => handleDragStart(e, question)}
                                onDragOver={handleDragOver}
                                onDrop={(e) => handleDrop(e, question)}
                                className={`p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-move ${
                                    draggedItem?.id === question.id ? 'dragging' : ''
                                }`}
                            >
                                <div className="flex items-start justify-between">
                                    <div className="flex-1">
                                        <div className="flex items-center space-x-2 mb-2">
                                            <span className="text-sm text-gray-500">#{question.order}</span>
                                            {question.isReligious && (
                                                <span className="px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded">宗教性</span>
                                            )}
                                        </div>
                                        <p className="text-gray-900 mb-2">{question.text}</p>
                                        <div className="flex flex-wrap gap-1">
                                            {question.categoryIds.map(catId => (
                                                <span key={catId} className="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">
                                                    {getCategoryName(catId)}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                    <div className="flex space-x-2 ml-4">
                                        <button
                                            onClick={() => onEditQuestion(question)}
                                            className="text-blue-600 hover:text-blue-800 text-sm"
                                        >
                                            編輯
                                        </button>
                                        <button
                                            onClick={() => onDeleteQuestion(question.id)}
                                            className="text-red-600 hover:text-red-800 text-sm"
                                        >
                                            刪除
                                        </button>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    {filteredQuestions.length === 0 && (
                        <div className="text-center py-8 text-gray-500">
                            沒有找到符合條件的題目
                        </div>
                    )}
                </div>
            );
        };

        // 問卷預覽組件
        const PreviewPane = ({ questions, categories, orderMode, onGenerateSurvey }) => {
            const [previewQuestions, setPreviewQuestions] = useState([]);

            useEffect(() => {
                let orderedQuestions = [...questions];
                
                if (orderMode === 'random') {
                    // 隨機排序
                    orderedQuestions = orderedQuestions.sort(() => Math.random() - 0.5);
                } else {
                    // 按分類順序
                    orderedQuestions = orderedQuestions.sort((a, b) => a.order - b.order);
                }
                
                setPreviewQuestions(orderedQuestions);
            }, [questions, orderMode]);

            const scaleLabels = [
                '1 完全不符合',
                '2 很不符合', 
                '3 不太符合',
                '4 有點符合',
                '5 很符合',
                '6 完全符合'
            ];

            return (
                <div className="preview-pane space-y-6">
                    <div className="flex items-center justify-between">
                        <h3 className="text-lg font-semibold text-gray-800">問卷預覽</h3>
                        <button
                            onClick={onGenerateSurvey}
                            className="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            生成問卷
                        </button>
                    </div>

                    <div className="bg-white p-6 rounded-lg shadow">
                        <div className="mb-6 p-4 bg-blue-50 rounded-lg">
                            <p className="text-sm text-blue-800 leading-relaxed">
                                您是否曾想過：我的行程滿檔，為什麼內心深處仍會感到空虛？不太確定人生的目標與意義感？我的內心與人際關係為何常有一些衝突不和諧的地方？想處理這些問題，讓自己過得更充實滿足，卻不知道從哪裡開始？——或許，是時候來照顧自己的「靈性健康」了！靈性健康指的是一個人內在是否安定、明白生命的意義，能與自己、他人、自然及更大的生命連結，建立和諧的關係。它讓我們在困難中不迷失，在日常中找回平靜與希望。
                            </p>
                        </div>

                        <div className="space-y-6">
                            {previewQuestions.map((question, index) => (
                                <div key={question.id} className="border-b border-gray-200 pb-4">
                                    <p className="mb-3 text-gray-900">
                                        <span className="text-gray-500 mr-2">{index + 1}.</span>
                                        {question.text}
                                    </p>
                                    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2">
                                        {scaleLabels.map((label, scaleIndex) => (
                                            <label key={scaleIndex} className="flex items-center space-x-2 text-sm cursor-not-allowed">
                                                <input 
                                                    type="radio" 
                                                    name={`preview-${question.id}`}
                                                    value={scaleIndex + 1}
                                                    disabled
                                                    className="text-indigo-600"
                                                />
                                                <span className="text-gray-600">{label}</span>
                                            </label>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="mt-6 text-center">
                            <p className="text-gray-500 text-sm">預覽模式 - 無法作答</p>
                        </div>
                    </div>
                </div>
            );
        };

        // 題目編輯表單
        const QuestionForm = ({ question, categories, onSave, onCancel }) => {
            const [formData, setFormData] = useState({
                text: question?.text || '',
                categoryIds: question?.categoryIds || [],
                isReligious: question?.isReligious || false
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!formData.text.trim()) {
                    alert('請輸入題目內容');
                    return;
                }
                if (formData.categoryIds.length === 0) {
                    alert('請選擇至少一個分類');
                    return;
                }
                onSave(formData);
            };

            const toggleCategory = (categoryId) => {
                const newCategoryIds = formData.categoryIds.includes(categoryId)
                    ? formData.categoryIds.filter(id => id !== categoryId)
                    : [...formData.categoryIds, categoryId];
                setFormData({ ...formData, categoryIds: newCategoryIds });
            };

            return (
                <form onSubmit={handleSubmit} className="space-y-4">
                    <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                            題目內容 *
                        </label>
                        <textarea
                            value={formData.text}
                            onChange={(e) => setFormData({ ...formData, text: e.target.value })}
                            rows={3}
                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            placeholder="請輸入題目內容..."
                        />
                    </div>

                    <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                            所屬分類 * (可多選)
                        </label>
                        <div className="max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3 space-y-2">
                            {categories.map(category => (
                                <label key={category.id} className="flex items-center space-x-2">
                                    <input
                                        type="checkbox"
                                        checked={formData.categoryIds.includes(category.id)}
                                        onChange={() => toggleCategory(category.id)}
                                        className="text-indigo-600"
                                    />
                                    <span className="text-sm">{category.name}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    <div>
                        <label className="flex items-center space-x-2">
                            <input
                                type="checkbox"
                                checked={formData.isReligious}
                                onChange={(e) => setFormData({ ...formData, isReligious: e.target.checked })}
                                className="text-indigo-600"
                            />
                            <span className="text-sm font-medium text-gray-700">宗教性題目</span>
                        </label>
                    </div>

                    <div className="flex justify-end space-x-3">
                        <button
                            type="button"
                            onClick={onCancel}
                            className="px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"
                        >
                            取消
                        </button>
                        <button
                            type="submit"
                            className="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
                        >
                            {question ? '更新' : '新增'}
                        </button>
                    </div>
                </form>
            );
        };

        // 分類編輯表單
        const CategoryForm = ({ category, layer, onSave, onCancel }) => {
            const [formData, setFormData] = useState({
                name: category?.name || '',
                parentId: category?.parentId || null
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!formData.name.trim()) {
                    alert('請輸入分類名稱');
                    return;
                }
                onSave(formData);
            };

            return (
                <form onSubmit={handleSubmit} className="space-y-4">
                    <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                            分類名稱 *
                        </label>
                        <input
                            type="text"
                            value={formData.name}
                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            placeholder="請輸入分類名稱..."
                        />
                    </div>

                    <div className="flex justify-end space-x-3">
                        <button
                            type="button"
                            onClick={onCancel}
                            className="px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"
                        >
                            取消
                        </button>
                        <button
                            type="submit"
                            className="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
                        >
                            {category ? '更新' : '新增'}
                        </button>
                    </div>
                </form>
            );
        };

        // 版本管理組件
        const VersionManager = ({ versions, onLoadVersion, onSaveVersion, onDeleteVersion, onExportData, onImportData }) => {
            const [showVersions, setShowVersions] = useState(false);
            const [versionName, setVersionName] = useState('');
            const fileInputRef = useRef();

            const handleSaveVersion = () => {
                if (!versionName.trim()) {
                    alert('請輸入版本名稱');
                    return;
                }
                onSaveVersion(versionName);
                setVersionName('');
            };

            const handleImportFile = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        try {
                            const data = JSON.parse(event.target.result);
                            onImportData(data);
                        } catch (error) {
                            alert('檔案格式錯誤');
                        }
                    };
                    reader.readAsText(file);
                }
                e.target.value = '';
            };

            return (
                <div className="space-y-4">
                    <div className="flex flex-wrap gap-2">
                        <button
                            onClick={() => setShowVersions(!showVersions)}
                            className="px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm"
                        >
                            版本管理
                        </button>
                        <button
                            onClick={onExportData}
                            className="px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"
                        >
                            匯出資料
                        </button>
                        <button
                            onClick={() => fileInputRef.current?.click()}
                            className="px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm"
                        >
                            匯入資料
                        </button>
                        <input
                            ref={fileInputRef}
                            type="file"
                            accept=".json"
                            onChange={handleImportFile}
                            className="hidden"
                        />
                    </div>

                    {showVersions && (
                        <div className="bg-white p-4 rounded-lg shadow">
                            <div className="mb-4">
                                <div className="flex space-x-2">
                                    <input
                                        type="text"
                                        value={versionName}
                                        onChange={(e) => setVersionName(e.target.value)}
                                        placeholder="輸入版本名稱..."
                                        className="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    />
                                    <button
                                        onClick={handleSaveVersion}
                                        className="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
                                    >
                                        儲存版本
                                    </button>
                                </div>
                            </div>

                            <div className="space-y-2 max-h-48 overflow-y-auto">
                                {versions.map(version => (
                                    <div key={version.id} className="flex items-center justify-between p-3 border border-gray-200 rounded">
                                        <div>
                                            <div className="font-medium">{version.name}</div>
                                            <div className="text-sm text-gray-500">{formatDate(version.createdAt)}</div>
                                        </div>
                                        <div className="flex space-x-2">
                                            <button
                                                onClick={() => onLoadVersion(version.id)}
                                                className="text-blue-600 hover:text-blue-800 text-sm"
                                            >
                                                載入
                                            </button>
                                            <button
                                                onClick={() => onDeleteVersion(version.id)}
                                                className="text-red-600 hover:text-red-800 text-sm"
                                            >
                                                刪除
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // 問卷編輯頁面
        const BuilderPage = ({ onNavigateToSurvey }) => {
            const [categories, setCategories] = useState([]);
            const [questions, setQuestions] = useState([]);
            const [versions, setVersions] = useState([]);
            const [selectedCategoryId, setSelectedCategoryId] = useState(null);
            const [orderMode, setOrderMode] = useState('category');
            const [showQuestionForm, setShowQuestionForm] = useState(false);
            const [showCategoryForm, setShowCategoryForm] = useState(false);
            const [editingQuestion, setEditingQuestion] = useState(null);
            const [editingCategory, setEditingCategory] = useState(null);
            const [editingLayer, setEditingLayer] = useState(null);
            const [loading, setLoading] = useState(true);
            const [toast, setToast] = useState(null);

            const showToast = (message, type = 'info') => {
                setToast({ message, type, id: Date.now() });
            };

            const loadData = async () => {
                try {
                    const [categoriesData, questionsData, versionsData] = await Promise.all([
                        db.getAll('categories'),
                        db.getAll('questions'),
                        db.getAll('versions')
                    ]);
                    
                    setCategories(categoriesData);
                    setQuestions(questionsData.filter(q => !q.archived));
                    setVersions(versionsData);
                } catch (error) {
                    console.error('載入資料失敗:', error);
                    showToast('載入資料失敗', 'error');
                } finally {
                    setLoading(false);
                }
            };

            useEffect(() => {
                loadData();
            }, []);

            const handleAddQuestion = () => {
                setEditingQuestion(null);
                setShowQuestionForm(true);
            };

            const handleEditQuestion = (question) => {
                setEditingQuestion(question);
                setShowQuestionForm(true);
            };

            const handleSaveQuestion = async (formData) => {
                try {
                    if (editingQuestion) {
                        const updatedQuestion = { ...editingQuestion, ...formData };
                        await db.put('questions', updatedQuestion);
                        showToast('題目更新成功', 'success');
                    } else {
                        const newQuestion = {
                            id: generateId(),
                            ...formData,
                            order: questions.length + 1,
                            archived: false
                        };
                        await db.add('questions', newQuestion);
                        showToast('題目新增成功', 'success');
                    }
                    
                    setShowQuestionForm(false);
                    setEditingQuestion(null);
                    loadData();
                } catch (error) {
                    console.error('儲存題目失敗:', error);
                    showToast('儲存題目失敗', 'error');
                }
            };

            const handleDeleteQuestion = async (questionId) => {
                if (confirm('確定要刪除這個題目嗎？')) {
                    try {
                        await db.delete('questions', questionId);
                        showToast('題目刪除成功', 'success');
                        loadData();
                    } catch (error) {
                        console.error('刪除題目失敗:', error);
                        showToast('刪除題目失敗', 'error');
                    }
                }
            };

            const handleReorderQuestions = async (draggedId, targetId) => {
                try {
                    const draggedIndex = questions.findIndex(q => q.id === draggedId);
                    const targetIndex = questions.findIndex(q => q.id === targetId);
                    
                    const newQuestions = [...questions];
                    const [draggedItem] = newQuestions.splice(draggedIndex, 1);
                    newQuestions.splice(targetIndex, 0, draggedItem);
                    
                    // 更新順序
                    const updatedQuestions = newQuestions.map((q, index) => ({
                        ...q,
                        order: index + 1
                    }));
                    
                    // 批量更新
                    await Promise.all(updatedQuestions.map(q => db.put('questions', q)));
                    
                    setQuestions(updatedQuestions);
                    showToast('題目順序更新成功', 'success');
                } catch (error) {
                    console.error('更新題目順序失敗:', error);
                    showToast('更新題目順序失敗', 'error');
                }
            };

            const handleAddCategory = (layer) => {
                setEditingCategory(null);
                setEditingLayer(layer);
                setShowCategoryForm(true);
            };

            const handleEditCategory = (category) => {
                setEditingCategory(category);
                setEditingLayer(category.layer);
                setShowCategoryForm(true);
            };

            const handleSaveCategory = async (formData) => {
                try {
                    if (editingCategory) {
                        const updatedCategory = { ...editingCategory, ...formData };
                        await db.put('categories', updatedCategory);
                        showToast('分類更新成功', 'success');
                    } else {
                        const newCategory = {
                            id: generateId(),
                            ...formData,
                            layer: editingLayer,
                            order: categories.filter(c => c.layer === editingLayer).length + 1
                        };
                        await db.add('categories', newCategory);
                        showToast('分類新增成功', 'success');
                    }
                    
                    setShowCategoryForm(false);
                    setEditingCategory(null);
                    setEditingLayer(null);
                    loadData();
                } catch (error) {
                    console.error('儲存分類失敗:', error);
                    showToast('儲存分類失敗', 'error');
                }
            };

            const handleDeleteCategory = async (categoryId) => {
                if (confirm('確定要刪除這個分類嗎？相關的題目分類標籤也會被移除。')) {
                    try {
                        await db.delete('categories', categoryId);
                        
                        // 更新相關題目，移除此分類
                        const updatedQuestions = questions.map(q => ({
                            ...q,
                            categoryIds: q.categoryIds.filter(id => id !== categoryId)
                        }));
                        
                        await Promise.all(updatedQuestions.map(q => db.put('questions', q)));
                        
                        showToast('分類刪除成功', 'success');
                        loadData();
                    } catch (error) {
                        console.error('刪除分類失敗:', error);
                        showToast('刪除分類失敗', 'error');
                    }
                }
            };

            const handleSaveVersion = async (name) => {
                try {
                    const version = {
                        id: generateId(),
                        name,
                        createdAt: new Date().toISOString(),
                        settings: {
                            orderMode: orderMode === 'random' ? 'RANDOM_ALL' : 'BY_CATEGORY',
                            includeReligious: 'ALL'
                        },
                        snapshot: {
                            categories: categories,
                            questions: questions
                        }
                    };
                    
                    await db.add('versions', version);
                    showToast('版本儲存成功', 'success');
                    loadData();
                } catch (error) {
                    console.error('儲存版本失敗:', error);
                    showToast('儲存版本失敗', 'error');
                }
            };

            const handleLoadVersion = async (versionId) => {
                if (confirm('載入版本會覆蓋目前的工作內容，確定要繼續嗎？')) {
                    try {
                        const version = await db.get('versions', versionId);
                        if (version) {
                            // 清空現有資料
                            await Promise.all([
                                ...categories.map(c => db.delete('categories', c.id)),
                                ...questions.map(q => db.delete('questions', q.id))
                            ]);
                            
                            // 載入版本資料
                            await Promise.all([
                                ...version.snapshot.categories.map(c => db.add('categories', c)),
                                ...version.snapshot.questions.map(q => db.add('questions', q))
                            ]);
                            
                            showToast('版本載入成功', 'success');
                            loadData();
                        }
                    } catch (error) {
                        console.error('載入版本失敗:', error);
                        showToast('載入版本失敗', 'error');
                    }
                }
            };

            const handleDeleteVersion = async (versionId) => {
                if (confirm('確定要刪除這個版本嗎？')) {
                    try {
                        await db.delete('versions', versionId);
                        showToast('版本刪除成功', 'success');
                        loadData();
                    } catch (error) {
                        console.error('刪除版本失敗:', error);
                        showToast('刪除版本失敗', 'error');
                    }
                }
            };

            const handleExportData = () => {
                const exportData = {
                    categories,
                    questions,
                    versions,
                    exportedAt: new Date().toISOString()
                };
                downloadJSON(exportData, `spiritual-survey-data-${new Date().toISOString().split('T')[0]}.json`);
                showToast('資料匯出成功', 'success');
            };

            const handleImportData = async (data) => {
                if (confirm('匯入資料會覆蓋現有資料，確定要繼續嗎？')) {
                    try {
                        // 清空現有資料
                        await Promise.all([
                            ...categories.map(c => db.delete('categories', c.id)),
                            ...questions.map(q => db.delete('questions', q.id)),
                            ...versions.map(v => db.delete('versions', v.id))
                        ]);
                        
                        // 匯入新資料
                        if (data.categories) {
                            await Promise.all(data.categories.map(c => db.add('categories', c)));
                        }
                        if (data.questions) {
                            await Promise.all(data.questions.map(q => db.add('questions', q)));
                        }
                        if (data.versions) {
                            await Promise.all(data.versions.map(v => db.add('versions', v)));
                        }
                        
                        showToast('資料匯入成功', 'success');
                        loadData();
                    } catch (error) {
                        console.error('匯入資料失敗:', error);
                        showToast('匯入資料失敗', 'error');
                    }
                }
            };

            const handleGenerateSurvey = async () => {
                try {
                    const versionName = `問卷版本-${formatDate(new Date())}`;
                    const version = {
                        id: generateId(),
                        name: versionName,
                        createdAt: new Date().toISOString(),
                        settings: {
                            orderMode: orderMode === 'random' ? 'RANDOM_ALL' : 'BY_CATEGORY',
                            includeReligious: 'ALL'
                        },
                        snapshot: {
                            categories: categories,
                            questions: questions
                        }
                    };
                    
                    await db.add('versions', version);
                    showToast('問卷生成成功', 'success');
                    
                    // 導向問卷頁面
                    onNavigateToSurvey(version.id);
                } catch (error) {
                    console.error('生成問卷失敗:', error);
                    showToast('生成問卷失敗', 'error');
                }
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <LoadingSpinner size="large" />
                            <p className="mt-4 text-gray-600">載入中...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="container mx-auto px-4 py-6">
                        <div className="mb-6">
                            <h1 className="text-3xl font-bold text-gray-900 mb-2">靈性修養問卷編輯系統</h1>
                            <p className="text-gray-600">管理分類、編輯題目、預覽問卷</p>
                        </div>

                        {/* 工具列 */}
                        <div className="mb-6 bg-white p-4 rounded-lg shadow">
                            <div className="flex flex-wrap items-center justify-between gap-4">
                                <div className="flex items-center space-x-4">
                                    <button
                                        onClick={handleAddQuestion}
                                        className="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700"
                                    >
                                        新增題目
                                    </button>
                                    
                                    <div className="flex items-center space-x-2">
                                        <label className="text-sm text-gray-700">預覽順序:</label>
                                        <select
                                            value={orderMode}
                                            onChange={(e) => setOrderMode(e.target.value)}
                                            className="px-3 py-1 border border-gray-300 rounded text-sm"
                                        >
                                            <option value="category">按分類順序</option>
                                            <option value="random">隨機化預覽</option>
                                        </select>
                                    </div>
                                </div>

                                <VersionManager
                                    versions={versions}
                                    onLoadVersion={handleLoadVersion}
                                    onSaveVersion={handleSaveVersion}
                                    onDeleteVersion={handleDeleteVersion}
                                    onExportData={handleExportData}
                                    onImportData={handleImportData}
                                />
                            </div>
                        </div>

                        {/* 主要內容區域 */}
                        <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
                            {/* 左側：分類樹 */}
                            <div className="lg:col-span-3">
                                <div className="bg-white p-4 rounded-lg shadow">
                                    <h2 className="text-lg font-semibold text-gray-800 mb-4">分類管理</h2>
                                    <CategoryTree
                                        categories={categories}
                                        selectedCategoryId={selectedCategoryId}
                                        onCategorySelect={setSelectedCategoryId}
                                        onAddCategory={handleAddCategory}
                                        onEditCategory={handleEditCategory}
                                        onDeleteCategory={handleDeleteCategory}
                                    />
                                </div>
                            </div>

                            {/* 中間：題目列表 */}
                            <div className="lg:col-span-5">
                                <div className="bg-white p-4 rounded-lg shadow">
                                    <h2 className="text-lg font-semibold text-gray-800 mb-4">題目管理</h2>
                                    <QuestionTable
                                        questions={questions}
                                        categories={categories}
                                        onEditQuestion={handleEditQuestion}
                                        onDeleteQuestion={handleDeleteQuestion}
                                        onReorderQuestions={handleReorderQuestions}
                                    />
                                </div>
                            </div>

                            {/* 右側：預覽 */}
                            <div className="lg:col-span-4">
                                <div className="bg-white p-4 rounded-lg shadow">
                                    <PreviewPane
                                        questions={questions}
                                        categories={categories}
                                        orderMode={orderMode}
                                        onGenerateSurvey={handleGenerateSurvey}
                                    />
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* 題目編輯模態框 */}
                    <Modal
                        isOpen={showQuestionForm}
                        onClose={() => {
                            setShowQuestionForm(false);
                            setEditingQuestion(null);
                        }}
                        title={editingQuestion ? '編輯題目' : '新增題目'}
                        size="large"
                    >
                        <QuestionForm
                            question={editingQuestion}
                            categories={categories}
                            onSave={handleSaveQuestion}
                            onCancel={() => {
                                setShowQuestionForm(false);
                                setEditingQuestion(null);
                            }}
                        />
                    </Modal>

                    {/* 分類編輯模態框 */}
                    <Modal
                        isOpen={showCategoryForm}
                        onClose={() => {
                            setShowCategoryForm(false);
                            setEditingCategory(null);
                            setEditingLayer(null);
                        }}
                        title={editingCategory ? '編輯分類' : '新增分類'}
                    >
                        <CategoryForm
                            category={editingCategory}
                            layer={editingLayer}
                            onSave={handleSaveCategory}
                            onCancel={() => {
                                setShowCategoryForm(false);
                                setEditingCategory(null);
                                setEditingLayer(null);
                            }}
                        />
                    </Modal>

                    {/* Toast 通知 */}
                    {toast && (
                        <Toast
                            message={toast.message}
                            type={toast.type}
                            onClose={() => setToast(null)}
                        />
                    )}
                </div>
            );
        };

        // 問卷作答頁面
        const SurveyPage = ({ versionId, onNavigateToBuilder }) => {
            const [version, setVersion] = useState(null);
            const [currentStep, setCurrentStep] = useState('survey'); // 'survey' | 'demographics' | 'results'
            const [answers, setAnswers] = useState({});
            const [demographics, setDemographics] = useState({
                name: '',
                birth: '',
                gender: '男性',
                nationality: '',
                city: '',
                profession: '',
                education: '大學',
                marital: '未婚',
                religion: '無宗教信仰',
                religionOther: '',
                living: '與親屬同住',
                livingOther: '',
                testDate: new Date().toISOString().split('T')[0]
            });
            const [analysisResult, setAnalysisResult] = useState(null);
            const [loading, setLoading] = useState(true);
            const [toast, setToast] = useState(null);

            const showToast = (message, type = 'info') => {
                setToast({ message, type, id: Date.now() });
            };

            useEffect(() => {
                loadVersion();
            }, [versionId]);

            const loadVersion = async () => {
                try {
                    if (!versionId) {
                        showToast('未指定問卷版本', 'error');
                        return;
                    }
                    
                    const versionData = await db.get('versions', versionId);
                    if (!versionData) {
                        showToast('找不到指定的問卷版本', 'error');
                        return;
                    }
                    
                    setVersion(versionData);
                } catch (error) {
                    console.error('載入問卷版本失敗:', error);
                    showToast('載入問卷版本失敗', 'error');
                } finally {
                    setLoading(false);
                }
            };

            const handleAnswerChange = (questionId, value) => {
                setAnswers(prev => ({
                    ...prev,
                    [questionId]: parseInt(value)
                }));
            };

            const handleSurveySubmit = () => {
                const questions = version.snapshot.questions;
                const unansweredQuestions = questions.filter(q => !answers[q.id]);
                
                if (unansweredQuestions.length > 0) {
                    alert(`還有 ${unansweredQuestions.length} 題未作答，請完成所有題目。`);
                    return;
                }
                
                setCurrentStep('demographics');
            };

            const handleDemographicsSubmit = async (e) => {
                e.preventDefault();
                
                // 驗證必填欄位
                const requiredFields = ['name', 'birth', 'nationality', 'city', 'profession'];
                const missingFields = requiredFields.filter(field => !demographics[field].trim());
                
                if (missingFields.length > 0) {
                    alert('請填寫所有必填欄位');
                    return;
                }
                
                try {
                    // 儲存回覆
                    const response = {
                        id: generateId(),
                        versionId: version.id,
                        answers: Object.entries(answers).map(([questionId, value]) => ({
                            questionId,
                            value
                        })),
                        demographics,
                        createdAt: new Date().toISOString(),
                        client: {
                            ua: navigator.userAgent,
                            tz: Intl.DateTimeFormat().resolvedOptions().timeZone
                        }
                    };
                    
                    await db.add('responses', response);
                    
                    // 計算分析結果
                    const analysis = calculateAnalysis(version.snapshot, answers);
                    setAnalysisResult(analysis);
                    setCurrentStep('results');
                    
                    showToast('問卷提交成功', 'success');
                } catch (error) {
                    console.error('提交問卷失敗:', error);
                    showToast('提交問卷失敗', 'error');
                }
            };

            const calculateAnalysis = (snapshot, answers) => {
                const { categories, questions } = snapshot;
                
                // 計算各維度平均分
                const calculateDimensionScore = (categoryIds) => {
                    const relevantQuestions = questions.filter(q => 
                        q.categoryIds.some(catId => categoryIds.includes(catId))
                    );
                    
                    if (relevantQuestions.length === 0) return null;
                    
                    const scores = relevantQuestions.map(q => answers[q.id]).filter(score => score);
                    if (scores.length === 0) return null;
                    
                    return scores.reduce((sum, score) => sum + score, 0) / scores.length;
                };

                // 靈性修養七面向
                const facets = categories
                    .filter(c => c.layer === LayerTypes.FACETS_7)
                    .map(c => ({
                        name: c.name,
                        score: calculateDimensionScore([c.id])
                    }));

                // 靈性健康十核心指標
                const indicators = categories
                    .filter(c => c.layer === LayerTypes.INDICATORS_10)
                    .map(c => ({
                        name: c.name,
                        score: calculateDimensionScore([c.id]),
                        isReligious: c.isReligious
                    }));

                // 靈修七原則
                const principles = categories
                    .filter(c => c.layer === LayerTypes.PRINCIPLES_7)
                    .map(c => ({
                        name: c.name,
                        score: calculateDimensionScore([c.id])
                    }));

                return {
                    facets,
                    indicators,
                    principles,
                    totalQuestions: questions.length,
                    answeredQuestions: Object.keys(answers).length
                };
            };

            const getScoreInterpretation = (score) => {
                if (score === null) return { level: '未評', color: 'gray', suggestion: '此面向沒有相關題目' };
                if (score < 3) return { 
                    level: '待加強', 
                    color: 'red', 
                    suggestion: '此面向目前偏低，建議從日常覺察和具體行動開始，逐步培養相關的靈性修養。' 
                };
                if (score < 4.5) return { 
                    level: '良好', 
                    color: 'yellow', 
                    suggestion: '具備一定基礎，可進一步在日常生活中練習，深化這方面的靈性修養。' 
                };
                return { 
                    level: '優秀', 
                    color: 'green', 
                    suggestion: '表現良好，請繼續維持並嘗試引導他人，共學共好。' 
                };
            };

            const downloadResults = () => {
                const resultsData = {
                    demographics,
                    answers,
                    analysisResult,
                    version: {
                        id: version.id,
                        name: version.name
                    },
                    completedAt: new Date().toISOString()
                };
                
                downloadJSON(resultsData, `spiritual-survey-results-${demographics.name}-${new Date().toISOString().split('T')[0]}.json`);
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <LoadingSpinner size="large" />
                            <p className="mt-4 text-gray-600">載入問卷中...</p>
                        </div>
                    </div>
                );
            }

            if (!version) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <p className="text-gray-600 mb-4">無法載入問卷</p>
                            <button
                                onClick={onNavigateToBuilder}
                                className="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700"
                            >
                                返回編輯器
                            </button>
                        </div>
                    </div>
                );
            }

            const questions = version.snapshot.questions;
            const orderedQuestions = version.settings.orderMode === 'RANDOM_ALL' 
                ? [...questions].sort(() => Math.random() - 0.5)
                : [...questions].sort((a, b) => a.order - b.order);

            const scaleLabels = [
                '1 完全不符合',
                '2 很不符合', 
                '3 不太符合',
                '4 有點符合',
                '5 很符合',
                '6 完全符合'
            ];

            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="container mx-auto px-4 py-6 max-w-4xl">
                        {/* 標題區域 */}
                        <div className="mb-8 text-center">
                            <h1 className="text-3xl font-bold text-gray-900 mb-2">靈性修養問卷</h1>
                            <p className="text-gray-600">版本：{version.name}</p>
                        </div>

                        {currentStep === 'survey' && (
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                {/* 引導語 */}
                                <div className="mb-8 p-6 bg-blue-50 rounded-lg">
                                    <p className="text-blue-800 leading-relaxed">
                                        您是否曾想過：我的行程滿檔，為什麼內心深處仍會感到空虛？不太確定人生的目標與意義感？我的內心與人際關係為何常有一些衝突不和諧的地方？想處理這些問題，讓自己過得更充實滿足，卻不知道從哪裡開始？——或許，是時候來照顧自己的「靈性健康」了！靈性健康指的是一個人內在是否安定、明白生命的意義，能與自己、他人、自然及更大的生命連結，建立和諧的關係。它讓我們在困難中不迷失，在日常中找回平靜與希望。
                                    </p>
                                </div>

                                {/* 問卷題目 */}
                                <div className="space-y-8">
                                    {orderedQuestions.map((question, index) => (
                                        <div key={question.id} className="border-b border-gray-200 pb-6">
                                            <p className="mb-4 text-gray-900 font-medium">
                                                <span className="text-gray-500 mr-2">{index + 1}.</span>
                                                {question.text}
                                            </p>
                                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                                                {scaleLabels.map((label, scaleIndex) => (
                                                    <label key={scaleIndex} className="flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                                        <input 
                                                            type="radio" 
                                                            name={`question-${question.id}`}
                                                            value={scaleIndex + 1}
                                                            checked={answers[question.id] === scaleIndex + 1}
                                                            onChange={(e) => handleAnswerChange(question.id, e.target.value)}
                                                            className="text-indigo-600 focus:ring-indigo-500"
                                                        />
                                                        <span className="text-sm text-gray-700">{label}</span>
                                                    </label>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* 提交按鈕 */}
                                <div className="mt-8 text-center">
                                    <button
                                        onClick={handleSurveySubmit}
                                        className="bg-indigo-600 text-white px-8 py-3 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    >
                                        完成問卷，填寫基本資料
                                    </button>
                                </div>
                            </div>
                        )}

                        {currentStep === 'demographics' && (
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <h2 className="text-2xl font-bold text-gray-900 mb-6">基本資料</h2>
                                
                                <form onSubmit={handleDemographicsSubmit} className="space-y-6">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                姓名 *
                                            </label>
                                            <input
                                                type="text"
                                                value={demographics.name}
                                                onChange={(e) => setDemographics({...demographics, name: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                生日 *
                                            </label>
                                            <input
                                                type="date"
                                                value={demographics.birth}
                                                onChange={(e) => setDemographics({...demographics, birth: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                性別
                                            </label>
                                            <select
                                                value={demographics.gender}
                                                onChange={(e) => setDemographics({...demographics, gender: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <option value="男性">男性</option>
                                                <option value="女性">女性</option>
                                                <option value="其他">其他</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                國籍 *
                                            </label>
                                            <input
                                                type="text"
                                                value={demographics.nationality}
                                                onChange={(e) => setDemographics({...demographics, nationality: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                目前居住城市 *
                                            </label>
                                            <input
                                                type="text"
                                                value={demographics.city}
                                                onChange={(e) => setDemographics({...demographics, city: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                職業 *
                                            </label>
                                            <input
                                                type="text"
                                                value={demographics.profession}
                                                onChange={(e) => setDemographics({...demographics, profession: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                教育程度
                                            </label>
                                            <select
                                                value={demographics.education}
                                                onChange={(e) => setDemographics({...demographics, education: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <option value="國小及以下">國小及以下</option>
                                                <option value="國中">國中</option>
                                                <option value="高中職">高中職</option>
                                                <option value="專科">專科</option>
                                                <option value="大學">大學</option>
                                                <option value="碩士">碩士</option>
                                                <option value="博士">博士</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                婚姻狀況
                                            </label>
                                            <select
                                                value={demographics.marital}
                                                onChange={(e) => setDemographics({...demographics, marital: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <option value="未婚">未婚</option>
                                                <option value="已婚">已婚</option>
                                                <option value="離婚">離婚</option>
                                                <option value="喪偶">喪偶</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                宗教信仰
                                            </label>
                                            <select
                                                value={demographics.religion}
                                                onChange={(e) => setDemographics({...demographics, religion: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <option value="無宗教信仰">無宗教信仰</option>
                                                <option value="佛教">佛教</option>
                                                <option value="道教">道教</option>
                                                <option value="基督教">基督教</option>
                                                <option value="天主教">天主教</option>
                                                <option value="伊斯蘭教">伊斯蘭教</option>
                                                <option value="其他">其他</option>
                                            </select>
                                        </div>

                                        {demographics.religion === '其他' && (
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    其他宗教信仰
                                                </label>
                                                <input
                                                    type="text"
                                                    value={demographics.religionOther}
                                                    onChange={(e) => setDemographics({...demographics, religionOther: e.target.value})}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                />
                                            </div>
                                        )}

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                居住狀況
                                            </label>
                                            <select
                                                value={demographics.living}
                                                onChange={(e) => setDemographics({...demographics, living: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <option value="獨居">獨居</option>
                                                <option value="與親屬同住">與親屬同住</option>
                                                <option value="與非親屬同住">與非親屬同住</option>
                                                <option value="其他">其他</option>
                                            </select>
                                        </div>

                                        {demographics.living === '其他' && (
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    其他居住狀況
                                                </label>
                                                <input
                                                    type="text"
                                                    value={demographics.livingOther}
                                                    onChange={(e) => setDemographics({...demographics, livingOther: e.target.value})}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                />
                                            </div>
                                        )}

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                檢測日期
                                            </label>
                                            <input
                                                type="date"
                                                value={demographics.testDate}
                                                onChange={(e) => setDemographics({...demographics, testDate: e.target.value})}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            />
                                        </div>
                                    </div>

                                    <div className="text-center">
                                        <button
                                            type="submit"
                                            className="bg-indigo-600 text-white px-8 py-3 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                        >
                                            提交並查看結果
                                        </button>
                                    </div>
                                </form>
                            </div>
                        )}

                        {currentStep === 'results' && analysisResult && (
                            <div className="space-y-8">
                                {/* 總覽卡片 */}
                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="text-center">
                                        <h2 className="text-2xl font-bold text-gray-900 mb-2">檢測完成</h2>
                                        <p className="text-gray-600 mb-4">感謝您完成靈性修養問卷</p>
                                        <div className="flex justify-center space-x-8 text-sm text-gray-500">
                                            <span>版本：{version.name}</span>
                                            <span>完成時間：{formatDate(new Date())}</span>
                                            <span>題目數：{analysisResult.totalQuestions}</span>
                                        </div>
                                    </div>
                                </div>

                                {/* 靈性修養七面向 */}
                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <h3 className="text-xl font-bold text-gray-900 mb-6">靈性修養七面向</h3>
                                    <div className="space-y-4">
                                        {analysisResult.facets.map((facet, index) => {
                                            const interpretation = getScoreInterpretation(facet.score);
                                            return (
                                                <div key={index} className="border border-gray-200 rounded-lg p-4">
                                                    <div className="flex items-center justify-between mb-2">
                                                        <h4 className="font-medium text-gray-900">{facet.name}</h4>
                                                        <div className="flex items-center space-x-2">
                                                            <span className={`px-2 py-1 rounded text-sm font-medium ${
                                                                interpretation.color === 'red' ? 'bg-red-100 text-red-800' :
                                                                interpretation.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :
                                                                interpretation.color === 'green' ? 'bg-green-100 text-green-800' :
                                                                'bg-gray-100 text-gray-800'
                                                            }`}>
                                                                {interpretation.level}
                                                            </span>
                                                            <span className="font-bold text-lg">
                                                                {facet.score ? facet.score.toFixed(1) : 'N/A'}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <p className="text-sm text-gray-600">{interpretation.suggestion}</p>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                {/* 靈性健康十核心指標 */}
                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <h3 className="text-xl font-bold text-gray-900 mb-6">靈性健康十核心指標</h3>
                                    <div className="space-y-4">
                                        {analysisResult.indicators.map((indicator, index) => {
                                            const interpretation = getScoreInterpretation(indicator.score);
                                            return (
                                                <div key={index} className="border border-gray-200 rounded-lg p-4">
                                                    <div className="flex items-center justify-between mb-2">
                                                        <div className="flex items-center space-x-2">
                                                            <h4 className="font-medium text-gray-900">{indicator.name}</h4>
                                                            {indicator.isReligious && (
                                                                <span className="px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded">宗教性</span>
                                                            )}
                                                        </div>
                                                        <div className="flex items-center space-x-2">
                                                            <span className={`px-2 py-1 rounded text-sm font-medium ${
                                                                interpretation.color === 'red' ? 'bg-red-100 text-red-800' :
                                                                interpretation.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :
                                                                interpretation.color === 'green' ? 'bg-green-100 text-green-800' :
                                                                'bg-gray-100 text-gray-800'
                                                            }`}>
                                                                {interpretation.level}
                                                            </span>
                                                            <span className="font-bold text-lg">
                                                                {indicator.score ? indicator.score.toFixed(1) : 'N/A'}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <p className="text-sm text-gray-600">{interpretation.suggestion}</p>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                {/* 靈修七原則 */}
                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <h3 className="text-xl font-bold text-gray-900 mb-6">靈修七原則</h3>
                                    <div className="space-y-4">
                                        {analysisResult.principles.map((principle, index) => {
                                            const interpretation = getScoreInterpretation(principle.score);
                                            return (
                                                <div key={index} className="border border-gray-200 rounded-lg p-4">
                                                    <div className="flex items-center justify-between mb-2">
                                                        <h4 className="font-medium text-gray-900">{principle.name}</h4>
                                                        <div className="flex items-center space-x-2">
                                                            <span className={`px-2 py-1 rounded text-sm font-medium ${
                                                                interpretation.color === 'red' ? 'bg-red-100 text-red-800' :
                                                                interpretation.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :
                                                                interpretation.color === 'green' ? 'bg-green-100 text-green-800' :
                                                                'bg-gray-100 text-gray-800'
                                                            }`}>
                                                                {interpretation.level}
                                                            </span>
                                                            <span className="font-bold text-lg">
                                                                {principle.score ? principle.score.toFixed(1) : 'N/A'}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <p className="text-sm text-gray-600">{interpretation.suggestion}</p>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                {/* 操作按鈕 */}
                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex flex-wrap justify-center gap-4">
                                        <button
                                            onClick={downloadResults}
                                            className="bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700"
                                        >
                                            下載結果
                                        </button>
                                        <button
                                            onClick={onNavigateToBuilder}
                                            className="bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700"
                                        >
                                            返回編輯器
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Toast 通知 */}
                        {toast && (
                            <Toast
                                message={toast.message}
                                type={toast.type}
                                onClose={() => setToast(null)}
                            />
                        )}
                    </div>
                </div>
            );
        };

        // 主應用組件
        const App = () => {
            const [currentPage, setCurrentPage] = useState('builder'); // 'builder' | 'survey'
            const [surveyVersionId, setSurveyVersionId] = useState(null);
            const [initialized, setInitialized] = useState(false);

            useEffect(() => {
                initializeApp();
            }, []);

            const initializeApp = async () => {
                try {
                    await db.init();
                    
                    // 檢查是否需要初始化資料
                    const categories = await db.getAll('categories');
                    const questions = await db.getAll('questions');
                    
                    if (categories.length === 0) {
                        await Promise.all(INITIAL_CATEGORIES.map(cat => db.add('categories', cat)));
                    }
                    
                    if (questions.length === 0) {
                        await Promise.all(INITIAL_QUESTIONS.map(q => db.add('questions', q)));
                    }
                    
                    // 檢查 URL 參數
                    const urlParams = new URLSearchParams(window.location.hash.split('?')[1]);
                    const versionId = urlParams.get('version');
                    
                    if (versionId) {
                        setSurveyVersionId(versionId);
                        setCurrentPage('survey');
                    }
                    
                    setInitialized(true);
                } catch (error) {
                    console.error('應用初始化失敗:', error);
                    alert('應用初始化失敗，請重新整理頁面');
                }
            };

            const navigateToSurvey = (versionId) => {
                setSurveyVersionId(versionId);
                setCurrentPage('survey');
                window.location.hash = `#survey?version=${versionId}`;
            };

            const navigateToBuilder = () => {
                setCurrentPage('builder');
                setSurveyVersionId(null);
                window.location.hash = '#builder';
            };

            if (!initialized) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <LoadingSpinner size="large" />
                            <p className="mt-4 text-gray-600">系統初始化中...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    {currentPage === 'builder' && (
                        <BuilderPage onNavigateToSurvey={navigateToSurvey} />
                    )}
                    
                    {currentPage === 'survey' && (
                        <SurveyPage 
                            versionId={surveyVersionId} 
                            onNavigateToBuilder={navigateToBuilder} 
                        />
                    )}
                </div>
            );
        };

        // 渲染應用
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>


</body></html>
