<!DOCTYPE html>
<!-- saved from url=(0054)file:///Users/sun/Downloads/spiritual_survey_stan.html -->
<html lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>靈性修養問卷生成與分析系統</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="./靈性修養問卷生成與分析系統123_files/css2" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="./靈性修養問卷生成與分析系統123_files/react.production.min.js"></script>
    <script src="./靈性修養問卷生成與分析系統123_files/react-dom.production.min.js"></script>
    <script src="./靈性修養問卷生成與分析系統123_files/babel.min.js"></script>
    <script src="./靈性修養問卷生成與分析系統123_files/saved_resource"></script>
    <script src="./靈性修養問卷生成與分析系統123_files/chart.umd.js"></script>
    <script src="./靈性修養問卷生成與分析系統123_files/jspdf.umd.min.js"></script>
    <script src="./靈性修養問卷生成與分析系統123_files/xlsx.full.min.js"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#8B5CF6',
                        warning: '#F59E0B',
                        danger: '#EF4444'
                    },
                    fontFamily: {
                        'sans': ['Noto Sans TC', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- Custom Styles -->
    <style>
        * {
            font-family: 'Noto Sans TC', system-ui, sans-serif;
        }
        
        .category-tree {
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .question-item {
            transition: all 0.3s ease;
        }
        
        .question-item:hover {
            background-color: #f8fafc;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .question-item.selected {
            background-color: #eff6ff;
            border-color: #3B82F6;
        }
        
        .dragging {
            opacity: 0.6;
            transform: rotate(5deg);
        }
        
        .save-success {
            animation: fadeInOut 3s ease-in-out;
        }
        
        .category-item {
            transition: all 0.3s ease;
        }
        
        .category-item:hover .action-buttons {
            opacity: 1;
        }
        
        .action-buttons {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .category-name {
            word-break: break-word;
            line-height: 1.4;
        }
        
        .tooltip {
            position: relative;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .tooltip-text {
            visibility: hidden;
            opacity: 0;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #374151;
            color: white;
            text-align: center;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            white-space: nowrap;
            transition: opacity 0.3s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #374151 transparent transparent transparent;
        }
        
        .drawer-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .drawer-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .drawer {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 320px;
            background: white;
            z-index: 50;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
        }
        
        .drawer.active {
            transform: translateX(0);
        }
        
        .search-highlight {
            background-color: #fef3c7;
            padding: 1px 2px;
            border-radius: 2px;
        }
        
        .batch-actions {
            position: sticky;
            top: 0;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 12px;
            z-index: 10;
        }
        
        .chart-container {
            position: relative;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3B82F6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(-10px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-10px); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @media (max-width: 768px) {
            .category-tree {
                max-height: 50vh;
            }
            .action-buttons {
                opacity: 1;
            }
            .mobile-spacing {
                padding: 16px;
                margin: 8px 0;
            }
            .mobile-button {
                min-height: 48px;
                padding: 12px 16px;
            }
        }
        
        /* 自定義滾動條 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* 打印樣式 */
        @media print {
            .no-print {
                display: none !important;
            }
            
            body {
                background: white !important;
            }
            
            .shadow-sm, .shadow-md, .shadow-lg {
                box-shadow: none !important;
            }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Noto Sans TC, system-ui, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.relative{position:relative}.left-3{left:0.75rem}.top-1\/2{top:50%}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-2{margin-left:0.5rem}.mr-3{margin-right:0.75rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mb-8{margin-bottom:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-16{height:4rem}.h-2{height:0.5rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-full{height:100%}.h-3{height:0.75rem}.h-80{height:20rem}.max-h-96{max-height:24rem}.min-h-\[calc\(100vh-200px\)\]{min-height:calc(100vh - 200px)}.min-h-screen{min-height:100vh}.w-16{width:4rem}.w-2{width:0.5rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-full{width:100%}.min-w-0{min-width:0px}.max-w-full{max-width:100%}.max-w-4xl{max-width:56rem}.flex-1{flex:1 1 0%}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate:90deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-1 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.25rem * var(--tw-space-x-reverse));margin-left:calc(0.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.self-start{align-self:flex-start}.overflow-y-auto{overflow-y:auto}.break-words{overflow-wrap:break-word}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.rounded{border-radius:0.25rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-primary\/30{border-color:rgb(59 130 246 / 0.3)}.border-primary{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-accent\/20{border-color:rgb(139 92 246 / 0.2)}.border-primary\/20{border-color:rgb(59 130 246 / 0.2)}.border-secondary\/20{border-color:rgb(16 185 129 / 0.2)}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-primary\/10{background-color:rgb(59 130 246 / 0.1)}.bg-secondary{--tw-bg-opacity:1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.bg-warning\/10{background-color:rgb(245 158 11 / 0.1)}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-accent{--tw-bg-opacity:1;background-color:rgb(139 92 246 / var(--tw-bg-opacity, 1))}.bg-secondary\/10{background-color:rgb(16 185 129 / 0.1)}.bg-warning{--tw-bg-opacity:1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-primary\/5{background-color:rgb(59 130 246 / 0.05)}.bg-danger{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.from-primary{--tw-gradient-from:#3B82F6 var(--tw-gradient-from-position);--tw-gradient-to:rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-accent\/10{--tw-gradient-from:rgb(139 92 246 / 0.1) var(--tw-gradient-from-position);--tw-gradient-to:rgb(139 92 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary\/10{--tw-gradient-from:rgb(59 130 246 / 0.1) var(--tw-gradient-from-position);--tw-gradient-to:rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-secondary\/10{--tw-gradient-from:rgb(16 185 129 / 0.1) var(--tw-gradient-from-position);--tw-gradient-to:rgb(16 185 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-secondary{--tw-gradient-to:#10B981 var(--tw-gradient-to-position)}.to-accent\/5{--tw-gradient-to:rgb(139 92 246 / 0.05) var(--tw-gradient-to-position)}.to-primary\/5{--tw-gradient-to:rgb(59 130 246 / 0.05) var(--tw-gradient-to-position)}.to-secondary\/5{--tw-gradient-to:rgb(16 185 129 / 0.05) var(--tw-gradient-to-position)}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.px-12{padding-left:3rem;padding-right:3rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pl-10{padding-left:2.5rem}.pr-4{padding-right:1rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-tight{line-height:1.25}.text-danger{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-primary{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-secondary{--tw-text-opacity:1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-warning{--tw-text-opacity:1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-accent{--tw-text-opacity:1;color:rgb(139 92 246 / var(--tw-text-opacity, 1))}.opacity-60{opacity:0.6}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-200{transition-duration:200ms}.duration-300{transition-duration:300ms}.duration-500{transition-duration:500ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-primary\/30:hover{border-color:rgb(59 130 246 / 0.3)}.hover\:bg-blue-50:hover{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-danger\/10:hover{background-color:rgb(239 68 68 / 0.1)}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-primary\/10:hover{background-color:rgb(59 130 246 / 0.1)}.hover\:bg-primary\/90:hover{background-color:rgb(59 130 246 / 0.9)}.hover\:bg-secondary\/10:hover{background-color:rgb(16 185 129 / 0.1)}.hover\:bg-secondary\/90:hover{background-color:rgb(16 185 129 / 0.9)}.hover\:bg-warning\/90:hover{background-color:rgb(245 158 11 / 0.9)}.hover\:bg-gray-600:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.hover\:bg-primary\/5:hover{background-color:rgb(59 130 246 / 0.05)}.hover\:bg-danger\/90:hover{background-color:rgb(239 68 68 / 0.9)}.hover\:text-danger\/80:hover{color:rgb(239 68 68 / 0.8)}.hover\:text-gray-700:hover{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\:text-primary:hover{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.hover\:text-primary\/80:hover{color:rgb(59 130 246 / 0.8)}.hover\:text-secondary\/80:hover{color:rgb(16 185 129 / 0.8)}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:border-primary:focus{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-primary\/20:focus{--tw-ring-color:rgb(59 130 246 / 0.2)}.disabled\:transform-none:disabled{transform:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:0.5}@media (min-width: 640px){.sm\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-center{align-items:center}.sm\:justify-between{justify-content:space-between}.sm\:p-4{padding:1rem}.sm\:text-3xl{font-size:1.875rem;line-height:2.25rem}}@media (min-width: 768px){.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:grid-cols-6{grid-template-columns:repeat(6, minmax(0, 1fr))}.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}}@media (min-width: 1280px){.xl\:block{display:block}.xl\:hidden{display:none}.xl\:w-2\/5{width:40%}.xl\:w-3\/5{width:60%}.xl\:flex-row{flex-direction:row}}@media (min-width: 1536px){.\32xl\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useRef = _React.useRef,
  createContext = _React.createContext,
  useContext = _React.useContext,
  useMemo = _React.useMemo,
  useCallback = _React.useCallback;

// 全域狀態管理
var AppContext = createContext();

// 初始分類資料
var initialCategories = [
// 第一層：四大主分類
{
  id: 1,
  name: '靈性修養七面向',
  level: 1,
  parentId: null,
  order: 1
}, {
  id: 2,
  name: '靈性健康十核心指標',
  level: 1,
  parentId: null,
  order: 2
}, {
  id: 3,
  name: '靈修七原則',
  level: 1,
  parentId: null,
  order: 3
}, {
  id: 4,
  name: '日常靈修實踐',
  level: 1,
  parentId: null,
  order: 4
},
// 第二層：靈性修養七面向
{
  id: 11,
  name: '起心動念',
  level: 2,
  parentId: 1,
  order: 1
}, {
  id: 12,
  name: '後設思考',
  level: 2,
  parentId: 1,
  order: 2
}, {
  id: 13,
  name: '意義追尋',
  level: 2,
  parentId: 1,
  order: 3
}, {
  id: 14,
  name: '人際靈修',
  level: 2,
  parentId: 1,
  order: 4
}, {
  id: 15,
  name: '物質與環境',
  level: 2,
  parentId: 1,
  order: 5
}, {
  id: 16,
  name: '與超越者的連結',
  level: 2,
  parentId: 1,
  order: 6
}, {
  id: 17,
  name: '生活形態與全人健康',
  level: 2,
  parentId: 1,
  order: 7
},
// 第二層：靈性健康十核心指標
{
  id: 21,
  name: '人格統整',
  level: 2,
  parentId: 2,
  order: 1
}, {
  id: 22,
  name: '追求真理的後設反思',
  level: 2,
  parentId: 2,
  order: 2
}, {
  id: 23,
  name: '意義與目的',
  level: 2,
  parentId: 2,
  order: 3
}, {
  id: 24,
  name: '愛與同理',
  level: 2,
  parentId: 2,
  order: 4
}, {
  id: 25,
  name: '寬恕與和解',
  level: 2,
  parentId: 2,
  order: 5
}, {
  id: 26,
  name: '感恩與喜樂',
  level: 2,
  parentId: 2,
  order: 6
}, {
  id: 27,
  name: '財物倫理與靈修',
  level: 2,
  parentId: 2,
  order: 7
}, {
  id: 28,
  name: '敬畏與連結',
  level: 2,
  parentId: 2,
  order: 8
}, {
  id: 29,
  name: '信仰與連結（宗教性）',
  level: 2,
  parentId: 2,
  order: 9
}, {
  id: 30,
  name: '宗教信仰與靈性修養（宗教性）',
  level: 2,
  parentId: 2,
  order: 10
},
// 第二層：靈修七原則
{
  id: 31,
  name: '原則一：在每一個人身上看見神、看見佛、看見人',
  level: 2,
  parentId: 3,
  order: 1
}, {
  id: 32,
  name: '原則二：第一個去愛、第一個去給',
  level: 2,
  parentId: 3,
  order: 2
}, {
  id: 33,
  name: '原則三：給人信心、給人希望、給人歡喜、給人方便',
  level: 2,
  parentId: 3,
  order: 3
}, {
  id: 34,
  name: '原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩',
  level: 2,
  parentId: 3,
  order: 4
}, {
  id: 35,
  name: '原則五：連結神聖、追求意義、擇善固執、不變隨緣',
  level: 2,
  parentId: 3,
  order: 5
}, {
  id: 36,
  name: '原則六：役物不役於物，惜物厚生濟世',
  level: 2,
  parentId: 3,
  order: 6
}, {
  id: 37,
  name: '原則七：誠意正心、戒慎恐懼、後設反思、開放公正',
  level: 2,
  parentId: 3,
  order: 7
},
// 第三層和第四層示例
{
  id: 111,
  name: '正念覺察',
  level: 3,
  parentId: 11,
  order: 1
}, {
  id: 112,
  name: '情緒調節',
  level: 3,
  parentId: 11,
  order: 2
}, {
  id: 1111,
  name: '呼吸覺察練習',
  level: 4,
  parentId: 111,
  order: 1
}, {
  id: 1112,
  name: '身體掃描',
  level: 4,
  parentId: 111,
  order: 2
}, {
  id: 1121,
  name: '情緒識別技巧',
  level: 4,
  parentId: 112,
  order: 1
}, {
  id: 1122,
  name: '情緒轉化方法',
  level: 4,
  parentId: 112,
  order: 2
}];

// 初始題目資料
var initialQuestions = [{
  id: 1,
  text: '我能覺察自己的起心動念',
  categoryId: 1111,
  isReligiousOnly: false,
  order: 1
}, {
  id: 2,
  text: '我會定期進行呼吸覺察練習',
  categoryId: 1111,
  isReligiousOnly: false,
  order: 2
}, {
  id: 3,
  text: '我能透過身體掃描了解內在狀態',
  categoryId: 1112,
  isReligiousOnly: false,
  order: 3
}, {
  id: 4,
  text: '我能準確識別自己的情緒狀態',
  categoryId: 1121,
  isReligiousOnly: false,
  order: 4
}, {
  id: 5,
  text: '我具備將負面情緒轉化為正面能量的能力',
  categoryId: 1122,
  isReligiousOnly: false,
  order: 5
}, {
  id: 6,
  text: '我會反思自己的思考模式',
  categoryId: 112,
  isReligiousOnly: false,
  order: 6
}, {
  id: 7,
  text: '我能在人際關係中實踐愛與給予',
  categoryId: 32,
  isReligiousOnly: false,
  order: 7
}, {
  id: 8,
  text: '我會定期進行宗教儀式',
  categoryId: 29,
  isReligiousOnly: true,
  order: 8
}, {
  id: 9,
  text: '我能在困難時保持感恩的心',
  categoryId: 26,
  isReligiousOnly: false,
  order: 9
}, {
  id: 10,
  text: '我會主動寬恕傷害我的人',
  categoryId: 25,
  isReligiousOnly: false,
  order: 10
}, {
  id: 11,
  text: '我能在日常生活中感受到神聖的存在',
  categoryId: 28,
  isReligiousOnly: false,
  order: 11
}, {
  id: 12,
  text: '我會透過祈禱或冥想與超越者連結',
  categoryId: 16,
  isReligiousOnly: true,
  order: 12
}];

// 應用程式狀態提供者
function AppProvider(_ref) {
  var children = _ref.children;
  var _useState = useState('editor'),
    _useState2 = _slicedToArray(_useState, 2),
    currentPage = _useState2[0],
    setCurrentPage = _useState2[1];
  var _useState3 = useState(null),
    _useState4 = _slicedToArray(_useState3, 2),
    currentVersionId = _useState4[0],
    setCurrentVersionId = _useState4[1];
  var _useState5 = useState(initialCategories),
    _useState6 = _slicedToArray(_useState5, 2),
    categories = _useState6[0],
    setCategories = _useState6[1];
  var _useState7 = useState(initialQuestions),
    _useState8 = _slicedToArray(_useState7, 2),
    questions = _useState8[0],
    setQuestions = _useState8[1];
  var _useState9 = useState({}),
    _useState0 = _slicedToArray(_useState9, 2),
    versions = _useState0[0],
    setVersions = _useState0[1];
  var _useState1 = useState({}),
    _useState10 = _slicedToArray(_useState1, 2),
    responses = _useState10[0],
    setResponses = _useState10[1];
  var _useState11 = useState(null),
    _useState12 = _slicedToArray(_useState11, 2),
    editingQuestion = _useState12[0],
    setEditingQuestion = _useState12[1];
  var _useState13 = useState(null),
    _useState14 = _slicedToArray(_useState13, 2),
    editingCategory = _useState14[0],
    setEditingCategory = _useState14[1];
  var _useState15 = useState(''),
    _useState16 = _slicedToArray(_useState15, 2),
    saveStatus = _useState16[0],
    setSaveStatus = _useState16[1];
  var _useState17 = useState(new Set()),
    _useState18 = _slicedToArray(_useState17, 2),
    selectedQuestions = _useState18[0],
    setSelectedQuestions = _useState18[1];
  var _useState19 = useState(''),
    _useState20 = _slicedToArray(_useState19, 2),
    searchQuery = _useState20[0],
    setSearchQuery = _useState20[1];
  var _useState21 = useState(''),
    _useState22 = _slicedToArray(_useState21, 2),
    filterCategory = _useState22[0],
    setFilterCategory = _useState22[1];
  var _useState23 = useState('all'),
    _useState24 = _slicedToArray(_useState23, 2),
    filterReligious = _useState24[0],
    setFilterReligious = _useState24[1];
  var _useState25 = useState(false),
    _useState26 = _slicedToArray(_useState25, 2),
    drawerOpen = _useState26[0],
    setDrawerOpen = _useState26[1];
  var _useState27 = useState(false),
    _useState28 = _slicedToArray(_useState27, 2),
    isLoading = _useState28[0],
    setIsLoading = _useState28[1];

  // 從 localStorage 載入資料
  useEffect(function () {
    setIsLoading(true);
    try {
      var savedCategories = localStorage.getItem('spiritual_categories_v3');
      var savedQuestions = localStorage.getItem('spiritual_questions_v3');
      var savedVersions = localStorage.getItem('spiritual_versions_v3');
      var savedResponses = localStorage.getItem('spiritual_responses_v3');
      if (savedCategories) {
        setCategories(JSON.parse(savedCategories));
      }
      if (savedQuestions) {
        setQuestions(JSON.parse(savedQuestions));
      }
      if (savedVersions) {
        setVersions(JSON.parse(savedVersions));
      }
      if (savedResponses) {
        setResponses(JSON.parse(savedResponses));
      }
    } catch (e) {
      console.error('載入資料失敗:', e);
      setSaveStatus('載入資料失敗，使用預設資料');
      setTimeout(function () {
        return setSaveStatus('');
      }, 3000);
    } finally {
      setIsLoading(false);
    }
  }, []);

  // 手動儲存功能
  var saveData = useCallback(function () {
    setIsLoading(true);
    try {
      localStorage.setItem('spiritual_categories_v3', JSON.stringify(categories));
      localStorage.setItem('spiritual_questions_v3', JSON.stringify(questions));
      localStorage.setItem('spiritual_versions_v3', JSON.stringify(versions));
      localStorage.setItem('spiritual_responses_v3', JSON.stringify(responses));
      setSaveStatus('儲存成功！');
      setTimeout(function () {
        return setSaveStatus('');
      }, 3000);
    } catch (e) {
      console.error('儲存失敗:', e);
      setSaveStatus('儲存失敗！請檢查瀏覽器儲存空間');
      setTimeout(function () {
        return setSaveStatus('');
      }, 5000);
    } finally {
      setIsLoading(false);
    }
  }, [categories, questions, versions, responses]);

  // 自動儲存
  useEffect(function () {
    var timeoutId = setTimeout(function () {
      try {
        localStorage.setItem('spiritual_categories_v3', JSON.stringify(categories));
        localStorage.setItem('spiritual_questions_v3', JSON.stringify(questions));
        localStorage.setItem('spiritual_versions_v3', JSON.stringify(versions));
        localStorage.setItem('spiritual_responses_v3', JSON.stringify(responses));
      } catch (e) {
        console.error('自動儲存失敗:', e);
      }
    }, 2000);
    return function () {
      return clearTimeout(timeoutId);
    };
  }, [categories, questions, versions, responses]);
  var value = {
    currentPage: currentPage,
    setCurrentPage: setCurrentPage,
    currentVersionId: currentVersionId,
    setCurrentVersionId: setCurrentVersionId,
    categories: categories,
    setCategories: setCategories,
    questions: questions,
    setQuestions: setQuestions,
    versions: versions,
    setVersions: setVersions,
    responses: responses,
    setResponses: setResponses,
    editingQuestion: editingQuestion,
    setEditingQuestion: setEditingQuestion,
    editingCategory: editingCategory,
    setEditingCategory: setEditingCategory,
    saveData: saveData,
    saveStatus: saveStatus,
    selectedQuestions: selectedQuestions,
    setSelectedQuestions: setSelectedQuestions,
    searchQuery: searchQuery,
    setSearchQuery: setSearchQuery,
    filterCategory: filterCategory,
    setFilterCategory: setFilterCategory,
    filterReligious: filterReligious,
    setFilterReligious: setFilterReligious,
    drawerOpen: drawerOpen,
    setDrawerOpen: setDrawerOpen,
    isLoading: isLoading
  };
  return /*#__PURE__*/React.createElement(AppContext.Provider, {
    value: value
  }, children);
}

// 載入指示器組件
function LoadingSpinner(_ref2) {
  var _ref2$size = _ref2.size,
    size = _ref2$size === void 0 ? 'md' : _ref2$size;
  var sizeClasses = {
    sm: 'w-4 h-4',
    md: 'w-6 h-6',
    lg: 'w-8 h-8'
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "loading-spinner ".concat(sizeClasses[size])
  });
}

// 搜尋和篩選 Hook
function useQuestionFilter() {
  var _useContext = useContext(AppContext),
    questions = _useContext.questions,
    categories = _useContext.categories,
    searchQuery = _useContext.searchQuery,
    filterCategory = _useContext.filterCategory,
    filterReligious = _useContext.filterReligious;
  return useMemo(function () {
    var filtered = _toConsumableArray(questions);

    // 關鍵字搜尋
    if (searchQuery.trim()) {
      var query = searchQuery.toLowerCase();
      filtered = filtered.filter(function (q) {
        return q.text.toLowerCase().includes(query);
      });
    }

    // 分類篩選
    if (filterCategory) {
      var categoryId = parseInt(filterCategory);
      var _getAllDescendantIds = function getAllDescendantIds(catId) {
        var descendants = [catId];
        var children = categories.filter(function (c) {
          return c.parentId === catId;
        });
        children.forEach(function (child) {
          descendants.push.apply(descendants, _toConsumableArray(_getAllDescendantIds(child.id)));
        });
        return descendants;
      };
      var targetCategoryIds = _getAllDescendantIds(categoryId);
      filtered = filtered.filter(function (q) {
        return targetCategoryIds.includes(q.categoryId);
      });
    }

    // 宗教專屬篩選
    if (filterReligious !== 'all') {
      var isReligious = filterReligious === 'religious';
      filtered = filtered.filter(function (q) {
        return q.isReligiousOnly === isReligious;
      });
    }
    return filtered.sort(function (a, b) {
      return a.order - b.order;
    });
  }, [questions, categories, searchQuery, filterCategory, filterReligious]);
}

// 分類樹組件
function CategoryTree(_ref3) {
  var onSelectCategory = _ref3.onSelectCategory,
    selectedCategoryId = _ref3.selectedCategoryId,
    _ref3$isDrawer = _ref3.isDrawer,
    isDrawer = _ref3$isDrawer === void 0 ? false : _ref3$isDrawer;
  var _useContext2 = useContext(AppContext),
    categories = _useContext2.categories,
    setCategories = _useContext2.setCategories,
    questions = _useContext2.questions,
    setQuestions = _useContext2.setQuestions,
    editingCategory = _useContext2.editingCategory,
    setEditingCategory = _useContext2.setEditingCategory,
    drawerOpen = _useContext2.drawerOpen,
    setDrawerOpen = _useContext2.setDrawerOpen;
  var _useState29 = useState(new Set([1, 2, 3, 4])),
    _useState30 = _slicedToArray(_useState29, 2),
    expandedNodes = _useState30[0],
    setExpandedNodes = _useState30[1];
  var toggleExpand = useCallback(function (categoryId) {
    setExpandedNodes(function (prev) {
      var newExpanded = new Set(prev);
      if (newExpanded.has(categoryId)) {
        newExpanded["delete"](categoryId);
      } else {
        newExpanded.add(categoryId);
      }
      return newExpanded;
    });
  }, []);
  var getCategoryChildren = useCallback(function (parentId) {
    return categories.filter(function (cat) {
      return cat.parentId === parentId;
    }).sort(function (a, b) {
      return (a.order || 0) - (b.order || 0);
    });
  }, [categories]);
  var getCategoryQuestionCount = useCallback(function (categoryId) {
    var _getAllDescendantIds2 = function getAllDescendantIds(catId) {
      var descendants = [catId];
      var children = categories.filter(function (c) {
        return c.parentId === catId;
      });
      children.forEach(function (child) {
        descendants.push.apply(descendants, _toConsumableArray(_getAllDescendantIds2(child.id)));
      });
      return descendants;
    };
    var allCategoryIds = _getAllDescendantIds2(categoryId);
    return questions.filter(function (q) {
      return allCategoryIds.includes(q.categoryId);
    }).length;
  }, [categories, questions]);
  var addSubCategory = useCallback(function (parentId) {
    var newId = Math.max.apply(Math, _toConsumableArray(categories.map(function (c) {
      return c.id;
    }))) + 1;
    var parentCategory = parentId ? categories.find(function (c) {
      return c.id === parentId;
    }) : null;
    var siblings = categories.filter(function (c) {
      return c.parentId === parentId;
    });
    var maxOrder = Math.max.apply(Math, _toConsumableArray(siblings.map(function (c) {
      return c.order || 0;
    })).concat([0]));
    var newCategory = {
      id: newId,
      name: '新分類',
      level: parentCategory ? parentCategory.level + 1 : 1,
      parentId: parentId,
      order: maxOrder + 1
    };
    setCategories(function (prev) {
      return [].concat(_toConsumableArray(prev), [newCategory]);
    });
    setEditingCategory(newId);
  }, [categories, setCategories, setEditingCategory]);
  var getAllDescendantIds = useCallback(function (categoryId) {
    var descendants = [];
    var children = categories.filter(function (c) {
      return c.parentId === categoryId;
    });
    children.forEach(function (child) {
      descendants.push(child.id);
      descendants.push.apply(descendants, _toConsumableArray(getAllDescendantIds(child.id)));
    });
    return descendants;
  }, [categories]);
  var deleteCategory = useCallback(function (categoryId) {
    var descendantIds = getAllDescendantIds(categoryId);
    var allIdsToDelete = [categoryId].concat(_toConsumableArray(descendantIds));
    var relatedQuestions = questions.filter(function (q) {
      return allIdsToDelete.includes(q.categoryId);
    });
    var confirmMessage = '確定要刪除此分類嗎？';
    if (descendantIds.length > 0) {
      confirmMessage += "\n\u9019\u5C07\u540C\u6642\u522A\u9664 ".concat(descendantIds.length, " \u500B\u5B50\u5206\u985E");
    }
    if (relatedQuestions.length > 0) {
      confirmMessage += "\n\u4EE5\u53CA ".concat(relatedQuestions.length, " \u500B\u76F8\u95DC\u984C\u76EE");
    }
    if (window.confirm(confirmMessage)) {
      setCategories(function (prev) {
        return prev.filter(function (c) {
          return !allIdsToDelete.includes(c.id);
        });
      });
      setQuestions(function (prev) {
        return prev.filter(function (q) {
          return !allIdsToDelete.includes(q.categoryId);
        });
      });
    }
  }, [getAllDescendantIds, questions, setCategories, setQuestions]);
  var updateCategoryName = useCallback(function (categoryId, newName) {
    if (newName.trim()) {
      setCategories(function (prev) {
        return prev.map(function (c) {
          return c.id === categoryId ? _objectSpread(_objectSpread({}, c), {}, {
            name: newName.trim()
          }) : c;
        });
      });
    }
    setEditingCategory(null);
  }, [setCategories, setEditingCategory]);
  var renderCategory = useCallback(function (category) {
    var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var children = getCategoryChildren(category.id);
    var isExpanded = expandedNodes.has(category.id);
    var hasChildren = children.length > 0;
    var canEdit = true;
    var canAddChild = category.level < 4;
    var questionCount = getCategoryQuestionCount(category.id);
    return /*#__PURE__*/React.createElement("div", {
      key: category.id,
      className: "select-none slide-in"
    }, /*#__PURE__*/React.createElement("div", {
      className: "category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 ".concat(selectedCategoryId === category.id ? 'bg-primary/10 border border-primary/30' : 'border border-transparent'),
      style: {
        paddingLeft: "".concat(depth * 20 + 12, "px")
      },
      onClick: function onClick() {
        onSelectCategory && onSelectCategory(category.id);
        if (isDrawer) setDrawerOpen(false);
      }
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center mr-3 mt-1"
    }, hasChildren ? /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        toggleExpand(category.id);
      },
      className: "w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200",
      "aria-label": isExpanded ? '收合' : '展開'
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4 transition-transform duration-200 ".concat(isExpanded ? 'rotate-90' : ''),
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M9 5l7 7-7 7"
    }))) : /*#__PURE__*/React.createElement("div", {
      className: "w-6 h-6 flex items-center justify-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "w-2 h-2 bg-gray-300 rounded-full"
    }))), /*#__PURE__*/React.createElement("div", {
      className: "flex-1 min-w-0 mr-3"
    }, editingCategory === category.id ? /*#__PURE__*/React.createElement("textarea", {
      defaultValue: category.name,
      className: "w-full px-3 py-2 text-sm border border-primary/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none",
      rows: "2",
      autoFocus: true,
      onBlur: function onBlur(e) {
        return updateCategoryName(category.id, e.target.value);
      },
      onKeyPress: function onKeyPress(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          updateCategoryName(category.id, e.target.value);
        }
      },
      onClick: function onClick(e) {
        return e.stopPropagation();
      },
      placeholder: "\u8ACB\u8F38\u5165\u5206\u985E\u540D\u7A31"
    }) : /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("div", {
      className: "tooltip"
    }, /*#__PURE__*/React.createElement("span", {
      className: "category-name text-sm font-medium text-gray-800 block"
    }, category.name), category.name.length > 20 && /*#__PURE__*/React.createElement("span", {
      className: "tooltip-text"
    }, category.name)), category.level === 1 && /*#__PURE__*/React.createElement("span", {
      className: "bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium"
    }, questionCount, "\u984C"))), /*#__PURE__*/React.createElement("div", {
      className: "action-buttons flex items-center space-x-1 mt-1"
    }, canAddChild && /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        addSubCategory(category.id);
      },
      className: "w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip",
      "aria-label": "\u65B0\u589E\u5B50\u5206\u985E"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M12 6v6m0 0v6m0-6h6m-6 0H6"
    })), /*#__PURE__*/React.createElement("span", {
      className: "tooltip-text"
    }, "\u65B0\u589E\u5B50\u5206\u985E")), canEdit && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        setEditingCategory(category.id);
      },
      className: "w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip",
      "aria-label": "\u7DE8\u8F2F\u5206\u985E\u540D\u7A31"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
    })), /*#__PURE__*/React.createElement("span", {
      className: "tooltip-text"
    }, "\u7DE8\u8F2F\u5206\u985E\u540D\u7A31")), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(e) {
        e.stopPropagation();
        deleteCategory(category.id);
      },
      className: "w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip",
      "aria-label": "\u522A\u9664\u5206\u985E"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
    })), /*#__PURE__*/React.createElement("span", {
      className: "tooltip-text"
    }, "\u522A\u9664\u5206\u985E"))))), hasChildren && isExpanded && /*#__PURE__*/React.createElement("div", {
      className: "ml-2 mt-1 space-y-1"
    }, children.map(function (child) {
      return renderCategory(child, depth + 1);
    })));
  }, [getCategoryChildren, expandedNodes, selectedCategoryId, onSelectCategory, isDrawer, setDrawerOpen, editingCategory, updateCategoryName, toggleExpand, getCategoryQuestionCount, addSubCategory, setEditingCategory, deleteCategory]);
  var rootCategories = useMemo(function () {
    return categories.filter(function (cat) {
      return cat.parentId === null;
    }).sort(function (a, b) {
      return (a.order || 0) - (b.order || 0);
    });
  }, [categories]);
  var content = /*#__PURE__*/React.createElement("div", {
    className: "category-tree border rounded-xl bg-white p-4 shadow-sm"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-gray-800 text-lg mb-1"
  }, "\u5206\u985E\u7D50\u69CB"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-500"
  }, "\u56DB\u5C64\u5206\u985E\u7D50\u69CB\uFF1A\u9748\u6027\u4FEE\u990A\u9762\u5411 \u2192 \u6838\u5FC3\u6307\u6A19 \u2192 \u9748\u4FEE\u539F\u5247 \u2192 \u65E5\u5E38\u5BE6\u8E10")), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return addSubCategory(null);
    },
    className: "flex items-center gap-2 bg-secondary text-white px-4 py-2 rounded-xl hover:bg-secondary/90 text-sm font-medium transition-all duration-200 mobile-button"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M12 6v6m0 0v6m0-6h6m-6 0H6"
  })), "\u65B0\u589E\u5206\u985E")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-1"
  }, rootCategories.map(function (category) {
    return renderCategory(category);
  })));
  if (isDrawer) {
    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
      className: "drawer-overlay ".concat(drawerOpen ? 'active' : ''),
      onClick: function onClick() {
        return setDrawerOpen(false);
      }
    }), /*#__PURE__*/React.createElement("div", {
      className: "drawer ".concat(drawerOpen ? 'active' : '')
    }, /*#__PURE__*/React.createElement("div", {
      className: "p-4 border-b"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center justify-between"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "font-semibold text-gray-800"
    }, "\u5206\u985E\u7D50\u69CB"), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return setDrawerOpen(false);
      },
      className: "w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",
      "aria-label": "\u95DC\u9589"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-5 h-5",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M6 18L18 6M6 6l12 12"
    }))))), /*#__PURE__*/React.createElement("div", {
      className: "p-4"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return addSubCategory(null);
      },
      className: "w-full flex items-center justify-center gap-2 bg-secondary text-white px-4 py-3 rounded-xl hover:bg-secondary/90 text-sm font-medium transition-all duration-200 mb-4"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M12 6v6m0 0v6m0-6h6m-6 0H6"
    })), "\u65B0\u589E\u5206\u985E"), /*#__PURE__*/React.createElement("div", {
      className: "space-y-1"
    }, rootCategories.map(function (category) {
      return renderCategory(category);
    })))));
  }
  return content;
}

// 搜尋和篩選組件
function SearchAndFilter() {
  var _useContext3 = useContext(AppContext),
    searchQuery = _useContext3.searchQuery,
    setSearchQuery = _useContext3.setSearchQuery,
    filterCategory = _useContext3.filterCategory,
    setFilterCategory = _useContext3.setFilterCategory,
    filterReligious = _useContext3.filterReligious,
    setFilterReligious = _useContext3.setFilterReligious,
    categories = _useContext3.categories;
  var getCategoryOptions = useCallback(function () {
    var parentId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    var children = categories.filter(function (c) {
      return c.parentId === parentId;
    }).sort(function (a, b) {
      return (a.order || 0) - (b.order || 0);
    });
    var options = [];
    children.forEach(function (category) {
      options.push({
        value: category.id,
        label: prefix + category.name
      });
      options.push.apply(options, _toConsumableArray(getCategoryOptions(category.id, prefix + '　')));
    });
    return options;
  }, [categories]);
  var categoryOptions = useMemo(function () {
    return getCategoryOptions();
  }, [getCategoryOptions]);
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl p-4 shadow-sm mb-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-3 gap-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u95DC\u9375\u5B57\u641C\u5C0B"), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: searchQuery,
    onChange: function onChange(e) {
      return setSearchQuery(e.target.value);
    },
    placeholder: "\u641C\u5C0B\u984C\u76EE\u5167\u5BB9...",
    className: "w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"
  }), /*#__PURE__*/React.createElement("svg", {
    className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
  })))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5206\u985E\u7BE9\u9078"), /*#__PURE__*/React.createElement("select", {
    value: filterCategory,
    onChange: function onChange(e) {
      return setFilterCategory(e.target.value);
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"
  }, /*#__PURE__*/React.createElement("option", {
    value: ""
  }, "\u6240\u6709\u5206\u985E"), categoryOptions.map(function (option) {
    return /*#__PURE__*/React.createElement("option", {
      key: option.value,
      value: option.value
    }, option.label);
  }))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-2"
  }, "\u5B97\u6559\u5C08\u5C6C"), /*#__PURE__*/React.createElement("select", {
    value: filterReligious,
    onChange: function onChange(e) {
      return setFilterReligious(e.target.value);
    },
    className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"
  }, /*#__PURE__*/React.createElement("option", {
    value: "all"
  }, "\u5168\u90E8"), /*#__PURE__*/React.createElement("option", {
    value: "religious"
  }, "\u50C5\u5B97\u6559\u5C08\u5C6C"), /*#__PURE__*/React.createElement("option", {
    value: "general"
  }, "\u50C5\u4E00\u822C\u984C\u76EE")))));
}

// 批次操作組件
function BatchActions() {
  var _useContext4 = useContext(AppContext),
    selectedQuestions = _useContext4.selectedQuestions,
    setSelectedQuestions = _useContext4.setSelectedQuestions,
    questions = _useContext4.questions,
    setQuestions = _useContext4.setQuestions;
  var handleSelectAll = useCallback(function () {
    if (selectedQuestions.size === questions.length) {
      setSelectedQuestions(new Set());
    } else {
      setSelectedQuestions(new Set(questions.map(function (q) {
        return q.id;
      })));
    }
  }, [selectedQuestions.size, questions.length, questions, setSelectedQuestions]);
  var handleBatchDelete = useCallback(function () {
    if (selectedQuestions.size === 0) return;
    if (window.confirm("\u78BA\u5B9A\u8981\u522A\u9664\u9078\u4E2D\u7684 ".concat(selectedQuestions.size, " \u500B\u984C\u76EE\u55CE\uFF1F"))) {
      setQuestions(function (prev) {
        return prev.filter(function (q) {
          return !selectedQuestions.has(q.id);
        });
      });
      setSelectedQuestions(new Set());
    }
  }, [selectedQuestions, setQuestions, setSelectedQuestions]);
  var handleBatchToggleReligious = useCallback(function () {
    if (selectedQuestions.size === 0) return;
    setQuestions(function (prev) {
      return prev.map(function (q) {
        return selectedQuestions.has(q.id) ? _objectSpread(_objectSpread({}, q), {}, {
          isReligiousOnly: !q.isReligiousOnly
        }) : q;
      });
    });
  }, [selectedQuestions, setQuestions]);
  if (selectedQuestions.size === 0) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "batch-actions bg-primary/5 border border-primary/20 rounded-xl"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-sm font-medium text-primary"
  }, "\u5DF2\u9078\u64C7 ", selectedQuestions.size, " \u500B\u984C\u76EE"), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleSelectAll,
    className: "px-3 py-1 text-sm bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors"
  }, selectedQuestions.size === questions.length ? '取消全選' : '全選'), /*#__PURE__*/React.createElement("button", {
    onClick: handleBatchToggleReligious,
    className: "px-3 py-1 text-sm bg-warning/10 text-warning rounded-lg hover:bg-warning/20 transition-colors"
  }, "\u5207\u63DB\u5B97\u6559\u5C6C\u6027"), /*#__PURE__*/React.createElement("button", {
    onClick: handleBatchDelete,
    className: "px-3 py-1 text-sm bg-danger/10 text-danger rounded-lg hover:bg-danger/20 transition-colors"
  }, "\u6279\u6B21\u522A\u9664"))));
}

// 題目管理組件
function QuestionManager() {
  var _useContext5 = useContext(AppContext),
    categories = _useContext5.categories,
    questions = _useContext5.questions,
    setQuestions = _useContext5.setQuestions,
    editingQuestion = _useContext5.editingQuestion,
    setEditingQuestion = _useContext5.setEditingQuestion,
    selectedQuestions = _useContext5.selectedQuestions,
    setSelectedQuestions = _useContext5.setSelectedQuestions,
    drawerOpen = _useContext5.drawerOpen,
    setDrawerOpen = _useContext5.setDrawerOpen;
  var _useState31 = useState(null),
    _useState32 = _slicedToArray(_useState31, 2),
    selectedCategoryId = _useState32[0],
    setSelectedCategoryId = _useState32[1];
  var _useState33 = useState(false),
    _useState34 = _slicedToArray(_useState33, 2),
    showAllQuestions = _useState34[0],
    setShowAllQuestions = _useState34[1];
  var _useState35 = useState(null),
    _useState36 = _slicedToArray(_useState35, 2),
    draggedItem = _useState36[0],
    setDraggedItem = _useState36[1];
  var filteredQuestions = useQuestionFilter();
  var getCategoryPath = useCallback(function (categoryId) {
    var path = [];
    var current = categories.find(function (c) {
      return c.id === categoryId;
    });
    while (current) {
      path.unshift(current.name);
      current = categories.find(function (c) {
        return c.id === current.parentId;
      });
    }
    return path.join(' > ');
  }, [categories]);
  var addQuestion = useCallback(function () {
    var _categories$;
    if (!selectedCategoryId && !showAllQuestions) {
      alert('請先選擇分類');
      return;
    }
    var newId = Math.max.apply(Math, _toConsumableArray(questions.map(function (q) {
      return q.id;
    })).concat([0])) + 1;
    var newQuestion = {
      id: newId,
      text: '新題目',
      categoryId: selectedCategoryId || ((_categories$ = categories[0]) === null || _categories$ === void 0 ? void 0 : _categories$.id),
      isReligiousOnly: false,
      order: questions.length + 1
    };
    setQuestions(function (prev) {
      return [].concat(_toConsumableArray(prev), [newQuestion]);
    });
    setEditingQuestion(newId);
  }, [selectedCategoryId, showAllQuestions, questions, categories, setQuestions, setEditingQuestion]);
  var updateQuestion = useCallback(function (questionId, updates) {
    setQuestions(function (prev) {
      return prev.map(function (q) {
        return q.id === questionId ? _objectSpread(_objectSpread({}, q), updates) : q;
      });
    });
    setEditingQuestion(null);
  }, [setQuestions, setEditingQuestion]);
  var deleteQuestion = useCallback(function (questionId) {
    if (window.confirm('確定要刪除此題目嗎？')) {
      setQuestions(function (prev) {
        return prev.filter(function (q) {
          return q.id !== questionId;
        });
      });
    }
  }, [setQuestions]);
  var toggleQuestionSelection = useCallback(function (questionId) {
    setSelectedQuestions(function (prev) {
      var newSelected = new Set(prev);
      if (newSelected.has(questionId)) {
        newSelected["delete"](questionId);
      } else {
        newSelected.add(questionId);
      }
      return newSelected;
    });
  }, [setSelectedQuestions]);
  var handleDragStart = useCallback(function (e, question) {
    setDraggedItem(question);
    e.dataTransfer.effectAllowed = 'move';
  }, []);
  var handleDragOver = useCallback(function (e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
  }, []);
  var handleDrop = useCallback(function (e, targetQuestion) {
    e.preventDefault();
    if (!draggedItem || draggedItem.id === targetQuestion.id) return;
    setQuestions(function (prev) {
      var newQuestions = _toConsumableArray(prev);
      var draggedIndex = newQuestions.findIndex(function (q) {
        return q.id === draggedItem.id;
      });
      var targetIndex = newQuestions.findIndex(function (q) {
        return q.id === targetQuestion.id;
      });
      newQuestions.splice(draggedIndex, 1);
      newQuestions.splice(targetIndex, 0, draggedItem);
      newQuestions.forEach(function (q, index) {
        q.order = index + 1;
      });
      return newQuestions;
    });
    setDraggedItem(null);
  }, [draggedItem, setQuestions]);
  var highlightSearchText = useCallback(function (text, query) {
    if (!query.trim()) return text;
    var regex = new RegExp("(".concat(query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), ")"), 'gi');
    var parts = text.split(regex);
    return parts.map(function (part, index) {
      return regex.test(part) ? /*#__PURE__*/React.createElement("span", {
        key: index,
        className: "search-highlight"
      }, part) : part;
    });
  }, []);
  var displayQuestions = useMemo(function () {
    return showAllQuestions ? filteredQuestions : selectedCategoryId ? questions.filter(function (q) {
      return q.categoryId === selectedCategoryId;
    }) : [];
  }, [showAllQuestions, filteredQuestions, selectedCategoryId, questions]);
  return /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col xl:flex-row gap-4 h-full"
  }, /*#__PURE__*/React.createElement("div", {
    className: "xl:hidden"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setDrawerOpen(true);
    },
    className: "w-full flex items-center justify-center gap-2 bg-primary text-white px-4 py-3 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mb-4"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M4 6h16M4 12h16M4 18h16"
  })), "\u5206\u985E\u7BA1\u7406"), /*#__PURE__*/React.createElement(CategoryTree, {
    onSelectCategory: function onSelectCategory(categoryId) {
      setSelectedCategoryId(categoryId);
      setShowAllQuestions(false);
    },
    selectedCategoryId: selectedCategoryId,
    isDrawer: true
  })), /*#__PURE__*/React.createElement("div", {
    className: "hidden xl:block w-full xl:w-2/5"
  }, /*#__PURE__*/React.createElement(CategoryTree, {
    onSelectCategory: function onSelectCategory(categoryId) {
      setSelectedCategoryId(categoryId);
      setShowAllQuestions(false);
    },
    selectedCategoryId: selectedCategoryId
  })), /*#__PURE__*/React.createElement("div", {
    className: "w-full xl:w-3/5"
  }, /*#__PURE__*/React.createElement(SearchAndFilter, null), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl p-4 shadow-sm"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:items-center gap-3"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-gray-800 text-lg"
  }, "\u984C\u76EE\u7BA1\u7406"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      setShowAllQuestions(true);
      setSelectedCategoryId(null);
    },
    className: "px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 mobile-button ".concat(showAllQuestions ? 'bg-accent text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200')
  }, "\u6240\u6709\u984C\u5EAB")), /*#__PURE__*/React.createElement("button", {
    onClick: addQuestion,
    className: "bg-primary text-white px-4 py-2 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mobile-button"
  }, "\u65B0\u589E\u984C\u76EE")), /*#__PURE__*/React.createElement(BatchActions, null), /*#__PURE__*/React.createElement("div", {
    className: "mb-3 text-sm text-gray-600"
  }, showAllQuestions ? /*#__PURE__*/React.createElement("span", null, "\u986F\u793A ", displayQuestions.length, " / ", questions.length, " \u984C") : selectedCategoryId ? /*#__PURE__*/React.createElement("span", {
    className: "break-words"
  }, getCategoryPath(selectedCategoryId), "(", displayQuestions.length, " \u984C)") : /*#__PURE__*/React.createElement("span", null, "\u8ACB\u9078\u64C7\u5206\u985E\u6216\u9EDE\u64CA\u300C\u6240\u6709\u984C\u5EAB\u300D\u67E5\u770B\u984C\u76EE")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3 max-h-96 overflow-y-auto"
  }, displayQuestions.map(function (question) {
    return /*#__PURE__*/React.createElement("div", {
      key: question.id,
      className: "question-item border rounded-xl p-4 transition-all duration-300 ".concat((draggedItem === null || draggedItem === void 0 ? void 0 : draggedItem.id) === question.id ? 'dragging' : '', " ").concat(selectedQuestions.has(question.id) ? 'selected' : ''),
      draggable: true,
      onDragStart: function onDragStart(e) {
        return handleDragStart(e, question);
      },
      onDragOver: handleDragOver,
      onDrop: function onDrop(e) {
        return handleDrop(e, question);
      }
    }, editingQuestion === question.id ? /*#__PURE__*/React.createElement("div", {
      className: "space-y-4"
    }, /*#__PURE__*/React.createElement("textarea", {
      defaultValue: question.text,
      className: "w-full p-3 border border-primary/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",
      rows: "3",
      placeholder: "\u984C\u76EE\u5167\u5BB9",
      onBlur: function onBlur(e) {
        return updateQuestion(question.id, {
          text: e.target.value
        });
      }
    }), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col sm:flex-row sm:items-center gap-3"
    }, /*#__PURE__*/React.createElement("select", {
      defaultValue: question.categoryId,
      onChange: function onChange(e) {
        return updateQuestion(question.id, {
          categoryId: parseInt(e.target.value)
        });
      },
      className: "border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"
    }, categories.map(function (cat) {
      return /*#__PURE__*/React.createElement("option", {
        key: cat.id,
        value: cat.id
      }, getCategoryPath(cat.id));
    })), /*#__PURE__*/React.createElement("label", {
      className: "flex items-center gap-2"
    }, /*#__PURE__*/React.createElement("input", {
      type: "checkbox",
      defaultChecked: question.isReligiousOnly,
      onChange: function onChange(e) {
        return updateQuestion(question.id, {
          isReligiousOnly: e.target.checked
        });
      },
      className: "w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded"
    }), /*#__PURE__*/React.createElement("span", {
      className: "text-sm"
    }, "\u5B97\u6559\u5C08\u5C6C")), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return setEditingQuestion(null);
      },
      className: "bg-secondary text-white px-4 py-2 rounded-lg text-sm hover:bg-secondary/90 font-medium transition-colors mobile-button"
    }, "\u5B8C\u6210"))) : /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
      className: "flex items-start gap-3"
    }, /*#__PURE__*/React.createElement("input", {
      type: "checkbox",
      checked: selectedQuestions.has(question.id),
      onChange: function onChange() {
        return toggleQuestionSelection(question.id);
      },
      className: "w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"
    }), /*#__PURE__*/React.createElement("div", {
      className: "flex-1"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-sm font-medium text-gray-800 mb-2"
    }, highlightSearchText(question.text, filteredQuestions.searchQuery || '')), /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-500 break-words mb-2"
    }, getCategoryPath(question.categoryId)), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-wrap gap-2"
    }, question.isReligiousOnly && /*#__PURE__*/React.createElement("span", {
      className: "inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full font-medium"
    }, "\u5B97\u6559\u5C08\u5C6C"), /*#__PURE__*/React.createElement("span", {
      className: "inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full"
    }, "\u9806\u5E8F: ", question.order))), /*#__PURE__*/React.createElement("div", {
      className: "flex gap-2"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return setEditingQuestion(question.id);
      },
      className: "text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200",
      "aria-label": "\u7DE8\u8F2F\u984C\u76EE"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
    }))), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return deleteQuestion(question.id);
      },
      className: "text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200",
      "aria-label": "\u522A\u9664\u984C\u76EE"
    }, /*#__PURE__*/React.createElement("svg", {
      className: "w-4 h-4",
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24"
    }, /*#__PURE__*/React.createElement("path", {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      strokeWidth: 2,
      d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
    })))))));
  }), displayQuestions.length === 0 && /*#__PURE__*/React.createElement("div", {
    className: "text-center py-12 text-gray-500"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-16 h-16 mx-auto mb-4 text-gray-300",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-medium mb-2"
  }, "\u66AB\u7121\u984C\u76EE"), /*#__PURE__*/React.createElement("p", {
    className: "text-sm"
  }, "\u8ACB\u9078\u64C7\u5206\u985E\u6216\u65B0\u589E\u984C\u76EE"))))));
}

// 問卷預覽組件
function SurveyPreview() {
  var _useContext6 = useContext(AppContext),
    questions = _useContext6.questions,
    categories = _useContext6.categories;
  var _useState37 = useState(false),
    _useState38 = _slicedToArray(_useState37, 2),
    randomized = _useState38[0],
    setRandomized = _useState38[1];
  var getCategoryPath = useCallback(function (categoryId) {
    var path = [];
    var current = categories.find(function (c) {
      return c.id === categoryId;
    });
    while (current) {
      path.unshift(current.name);
      current = categories.find(function (c) {
        return c.id === current.parentId;
      });
    }
    return path.join(' > ');
  }, [categories]);
  var getScoreLabel = useCallback(function (score) {
    var labels = {
      1: '完全不符合',
      2: '很不符合',
      3: '不太符合',
      4: '有點符合',
      5: '很符合',
      6: '完全符合'
    };
    return labels[score];
  }, []);
  var sortedQuestions = useMemo(function () {
    return randomized ? _toConsumableArray(questions).sort(function () {
      return Math.random() - 0.5;
    }) : _toConsumableArray(questions).sort(function (a, b) {
      return a.order - b.order;
    });
  }, [questions, randomized]);
  var toggleRandomize = useCallback(function () {
    setRandomized(function (prev) {
      return !prev;
    });
  }, []);
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl p-4 shadow-sm"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-3"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-gray-800 text-lg"
  }, "\u554F\u5377\u9810\u89BD"), /*#__PURE__*/React.createElement("button", {
    onClick: toggleRandomize,
    className: "px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 mobile-button ".concat(randomized ? 'bg-warning text-white hover:bg-warning/90' : 'bg-gray-100 text-gray-700 hover:bg-gray-200')
  }, /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
  })), randomized ? '已隨機排序' : '隨機排序'))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4 max-h-96 overflow-y-auto"
  }, sortedQuestions.map(function (question, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: question.id,
      className: "border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"
    }, /*#__PURE__*/React.createElement("div", {
      className: "mb-4"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-sm font-medium text-gray-800"
    }, index + 1, ". ", question.text), /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-500 mt-2 break-words"
    }, getCategoryPath(question.categoryId)), question.isReligiousOnly && /*#__PURE__*/React.createElement("span", {
      className: "inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full mt-2 font-medium"
    }, "\u5B97\u6559\u5C08\u5C6C")), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"
    }, [1, 2, 3, 4, 5, 6].map(function (score) {
      return /*#__PURE__*/React.createElement("label", {
        key: score,
        className: "flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"
      }, /*#__PURE__*/React.createElement("input", {
        type: "radio",
        name: "preview-".concat(question.id),
        value: score,
        disabled: true,
        className: "mb-2 w-4 h-4"
      }), /*#__PURE__*/React.createElement("span", {
        className: "text-sm font-semibold text-primary"
      }, score), /*#__PURE__*/React.createElement("span", {
        className: "text-xs text-gray-500 text-center mt-1 leading-tight"
      }, getScoreLabel(score)));
    })));
  }), sortedQuestions.length === 0 && /*#__PURE__*/React.createElement("div", {
    className: "text-center py-12 text-gray-500"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-16 h-16 mx-auto mb-4 text-gray-300",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-medium mb-2"
  }, "\u66AB\u7121\u984C\u76EE\u53EF\u9810\u89BD"), /*#__PURE__*/React.createElement("p", {
    className: "text-sm"
  }, "\u8ACB\u5148\u65B0\u589E\u984C\u76EE"))));
}

// 編輯器頁面
function EditorPage() {
  var _useContext7 = useContext(AppContext),
    questions = _useContext7.questions,
    categories = _useContext7.categories,
    versions = _useContext7.versions,
    setVersions = _useContext7.setVersions,
    setCurrentPage = _useContext7.setCurrentPage,
    setCurrentVersionId = _useContext7.setCurrentVersionId,
    saveData = _useContext7.saveData,
    saveStatus = _useContext7.saveStatus,
    isLoading = _useContext7.isLoading;
  var generateSurvey = useCallback(function () {
    if (questions.length === 0) {
      alert('請先新增題目再生成問卷');
      return;
    }
    var versionId = Date.now().toString();
    var version = {
      id: versionId,
      timestamp: new Date().toISOString(),
      questions: _toConsumableArray(questions),
      categories: _toConsumableArray(categories)
    };
    setVersions(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, versionId, version));
    });
    setCurrentVersionId(versionId);
    setCurrentPage('survey');
  }, [questions, categories, setVersions, setCurrentVersionId, setCurrentPage]);
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-50 p-2 sm:p-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-full mx-auto"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl sm:text-3xl font-bold text-gray-800 mb-2"
  }, "\u9748\u6027\u4FEE\u990A\u554F\u5377\u7DE8\u8F2F\u7CFB\u7D71"), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600"
  }, "\u5EFA\u7ACB\u3001\u7BA1\u7406\u548C\u9810\u89BD\u60A8\u7684\u9748\u6027\u4FEE\u990A\u554F\u5377")), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row items-stretch sm:items-center gap-3"
  }, saveStatus && /*#__PURE__*/React.createElement("span", {
    className: "text-sm px-4 py-2 rounded-xl text-center font-medium flex items-center gap-2 ".concat(saveStatus.includes('成功') ? 'bg-secondary/10 text-secondary' : 'bg-danger/10 text-danger', " save-success")
  }, isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {
    size: "sm"
  }), saveStatus), /*#__PURE__*/React.createElement("button", {
    onClick: saveData,
    disabled: isLoading,
    className: "bg-primary text-white px-6 py-3 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mobile-button disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"
  }, isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {
    size: "sm"
  }), /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"
  })), "\u5132\u5B58\u5206\u985E/\u984C\u76EE"), /*#__PURE__*/React.createElement("button", {
    onClick: generateSurvey,
    className: "bg-secondary text-white px-6 py-3 rounded-xl hover:bg-secondary/90 font-medium transition-all duration-200 mobile-button"
  }, /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M12 6v6m0 0v6m0-6h6m-6 0H6"
  })), "\u751F\u6210\u554F\u5377")))), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 2xl:grid-cols-2 gap-6 min-h-[calc(100vh-200px)]"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement(QuestionManager, null)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement(SurveyPreview, null)))));
}

// 問卷作答組件
function SurveyForm(_ref4) {
  var versionId = _ref4.versionId,
    onSubmit = _ref4.onSubmit;
  var _useContext8 = useContext(AppContext),
    versions = _useContext8.versions;
  var _useState39 = useState({}),
    _useState40 = _slicedToArray(_useState39, 2),
    answers = _useState40[0],
    setAnswers = _useState40[1];
  var _useState41 = useState(false),
    _useState42 = _slicedToArray(_useState41, 2),
    isSubmitting = _useState42[0],
    setIsSubmitting = _useState42[1];
  var version = versions[versionId];
  if (!version) return /*#__PURE__*/React.createElement("div", {
    className: "text-center text-gray-500 p-8"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-16 h-16 mx-auto mb-4 text-gray-300",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-medium"
  }, "\u554F\u5377\u7248\u672C\u4E0D\u5B58\u5728"));
  var getScoreLabel = useCallback(function (score) {
    var labels = {
      1: '完全不符合',
      2: '很不符合',
      3: '不太符合',
      4: '有點符合',
      5: '很符合',
      6: '完全符合'
    };
    return labels[score];
  }, []);
  var sortedQuestions = useMemo(function () {
    return _toConsumableArray(version.questions).sort(function (a, b) {
      return a.order - b.order;
    });
  }, [version.questions]);
  var handleAnswerChange = useCallback(function (questionId, score) {
    setAnswers(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, questionId, parseInt(score)));
    });
  }, []);
  var handleSubmit = useCallback(/*#__PURE__*/function () {
    var _ref5 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(e) {
      var unanswered;
      return _regenerator().w(function (_context) {
        while (1) switch (_context.p = _context.n) {
          case 0:
            e.preventDefault();
            unanswered = sortedQuestions.filter(function (q) {
              return !answers[q.id];
            });
            if (!(unanswered.length > 0)) {
              _context.n = 1;
              break;
            }
            alert("\u9084\u6709 ".concat(unanswered.length, " \u984C\u672A\u4F5C\u7B54"));
            return _context.a(2);
          case 1:
            setIsSubmitting(true);
            _context.p = 2;
            _context.n = 3;
            return new Promise(function (resolve) {
              return setTimeout(resolve, 1000);
            });
          case 3:
            onSubmit(answers);
          case 4:
            _context.p = 4;
            setIsSubmitting(false);
            return _context.f(4);
          case 5:
            return _context.a(2);
        }
      }, _callee, null, [[2,, 4, 5]]);
    }));
    return function (_x) {
      return _ref5.apply(this, arguments);
    };
  }(), [sortedQuestions, answers, onSubmit]);
  var progress = Object.keys(answers).length / sortedQuestions.length * 100;
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl p-6 shadow-sm"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-8"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-800 mb-4"
  }, "\u9748\u6027\u4FEE\u990A\u554F\u5377"), /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-200 rounded-full h-3 mb-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-gradient-to-r from-primary to-secondary h-3 rounded-full transition-all duration-500",
    style: {
      width: "".concat(progress, "%")
    }
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-gray-600"
  }, "\u9032\u5EA6\uFF1A", Object.keys(answers).length, " / ", sortedQuestions.length, /*#__PURE__*/React.createElement("span", {
    className: "ml-2 font-medium text-primary"
  }, "(", progress.toFixed(1), "%)"))), /*#__PURE__*/React.createElement("form", {
    onSubmit: handleSubmit,
    className: "space-y-8"
  }, sortedQuestions.map(function (question, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: question.id,
      className: "border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-300"
    }, /*#__PURE__*/React.createElement("div", {
      className: "mb-6"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "font-semibold mb-3 text-gray-800 text-lg"
    }, index + 1, ". ", question.text), question.isReligiousOnly && /*#__PURE__*/React.createElement("span", {
      className: "inline-block bg-warning/10 text-warning text-sm px-3 py-1 rounded-full font-medium"
    }, "\u5B97\u6559\u5C08\u5C6C\u984C\u76EE")), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3"
    }, [1, 2, 3, 4, 5, 6].map(function (score) {
      return /*#__PURE__*/React.createElement("label", {
        key: score,
        className: "flex flex-col items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ".concat(answers[question.id] === score ? 'border-primary bg-primary/5 shadow-md' : 'border-gray-200 hover:border-primary/30 hover:bg-primary/5')
      }, /*#__PURE__*/React.createElement("input", {
        type: "radio",
        name: "question-".concat(question.id),
        value: score,
        checked: answers[question.id] === score,
        onChange: function onChange(e) {
          return handleAnswerChange(question.id, e.target.value);
        },
        className: "mb-3 w-5 h-5 text-primary focus:ring-primary/20"
      }), /*#__PURE__*/React.createElement("span", {
        className: "text-lg font-bold text-primary mb-1"
      }, score), /*#__PURE__*/React.createElement("span", {
        className: "text-xs text-gray-600 text-center leading-tight"
      }, getScoreLabel(score)));
    })));
  }), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-center pt-8"
  }, /*#__PURE__*/React.createElement("button", {
    type: "submit",
    disabled: isSubmitting,
    className: "bg-gradient-to-r from-primary to-secondary text-white px-12 py-4 rounded-xl hover:shadow-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center gap-3"
  }, isSubmitting && /*#__PURE__*/React.createElement(LoadingSpinner, {
    size: "md"
  }), isSubmitting ? '提交中...' : '提交問卷'))));
}

// 結果分析組件
function ResultAnalysis(_ref6) {
  var responseId = _ref6.responseId;
  var _useContext9 = useContext(AppContext),
    responses = _useContext9.responses,
    versions = _useContext9.versions;
  var chartRef = useRef(null);
  var barChartRef = useRef(null);
  var _useState43 = useState(false),
    _useState44 = _slicedToArray(_useState43, 2),
    chartsLoaded = _useState44[0],
    setChartsLoaded = _useState44[1];
  var response = responses[responseId];
  if (!response) return /*#__PURE__*/React.createElement("div", {
    className: "text-center text-gray-500 p-8"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-16 h-16 mx-auto mb-4 text-gray-300",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-medium"
  }, "\u627E\u4E0D\u5230\u4F5C\u7B54\u8A18\u9304"));
  var version = versions[response.versionId];
  if (!version) return /*#__PURE__*/React.createElement("div", {
    className: "text-center text-gray-500 p-8"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-16 h-16 mx-auto mb-4 text-gray-300",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-medium"
  }, "\u627E\u4E0D\u5230\u554F\u5377\u7248\u672C"));
  var calculateResults = useCallback(function () {
    var answers = response.answers;
    var totalScore = Object.values(answers).reduce(function (sum, score) {
      return sum + score;
    }, 0);
    var avgScore = totalScore / Object.keys(answers).length;
    var categoryScores = {};
    version.categories.forEach(function (category) {
      var categoryQuestions = version.questions.filter(function (q) {
        return q.categoryId === category.id;
      });
      if (categoryQuestions.length > 0) {
        var categoryTotal = categoryQuestions.reduce(function (sum, q) {
          return sum + (answers[q.id] || 0);
        }, 0);
        categoryScores[category.id] = {
          name: category.name,
          score: categoryTotal / categoryQuestions.length,
          level: category.level
        };
      }
    });
    return {
      totalScore: totalScore,
      avgScore: avgScore,
      categoryScores: categoryScores
    };
  }, [response.answers, version.categories, version.questions]);
  var results = useMemo(function () {
    return calculateResults();
  }, [calculateResults]);
  var getScoreInterpretation = useCallback(function (score) {
    if (score >= 5) return {
      level: '高',
      color: 'text-secondary',
      bgColor: 'bg-secondary/10',
      description: '表現優秀'
    };
    if (score >= 3.5) return {
      level: '中',
      color: 'text-warning',
      bgColor: 'bg-warning/10',
      description: '表現良好'
    };
    return {
      level: '低',
      color: 'text-danger',
      bgColor: 'bg-danger/10',
      description: '需要改善'
    };
  }, []);

  // 繪製雷達圖
  useEffect(function () {
    if (chartRef.current && !chartsLoaded) {
      var ctx = chartRef.current.getContext('2d');
      var level1Categories = Object.values(results.categoryScores).filter(function (cat) {
        return cat.level === 1;
      });
      if (level1Categories.length > 0) {
        new Chart(ctx, {
          type: 'radar',
          data: {
            labels: level1Categories.map(function (cat) {
              return cat.name;
            }),
            datasets: [{
              label: '分數',
              data: level1Categories.map(function (cat) {
                return cat.score;
              }),
              backgroundColor: 'rgba(59, 130, 246, 0.1)',
              borderColor: '#3B82F6',
              pointBackgroundColor: '#3B82F6',
              pointBorderColor: '#ffffff',
              pointHoverBackgroundColor: '#ffffff',
              pointHoverBorderColor: '#3B82F6',
              borderWidth: 3,
              pointRadius: 6,
              pointHoverRadius: 8
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: true,
                position: 'top',
                labels: {
                  font: {
                    family: 'Noto Sans TC',
                    size: 14
                  }
                }
              }
            },
            scales: {
              r: {
                beginAtZero: true,
                max: 6,
                ticks: {
                  stepSize: 1,
                  font: {
                    family: 'Noto Sans TC'
                  }
                },
                pointLabels: {
                  font: {
                    family: 'Noto Sans TC',
                    size: 12
                  }
                }
              }
            },
            animation: {
              duration: 1500,
              easing: 'easeInOutQuart'
            }
          }
        });
      }
    }
  }, [results, chartsLoaded]);

  // 繪製長條圖
  useEffect(function () {
    if (barChartRef.current && !chartsLoaded) {
      var ctx = barChartRef.current.getContext('2d');
      var level4Categories = Object.values(results.categoryScores).filter(function (cat) {
        return cat.level === 4;
      }).sort(function (a, b) {
        return b.score - a.score;
      });
      if (level4Categories.length > 0) {
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: level4Categories.map(function (cat) {
              return cat.name;
            }),
            datasets: [{
              label: '平均分數',
              data: level4Categories.map(function (cat) {
                return cat.score;
              }),
              backgroundColor: level4Categories.map(function (_, index) {
                var colors = ['#10B981', '#3B82F6', '#8B5CF6', '#F59E0B', '#EF4444'];
                return colors[index % colors.length] + '80';
              }),
              borderColor: level4Categories.map(function (_, index) {
                var colors = ['#10B981', '#3B82F6', '#8B5CF6', '#F59E0B', '#EF4444'];
                return colors[index % colors.length];
              }),
              borderWidth: 2,
              borderRadius: 8,
              borderSkipped: false
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: true,
                position: 'top',
                labels: {
                  font: {
                    family: 'Noto Sans TC',
                    size: 14
                  }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                max: 6,
                ticks: {
                  font: {
                    family: 'Noto Sans TC'
                  }
                }
              },
              x: {
                ticks: {
                  font: {
                    family: 'Noto Sans TC',
                    size: 10
                  }
                }
              }
            },
            animation: {
              duration: 1500,
              easing: 'easeInOutQuart'
            }
          }
        });
      }
      setChartsLoaded(true);
    }
  }, [results, chartsLoaded]);
  var exportPDF = useCallback(function () {
    try {
      var jsPDF = window.jspdf.jsPDF;
      var doc = new jsPDF();

      // 設定中文字體（如果可用）
      doc.setFont('helvetica');
      doc.text('Spiritual Survey Analysis Report', 20, 20);
      doc.text("Total Score: ".concat(results.totalScore.toFixed(1)), 20, 40);
      doc.text("Average Score: ".concat(results.avgScore.toFixed(2)), 20, 50);
      var y = 70;
      Object.values(results.categoryScores).filter(function (cat) {
        return cat.level === 1;
      }).forEach(function (cat) {
        var interpretation = getScoreInterpretation(cat.score);
        doc.text("".concat(cat.name, ": ").concat(cat.score.toFixed(2), " (").concat(interpretation.level, ")"), 20, y);
        y += 10;
      });
      doc.save('spiritual-survey-analysis.pdf');
    } catch (error) {
      console.error('PDF export failed:', error);
      alert('PDF 匯出失敗，請稍後再試');
    }
  }, [results, getScoreInterpretation]);
  var exportExcel = useCallback(function () {
    try {
      var wb = XLSX.utils.book_new();
      var answersData = version.questions.map(function (q) {
        return {
          題目: q.text,
          分數: response.answers[q.id] || 0
        };
      });
      var ws1 = XLSX.utils.json_to_sheet(answersData);
      XLSX.utils.book_append_sheet(wb, ws1, '原始答案');
      var analysisData = Object.values(results.categoryScores).filter(function (cat) {
        return cat.level === 1;
      }).map(function (cat) {
        return {
          分類: cat.name,
          平均分數: cat.score.toFixed(2),
          等級: getScoreInterpretation(cat.score).level
        };
      });
      var ws2 = XLSX.utils.json_to_sheet(analysisData);
      XLSX.utils.book_append_sheet(wb, ws2, '分析結果');
      XLSX.writeFile(wb, 'spiritual-survey-results.xlsx');
    } catch (error) {
      console.error('Excel export failed:', error);
      alert('Excel 匯出失敗，請稍後再試');
    }
  }, [version.questions, response.answers, results.categoryScores, getScoreInterpretation]);
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl p-6 shadow-sm"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:justify-between sm:items-center mb-8 gap-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-800 mb-2"
  }, "\u5206\u6790\u7D50\u679C"), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600"
  }, "\u60A8\u7684\u9748\u6027\u4FEE\u990A\u554F\u5377\u5B8C\u6574\u5206\u6790\u5831\u544A")), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row gap-3 no-print"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: exportPDF,
    className: "bg-danger text-white px-6 py-3 rounded-xl hover:bg-danger/90 font-medium transition-all duration-200 mobile-button"
  }, /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
  })), "\u532F\u51FAPDF")), /*#__PURE__*/React.createElement("button", {
    onClick: exportExcel,
    className: "bg-secondary text-white px-6 py-3 rounded-xl hover:bg-secondary/90 font-medium transition-all duration-200 mobile-button"
  }, /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
  })), "\u532F\u51FAExcel")))), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-gradient-to-br from-primary/10 to-primary/5 p-6 rounded-xl text-center border border-primary/20"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold text-primary mb-2"
  }, "\u7E3D\u5206"), /*#__PURE__*/React.createElement("p", {
    className: "text-3xl font-bold text-primary"
  }, results.totalScore.toFixed(1)), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-gray-600 mt-1"
  }, "\u6EFF\u5206 ", version.questions.length * 6)), /*#__PURE__*/React.createElement("div", {
    className: "bg-gradient-to-br from-secondary/10 to-secondary/5 p-6 rounded-xl text-center border border-secondary/20"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold text-secondary mb-2"
  }, "\u5E73\u5747\u5206"), /*#__PURE__*/React.createElement("p", {
    className: "text-3xl font-bold text-secondary"
  }, results.avgScore.toFixed(2)), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-gray-600 mt-1"
  }, "\u6EFF\u5206 6.0")), /*#__PURE__*/React.createElement("div", {
    className: "bg-gradient-to-br from-accent/10 to-accent/5 p-6 rounded-xl text-center border border-accent/20"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold text-accent mb-2"
  }, "\u6574\u9AD4\u8A55\u50F9"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold ".concat(getScoreInterpretation(results.avgScore).color)
  }, getScoreInterpretation(results.avgScore).level), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-gray-600 mt-1"
  }, getScoreInterpretation(results.avgScore).description))), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "chart-container"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold mb-4 text-gray-800"
  }, "\u56DB\u5927\u9762\u5411\u96F7\u9054\u5716"), /*#__PURE__*/React.createElement("div", {
    className: "h-80"
  }, /*#__PURE__*/React.createElement("canvas", {
    ref: chartRef
  }))), /*#__PURE__*/React.createElement("div", {
    className: "chart-container"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold mb-4 text-gray-800"
  }, "\u5BE6\u8E10\u9805\u76EE\u5206\u6578"), /*#__PURE__*/React.createElement("div", {
    className: "h-80"
  }, /*#__PURE__*/React.createElement("canvas", {
    ref: barChartRef
  })))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-semibold mb-6 text-gray-800"
  }, "\u8A73\u7D30\u5206\u6790"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, Object.values(results.categoryScores).filter(function (cat) {
    return cat.level === 1;
  }).map(function (cat) {
    var interpretation = getScoreInterpretation(cat.score);
    return /*#__PURE__*/React.createElement("div", {
      key: cat.name,
      className: "flex flex-col sm:flex-row sm:justify-between sm:items-center p-4 bg-gray-50 rounded-xl gap-3 hover:shadow-md transition-all duration-300"
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-semibold text-gray-800"
    }, cat.name), /*#__PURE__*/React.createElement("div", {
      className: "flex items-center gap-3"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-xl font-bold text-gray-800"
    }, cat.score.toFixed(2)), /*#__PURE__*/React.createElement("span", {
      className: "px-3 py-1 rounded-full text-sm font-medium ".concat(interpretation.color, " ").concat(interpretation.bgColor)
    }, interpretation.level)));
  }))));
}

// 問卷頁面
function SurveyPage() {
  var _useContext0 = useContext(AppContext),
    currentVersionId = _useContext0.currentVersionId,
    responses = _useContext0.responses,
    setResponses = _useContext0.setResponses,
    setCurrentPage = _useContext0.setCurrentPage;
  var _useState45 = useState(null),
    _useState46 = _slicedToArray(_useState45, 2),
    currentResponseId = _useState46[0],
    setCurrentResponseId = _useState46[1];
  var handleSurveySubmit = useCallback(function (answers) {
    var responseId = Date.now().toString();
    var response = {
      id: responseId,
      versionId: currentVersionId,
      answers: answers,
      timestamp: new Date().toISOString()
    };
    setResponses(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, responseId, response));
    });
    setCurrentResponseId(responseId);
  }, [currentVersionId, setResponses]);
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-50 p-2 sm:p-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-4xl mx-auto"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl sm:text-3xl font-bold text-gray-800 mb-2"
  }, "\u9748\u6027\u4FEE\u990A\u554F\u5377"), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600"
  }, "\u8ACB\u4ED4\u7D30\u95B1\u8B80\u6BCF\u500B\u984C\u76EE\uFF0C\u4E26\u9078\u64C7\u6700\u7B26\u5408\u60A8\u60C5\u6CC1\u7684\u9078\u9805")), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentPage('editor');
    },
    className: "bg-gray-500 text-white px-6 py-3 rounded-xl hover:bg-gray-600 font-medium transition-all duration-200 mobile-button no-print"
  }, /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 2,
    d: "M10 19l-7-7m0 0l7-7m-7 7h18"
  })), "\u8FD4\u56DE\u7DE8\u8F2F"))), !currentResponseId ? /*#__PURE__*/React.createElement(SurveyForm, {
    versionId: currentVersionId,
    onSubmit: handleSurveySubmit
  }) : /*#__PURE__*/React.createElement(ResultAnalysis, {
    responseId: currentResponseId
  })));
}

// 主應用程式
function App() {
  var _useContext1 = useContext(AppContext),
    currentPage = _useContext1.currentPage,
    isLoading = _useContext1.isLoading;
  if (isLoading) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen bg-gray-50 flex items-center justify-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-center"
    }, /*#__PURE__*/React.createElement(LoadingSpinner, {
      size: "lg"
    }), /*#__PURE__*/React.createElement("p", {
      className: "mt-4 text-gray-600"
    }, "\u8F09\u5165\u4E2D...")));
  }
  return /*#__PURE__*/React.createElement("div", null, currentPage === 'editor' && /*#__PURE__*/React.createElement(EditorPage, null), currentPage === 'survey' && /*#__PURE__*/React.createElement(SurveyPage, null));
}

// 渲染應用程式
ReactDOM.render(/*#__PURE__*/React.createElement(AppProvider, null, /*#__PURE__*/React.createElement(App, null)), document.getElementById('root'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlIiwidCIsInIiLCJTeW1ib2wiLCJuIiwiaXRlcmF0b3IiLCJvIiwidG9TdHJpbmdUYWciLCJpIiwiYyIsInByb3RvdHlwZSIsIkdlbmVyYXRvciIsInUiLCJPYmplY3QiLCJjcmVhdGUiLCJfcmVnZW5lcmF0b3JEZWZpbmUyIiwiZiIsInAiLCJ5IiwiRyIsInYiLCJhIiwiZCIsImJpbmQiLCJsZW5ndGgiLCJsIiwiVHlwZUVycm9yIiwiY2FsbCIsImRvbmUiLCJ2YWx1ZSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGlzcGxheU5hbWUiLCJfcmVnZW5lcmF0b3IiLCJ3IiwibSIsImRlZmluZVByb3BlcnR5IiwiX3JlZ2VuZXJhdG9yRGVmaW5lIiwiX2ludm9rZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbmV4dCIsIl90aHJvdyIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwicHVzaCIsIl9vYmplY3RTcHJlYWQiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfdG9Qcm9wZXJ0eUtleSIsIl90b1ByaW1pdGl2ZSIsIl90eXBlb2YiLCJ0b1ByaW1pdGl2ZSIsIlN0cmluZyIsIk51bWJlciIsIl90b0NvbnN1bWFibGVBcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJBcnJheSIsImZyb20iLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfc2xpY2VkVG9BcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsIm5leHQiLCJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJBcHBDb250ZXh0IiwiaW5pdGlhbENhdGVnb3JpZXMiLCJpZCIsImxldmVsIiwicGFyZW50SWQiLCJvcmRlciIsImluaXRpYWxRdWVzdGlvbnMiLCJ0ZXh0IiwiY2F0ZWdvcnlJZCIsImlzUmVsaWdpb3VzT25seSIsIkFwcFByb3ZpZGVyIiwiX3JlZiIsImNoaWxkcmVuIiwiX3VzZVN0YXRlIiwiX3VzZVN0YXRlMiIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsImN1cnJlbnRWZXJzaW9uSWQiLCJzZXRDdXJyZW50VmVyc2lvbklkIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJjYXRlZ29yaWVzIiwic2V0Q2F0ZWdvcmllcyIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4IiwicXVlc3Rpb25zIiwic2V0UXVlc3Rpb25zIiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJ2ZXJzaW9ucyIsInNldFZlcnNpb25zIiwiX3VzZVN0YXRlMSIsIl91c2VTdGF0ZTEwIiwicmVzcG9uc2VzIiwic2V0UmVzcG9uc2VzIiwiX3VzZVN0YXRlMTEiLCJfdXNlU3RhdGUxMiIsImVkaXRpbmdRdWVzdGlvbiIsInNldEVkaXRpbmdRdWVzdGlvbiIsIl91c2VTdGF0ZTEzIiwiX3VzZVN0YXRlMTQiLCJlZGl0aW5nQ2F0ZWdvcnkiLCJzZXRFZGl0aW5nQ2F0ZWdvcnkiLCJfdXNlU3RhdGUxNSIsIl91c2VTdGF0ZTE2Iiwic2F2ZVN0YXR1cyIsInNldFNhdmVTdGF0dXMiLCJfdXNlU3RhdGUxNyIsIlNldCIsIl91c2VTdGF0ZTE4Iiwic2VsZWN0ZWRRdWVzdGlvbnMiLCJzZXRTZWxlY3RlZFF1ZXN0aW9ucyIsIl91c2VTdGF0ZTE5IiwiX3VzZVN0YXRlMjAiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwiX3VzZVN0YXRlMjEiLCJfdXNlU3RhdGUyMiIsImZpbHRlckNhdGVnb3J5Iiwic2V0RmlsdGVyQ2F0ZWdvcnkiLCJfdXNlU3RhdGUyMyIsIl91c2VTdGF0ZTI0IiwiZmlsdGVyUmVsaWdpb3VzIiwic2V0RmlsdGVyUmVsaWdpb3VzIiwiX3VzZVN0YXRlMjUiLCJfdXNlU3RhdGUyNiIsImRyYXdlck9wZW4iLCJzZXREcmF3ZXJPcGVuIiwiX3VzZVN0YXRlMjciLCJfdXNlU3RhdGUyOCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInNhdmVkQ2F0ZWdvcmllcyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzYXZlZFF1ZXN0aW9ucyIsInNhdmVkVmVyc2lvbnMiLCJzYXZlZFJlc3BvbnNlcyIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJlcnJvciIsInNldFRpbWVvdXQiLCJzYXZlRGF0YSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ0aW1lb3V0SWQiLCJjbGVhclRpbWVvdXQiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJMb2FkaW5nU3Bpbm5lciIsIl9yZWYyIiwiX3JlZjIkc2l6ZSIsInNpemUiLCJzaXplQ2xhc3NlcyIsInNtIiwibWQiLCJsZyIsImNsYXNzTmFtZSIsImNvbmNhdCIsInVzZVF1ZXN0aW9uRmlsdGVyIiwiX3VzZUNvbnRleHQiLCJmaWx0ZXJlZCIsInRyaW0iLCJxdWVyeSIsInRvTG93ZXJDYXNlIiwicSIsImluY2x1ZGVzIiwicGFyc2VJbnQiLCJnZXRBbGxEZXNjZW5kYW50SWRzIiwiY2F0SWQiLCJkZXNjZW5kYW50cyIsImNoaWxkIiwidGFyZ2V0Q2F0ZWdvcnlJZHMiLCJpc1JlbGlnaW91cyIsInNvcnQiLCJiIiwiQ2F0ZWdvcnlUcmVlIiwiX3JlZjMiLCJvblNlbGVjdENhdGVnb3J5Iiwic2VsZWN0ZWRDYXRlZ29yeUlkIiwiX3JlZjMkaXNEcmF3ZXIiLCJpc0RyYXdlciIsIl91c2VDb250ZXh0MiIsIl91c2VTdGF0ZTI5IiwiX3VzZVN0YXRlMzAiLCJleHBhbmRlZE5vZGVzIiwic2V0RXhwYW5kZWROb2RlcyIsInRvZ2dsZUV4cGFuZCIsInByZXYiLCJuZXdFeHBhbmRlZCIsImhhcyIsImFkZCIsImdldENhdGVnb3J5Q2hpbGRyZW4iLCJjYXQiLCJnZXRDYXRlZ29yeVF1ZXN0aW9uQ291bnQiLCJhbGxDYXRlZ29yeUlkcyIsImFkZFN1YkNhdGVnb3J5IiwibmV3SWQiLCJNYXRoIiwibWF4IiwibWFwIiwicGFyZW50Q2F0ZWdvcnkiLCJmaW5kIiwic2libGluZ3MiLCJtYXhPcmRlciIsIm5ld0NhdGVnb3J5IiwiZGVsZXRlQ2F0ZWdvcnkiLCJkZXNjZW5kYW50SWRzIiwiYWxsSWRzVG9EZWxldGUiLCJyZWxhdGVkUXVlc3Rpb25zIiwiY29uZmlybU1lc3NhZ2UiLCJ3aW5kb3ciLCJjb25maXJtIiwidXBkYXRlQ2F0ZWdvcnlOYW1lIiwibmV3TmFtZSIsInJlbmRlckNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJkZXB0aCIsInVuZGVmaW5lZCIsImlzRXhwYW5kZWQiLCJoYXNDaGlsZHJlbiIsImNhbkVkaXQiLCJjYW5BZGRDaGlsZCIsInF1ZXN0aW9uQ291bnQiLCJrZXkiLCJzdHlsZSIsInBhZGRpbmdMZWZ0Iiwib25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94Iiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkZWZhdWx0VmFsdWUiLCJyb3dzIiwiYXV0b0ZvY3VzIiwib25CbHVyIiwidGFyZ2V0Iiwib25LZXlQcmVzcyIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJwbGFjZWhvbGRlciIsIkZyYWdtZW50Iiwicm9vdENhdGVnb3JpZXMiLCJjb250ZW50IiwiU2VhcmNoQW5kRmlsdGVyIiwiX3VzZUNvbnRleHQzIiwiZ2V0Q2F0ZWdvcnlPcHRpb25zIiwicHJlZml4Iiwib3B0aW9ucyIsImxhYmVsIiwiY2F0ZWdvcnlPcHRpb25zIiwidHlwZSIsIm9uQ2hhbmdlIiwib3B0aW9uIiwiQmF0Y2hBY3Rpb25zIiwiX3VzZUNvbnRleHQ0IiwiaGFuZGxlU2VsZWN0QWxsIiwiaGFuZGxlQmF0Y2hEZWxldGUiLCJoYW5kbGVCYXRjaFRvZ2dsZVJlbGlnaW91cyIsIlF1ZXN0aW9uTWFuYWdlciIsIl91c2VDb250ZXh0NSIsIl91c2VTdGF0ZTMxIiwiX3VzZVN0YXRlMzIiLCJzZXRTZWxlY3RlZENhdGVnb3J5SWQiLCJfdXNlU3RhdGUzMyIsIl91c2VTdGF0ZTM0Iiwic2hvd0FsbFF1ZXN0aW9ucyIsInNldFNob3dBbGxRdWVzdGlvbnMiLCJfdXNlU3RhdGUzNSIsIl91c2VTdGF0ZTM2IiwiZHJhZ2dlZEl0ZW0iLCJzZXREcmFnZ2VkSXRlbSIsImZpbHRlcmVkUXVlc3Rpb25zIiwiZ2V0Q2F0ZWdvcnlQYXRoIiwicGF0aCIsImN1cnJlbnQiLCJ1bnNoaWZ0Iiwiam9pbiIsImFkZFF1ZXN0aW9uIiwiX2NhdGVnb3JpZXMkIiwiYWxlcnQiLCJuZXdRdWVzdGlvbiIsInVwZGF0ZVF1ZXN0aW9uIiwicXVlc3Rpb25JZCIsInVwZGF0ZXMiLCJkZWxldGVRdWVzdGlvbiIsInRvZ2dsZVF1ZXN0aW9uU2VsZWN0aW9uIiwibmV3U2VsZWN0ZWQiLCJoYW5kbGVEcmFnU3RhcnQiLCJxdWVzdGlvbiIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJoYW5kbGVEcmFnT3ZlciIsImRyb3BFZmZlY3QiLCJoYW5kbGVEcm9wIiwidGFyZ2V0UXVlc3Rpb24iLCJuZXdRdWVzdGlvbnMiLCJkcmFnZ2VkSW5kZXgiLCJmaW5kSW5kZXgiLCJ0YXJnZXRJbmRleCIsInNwbGljZSIsImluZGV4IiwiaGlnaGxpZ2h0U2VhcmNoVGV4dCIsInJlZ2V4IiwiUmVnRXhwIiwicmVwbGFjZSIsInBhcnRzIiwic3BsaXQiLCJwYXJ0IiwiZGlzcGxheVF1ZXN0aW9ucyIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnT3ZlciIsIm9uRHJvcCIsImRlZmF1bHRDaGVja2VkIiwiY2hlY2tlZCIsIlN1cnZleVByZXZpZXciLCJfdXNlQ29udGV4dDYiLCJfdXNlU3RhdGUzNyIsIl91c2VTdGF0ZTM4IiwicmFuZG9taXplZCIsInNldFJhbmRvbWl6ZWQiLCJnZXRTY29yZUxhYmVsIiwic2NvcmUiLCJsYWJlbHMiLCJzb3J0ZWRRdWVzdGlvbnMiLCJyYW5kb20iLCJ0b2dnbGVSYW5kb21pemUiLCJkaXNhYmxlZCIsIkVkaXRvclBhZ2UiLCJfdXNlQ29udGV4dDciLCJnZW5lcmF0ZVN1cnZleSIsInZlcnNpb25JZCIsIkRhdGUiLCJub3ciLCJ2ZXJzaW9uIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJTdXJ2ZXlGb3JtIiwiX3JlZjQiLCJvblN1Ym1pdCIsIl91c2VDb250ZXh0OCIsIl91c2VTdGF0ZTM5IiwiX3VzZVN0YXRlNDAiLCJhbnN3ZXJzIiwic2V0QW5zd2VycyIsIl91c2VTdGF0ZTQxIiwiX3VzZVN0YXRlNDIiLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJoYW5kbGVBbnN3ZXJDaGFuZ2UiLCJoYW5kbGVTdWJtaXQiLCJfcmVmNSIsIl9jYWxsZWUiLCJ1bmFuc3dlcmVkIiwiX2NvbnRleHQiLCJfeCIsInByb2dyZXNzIiwid2lkdGgiLCJ0b0ZpeGVkIiwiUmVzdWx0QW5hbHlzaXMiLCJfcmVmNiIsInJlc3BvbnNlSWQiLCJfdXNlQ29udGV4dDkiLCJjaGFydFJlZiIsImJhckNoYXJ0UmVmIiwiX3VzZVN0YXRlNDMiLCJfdXNlU3RhdGU0NCIsImNoYXJ0c0xvYWRlZCIsInNldENoYXJ0c0xvYWRlZCIsInJlc3BvbnNlIiwiY2FsY3VsYXRlUmVzdWx0cyIsInRvdGFsU2NvcmUiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJzdW0iLCJhdmdTY29yZSIsImNhdGVnb3J5U2NvcmVzIiwiY2F0ZWdvcnlRdWVzdGlvbnMiLCJjYXRlZ29yeVRvdGFsIiwicmVzdWx0cyIsImdldFNjb3JlSW50ZXJwcmV0YXRpb24iLCJjb2xvciIsImJnQ29sb3IiLCJkZXNjcmlwdGlvbiIsImN0eCIsImdldENvbnRleHQiLCJsZXZlbDFDYXRlZ29yaWVzIiwiQ2hhcnQiLCJkYXRhIiwiZGF0YXNldHMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsInBvaW50QmFja2dyb3VuZENvbG9yIiwicG9pbnRCb3JkZXJDb2xvciIsInBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IiLCJwb2ludEhvdmVyQm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsInBvaW50UmFkaXVzIiwicG9pbnRIb3ZlclJhZGl1cyIsInJlc3BvbnNpdmUiLCJtYWludGFpbkFzcGVjdFJhdGlvIiwicGx1Z2lucyIsImxlZ2VuZCIsImRpc3BsYXkiLCJwb3NpdGlvbiIsImZvbnQiLCJmYW1pbHkiLCJzY2FsZXMiLCJiZWdpbkF0WmVybyIsInRpY2tzIiwic3RlcFNpemUiLCJwb2ludExhYmVscyIsImFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZWFzaW5nIiwibGV2ZWw0Q2F0ZWdvcmllcyIsIl8iLCJjb2xvcnMiLCJib3JkZXJSYWRpdXMiLCJib3JkZXJTa2lwcGVkIiwieCIsImV4cG9ydFBERiIsImpzUERGIiwianNwZGYiLCJkb2MiLCJzZXRGb250IiwiaW50ZXJwcmV0YXRpb24iLCJzYXZlIiwiZXhwb3J0RXhjZWwiLCJ3YiIsIlhMU1giLCJ1dGlscyIsImJvb2tfbmV3IiwiYW5zd2Vyc0RhdGEiLCLpoYznm64iLCLliIbmlbgiLCJ3czEiLCJqc29uX3RvX3NoZWV0IiwiYm9va19hcHBlbmRfc2hlZXQiLCJhbmFseXNpc0RhdGEiLCLliIbpoZ4iLCLlubPlnYfliIbmlbgiLCLnrYnntJoiLCJ3czIiLCJ3cml0ZUZpbGUiLCJyZWYiLCJTdXJ2ZXlQYWdlIiwiX3VzZUNvbnRleHQwIiwiX3VzZVN0YXRlNDUiLCJfdXNlU3RhdGU0NiIsImN1cnJlbnRSZXNwb25zZUlkIiwic2V0Q3VycmVudFJlc3BvbnNlSWQiLCJoYW5kbGVTdXJ2ZXlTdWJtaXQiLCJBcHAiLCJfdXNlQ29udGV4dDEiLCJSZWFjdERPTSIsInJlbmRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwic291cmNlcyI6WyJJbmxpbmUgQmFiZWwgc2NyaXB0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICBjb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSA9IFJlYWN0O1xuXG4gICAgICAgIC8vIOWFqOWfn+eLgOaFi+euoeeQhlxuICAgICAgICBjb25zdCBBcHBDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG4gICAgICAgIC8vIOWIneWni+WIhumhnuizh+aWmVxuICAgICAgICBjb25zdCBpbml0aWFsQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgICAgIC8vIOesrOS4gOWxpO+8muWbm+Wkp+S4u+WIhumhnlxuICAgICAgICAgICAgeyBpZDogMSwgbmFtZTogJ+mdiOaAp+S/rumkiuS4g+mdouWQkScsIGxldmVsOiAxLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDEgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIsIG5hbWU6ICfpnYjmgKflgaXlurfljYHmoLjlv4PmjIfmqJknLCBsZXZlbDogMSwgcGFyZW50SWQ6IG51bGwsIG9yZGVyOiAyIH0sXG4gICAgICAgICAgICB7IGlkOiAzLCBuYW1lOiAn6Z2I5L+u5LiD5Y6f5YmHJywgbGV2ZWw6IDEsIHBhcmVudElkOiBudWxsLCBvcmRlcjogMyB9LFxuICAgICAgICAgICAgeyBpZDogNCwgbmFtZTogJ+aXpeW4uOmdiOS/ruWvpui4kCcsIGxldmVsOiAxLCBwYXJlbnRJZDogbnVsbCwgb3JkZXI6IDQgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g56ys5LqM5bGk77ya6Z2I5oCn5L+u6aSK5LiD6Z2i5ZCRXG4gICAgICAgICAgICB7IGlkOiAxMSwgbmFtZTogJ+i1t+W/g+WLleW/tScsIGxldmVsOiAyLCBwYXJlbnRJZDogMSwgb3JkZXI6IDEgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEyLCBuYW1lOiAn5b6M6Kit5oCd6ICDJywgbGV2ZWw6IDIsIHBhcmVudElkOiAxLCBvcmRlcjogMiB9LFxuICAgICAgICAgICAgeyBpZDogMTMsIG5hbWU6ICfmhI/nvqnov73lsIsnLCBsZXZlbDogMiwgcGFyZW50SWQ6IDEsIG9yZGVyOiAzIH0sXG4gICAgICAgICAgICB7IGlkOiAxNCwgbmFtZTogJ+S6uumam+mdiOS/ricsIGxldmVsOiAyLCBwYXJlbnRJZDogMSwgb3JkZXI6IDQgfSxcbiAgICAgICAgICAgIHsgaWQ6IDE1LCBuYW1lOiAn54mp6LOq6IiH55Kw5aKDJywgbGV2ZWw6IDIsIHBhcmVudElkOiAxLCBvcmRlcjogNSB9LFxuICAgICAgICAgICAgeyBpZDogMTYsIG5hbWU6ICfoiIfotoXotorogIXnmoTpgKPntZAnLCBsZXZlbDogMiwgcGFyZW50SWQ6IDEsIG9yZGVyOiA2IH0sXG4gICAgICAgICAgICB7IGlkOiAxNywgbmFtZTogJ+eUn+a0u+W9ouaFi+iIh+WFqOS6uuWBpeW6tycsIGxldmVsOiAyLCBwYXJlbnRJZDogMSwgb3JkZXI6IDcgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g56ys5LqM5bGk77ya6Z2I5oCn5YGl5bq35Y2B5qC45b+D5oyH5qiZXG4gICAgICAgICAgICB7IGlkOiAyMSwgbmFtZTogJ+S6uuagvOe1seaVtCcsIGxldmVsOiAyLCBwYXJlbnRJZDogMiwgb3JkZXI6IDEgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIyLCBuYW1lOiAn6L+95rGC55yf55CG55qE5b6M6Kit5Y+N5oCdJywgbGV2ZWw6IDIsIHBhcmVudElkOiAyLCBvcmRlcjogMiB9LFxuICAgICAgICAgICAgeyBpZDogMjMsIG5hbWU6ICfmhI/nvqnoiIfnm67nmoQnLCBsZXZlbDogMiwgcGFyZW50SWQ6IDIsIG9yZGVyOiAzIH0sXG4gICAgICAgICAgICB7IGlkOiAyNCwgbmFtZTogJ+aEm+iIh+WQjOeQhicsIGxldmVsOiAyLCBwYXJlbnRJZDogMiwgb3JkZXI6IDQgfSxcbiAgICAgICAgICAgIHsgaWQ6IDI1LCBuYW1lOiAn5a+s5oGV6IiH5ZKM6KejJywgbGV2ZWw6IDIsIHBhcmVudElkOiAyLCBvcmRlcjogNSB9LFxuICAgICAgICAgICAgeyBpZDogMjYsIG5hbWU6ICfmhJ/mganoiIfllpzmqIInLCBsZXZlbDogMiwgcGFyZW50SWQ6IDIsIG9yZGVyOiA2IH0sXG4gICAgICAgICAgICB7IGlkOiAyNywgbmFtZTogJ+iyoeeJqeWAq+eQhuiIh+mdiOS/ricsIGxldmVsOiAyLCBwYXJlbnRJZDogMiwgb3JkZXI6IDcgfSxcbiAgICAgICAgICAgIHsgaWQ6IDI4LCBuYW1lOiAn5pWs55WP6IiH6YCj57WQJywgbGV2ZWw6IDIsIHBhcmVudElkOiAyLCBvcmRlcjogOCB9LFxuICAgICAgICAgICAgeyBpZDogMjksIG5hbWU6ICfkv6Hku7DoiIfpgKPntZDvvIjlrpfmlZnmgKfvvIknLCBsZXZlbDogMiwgcGFyZW50SWQ6IDIsIG9yZGVyOiA5IH0sXG4gICAgICAgICAgICB7IGlkOiAzMCwgbmFtZTogJ+Wul+aVmeS/oeS7sOiIh+mdiOaAp+S/rumkiu+8iOWul+aVmeaAp++8iScsIGxldmVsOiAyLCBwYXJlbnRJZDogMiwgb3JkZXI6IDEwIH0sXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOesrOS6jOWxpO+8mumdiOS/ruS4g+WOn+WJh1xuICAgICAgICAgICAgeyBpZDogMzEsIG5hbWU6ICfljp/liYfkuIDvvJrlnKjmr4/kuIDlgIvkurrouqvkuIrnnIvopovnpZ7jgIHnnIvopovkvZvjgIHnnIvopovkuronLCBsZXZlbDogMiwgcGFyZW50SWQ6IDMsIG9yZGVyOiAxIH0sXG4gICAgICAgICAgICB7IGlkOiAzMiwgbmFtZTogJ+WOn+WJh+S6jO+8muesrOS4gOWAi+WOu+aEm+OAgeesrOS4gOWAi+WOu+e1picsIGxldmVsOiAyLCBwYXJlbnRJZDogMywgb3JkZXI6IDIgfSxcbiAgICAgICAgICAgIHsgaWQ6IDMzLCBuYW1lOiAn5Y6f5YmH5LiJ77ya57Wm5Lq65L+h5b+D44CB57Wm5Lq65biM5pyb44CB57Wm5Lq65q2h5Zac44CB57Wm5Lq65pa55L6/JywgbGV2ZWw6IDIsIHBhcmVudElkOiAzLCBvcmRlcjogMyB9LFxuICAgICAgICAgICAgeyBpZDogMzQsIG5hbWU6ICfljp/liYflm5vvvJrnt6nmlrznmbzmgJLjgIHmlY/mlrzlr6zmgZXjgIHli4fmlrzpgZPmrYnjgIHmmYLmmYLmhJ/mgaknLCBsZXZlbDogMiwgcGFyZW50SWQ6IDMsIG9yZGVyOiA0IH0sXG4gICAgICAgICAgICB7IGlkOiAzNSwgbmFtZTogJ+WOn+WJh+S6lO+8mumAo+e1kOelnuiBluOAgei/veaxguaEj+e+qeOAgeaTh+WWhOWbuuWft+OAgeS4jeiuiumaqOe3oycsIGxldmVsOiAyLCBwYXJlbnRJZDogMywgb3JkZXI6IDUgfSxcbiAgICAgICAgICAgIHsgaWQ6IDM2LCBuYW1lOiAn5Y6f5YmH5YWt77ya5b2554mp5LiN5b255pa854mp77yM5oOc54mp5Y6a55Sf5r+f5LiWJywgbGV2ZWw6IDIsIHBhcmVudElkOiAzLCBvcmRlcjogNiB9LFxuICAgICAgICAgICAgeyBpZDogMzcsIG5hbWU6ICfljp/liYfkuIPvvJroqqDmhI/mraPlv4PjgIHmiJLmhY7mgZDmh7zjgIHlvozoqK3lj43mgJ3jgIHplovmlL7lhazmraMnLCBsZXZlbDogMiwgcGFyZW50SWQ6IDMsIG9yZGVyOiA3IH0sXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOesrOS4ieWxpOWSjOesrOWbm+WxpOekuuS+i1xuICAgICAgICAgICAgeyBpZDogMTExLCBuYW1lOiAn5q2j5b+16Ka65a+fJywgbGV2ZWw6IDMsIHBhcmVudElkOiAxMSwgb3JkZXI6IDEgfSxcbiAgICAgICAgICAgIHsgaWQ6IDExMiwgbmFtZTogJ+aDhee3kuiqv+evgCcsIGxldmVsOiAzLCBwYXJlbnRJZDogMTEsIG9yZGVyOiAyIH0sXG4gICAgICAgICAgICB7IGlkOiAxMTExLCBuYW1lOiAn5ZG85ZC46Ka65a+f57e057+SJywgbGV2ZWw6IDQsIHBhcmVudElkOiAxMTEsIG9yZGVyOiAxIH0sXG4gICAgICAgICAgICB7IGlkOiAxMTEyLCBuYW1lOiAn6Lqr6auU5o6D5o+PJywgbGV2ZWw6IDQsIHBhcmVudElkOiAxMTEsIG9yZGVyOiAyIH0sXG4gICAgICAgICAgICB7IGlkOiAxMTIxLCBuYW1lOiAn5oOF57eS6K2Y5Yil5oqA5benJywgbGV2ZWw6IDQsIHBhcmVudElkOiAxMTIsIG9yZGVyOiAxIH0sXG4gICAgICAgICAgICB7IGlkOiAxMTIyLCBuYW1lOiAn5oOF57eS6L2J5YyW5pa55rOVJywgbGV2ZWw6IDQsIHBhcmVudElkOiAxMTIsIG9yZGVyOiAyIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8g5Yid5aeL6aGM55uu6LOH5paZXG4gICAgICAgIGNvbnN0IGluaXRpYWxRdWVzdGlvbnMgPSBbXG4gICAgICAgICAgICB7IGlkOiAxLCB0ZXh0OiAn5oiR6IO96Ka65a+f6Ieq5bex55qE6LW35b+D5YuV5b+1JywgY2F0ZWdvcnlJZDogMTExMSwgaXNSZWxpZ2lvdXNPbmx5OiBmYWxzZSwgb3JkZXI6IDEgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIsIHRleHQ6ICfmiJHmnIPlrprmnJ/pgLLooYzlkbzlkLjoprrlr5/nt7Tnv5InLCBjYXRlZ29yeUlkOiAxMTExLCBpc1JlbGlnaW91c09ubHk6IGZhbHNlLCBvcmRlcjogMiB9LFxuICAgICAgICAgICAgeyBpZDogMywgdGV4dDogJ+aIkeiDvemAj+mBjui6q+mrlOaOg+aPj+S6huino+WFp+WcqOeLgOaFiycsIGNhdGVnb3J5SWQ6IDExMTIsIGlzUmVsaWdpb3VzT25seTogZmFsc2UsIG9yZGVyOiAzIH0sXG4gICAgICAgICAgICB7IGlkOiA0LCB0ZXh0OiAn5oiR6IO95rqW56K66K2Y5Yil6Ieq5bex55qE5oOF57eS54uA5oWLJywgY2F0ZWdvcnlJZDogMTEyMSwgaXNSZWxpZ2lvdXNPbmx5OiBmYWxzZSwgb3JkZXI6IDQgfSxcbiAgICAgICAgICAgIHsgaWQ6IDUsIHRleHQ6ICfmiJHlhbflgpnlsIfosqDpnaLmg4Xnt5LovYnljJbngrrmraPpnaLog73ph4/nmoTog73lipsnLCBjYXRlZ29yeUlkOiAxMTIyLCBpc1JlbGlnaW91c09ubHk6IGZhbHNlLCBvcmRlcjogNSB9LFxuICAgICAgICAgICAgeyBpZDogNiwgdGV4dDogJ+aIkeacg+WPjeaAneiHquW3seeahOaAneiAg+aooeW8jycsIGNhdGVnb3J5SWQ6IDExMiwgaXNSZWxpZ2lvdXNPbmx5OiBmYWxzZSwgb3JkZXI6IDYgfSxcbiAgICAgICAgICAgIHsgaWQ6IDcsIHRleHQ6ICfmiJHog73lnKjkurrpmpvpl5zkv4LkuK3lr6bouJDmhJvoiIfntabkuognLCBjYXRlZ29yeUlkOiAzMiwgaXNSZWxpZ2lvdXNPbmx5OiBmYWxzZSwgb3JkZXI6IDcgfSxcbiAgICAgICAgICAgIHsgaWQ6IDgsIHRleHQ6ICfmiJHmnIPlrprmnJ/pgLLooYzlrpfmlZnlhIDlvI8nLCBjYXRlZ29yeUlkOiAyOSwgaXNSZWxpZ2lvdXNPbmx5OiB0cnVlLCBvcmRlcjogOCB9LFxuICAgICAgICAgICAgeyBpZDogOSwgdGV4dDogJ+aIkeiDveWcqOWbsOmbo+aZguS/neaMgeaEn+aBqeeahOW/gycsIGNhdGVnb3J5SWQ6IDI2LCBpc1JlbGlnaW91c09ubHk6IGZhbHNlLCBvcmRlcjogOSB9LFxuICAgICAgICAgICAgeyBpZDogMTAsIHRleHQ6ICfmiJHmnIPkuLvli5Xlr6zmgZXlgrflrrPmiJHnmoTkuronLCBjYXRlZ29yeUlkOiAyNSwgaXNSZWxpZ2lvdXNPbmx5OiBmYWxzZSwgb3JkZXI6IDEwIH0sXG4gICAgICAgICAgICB7IGlkOiAxMSwgdGV4dDogJ+aIkeiDveWcqOaXpeW4uOeUn+a0u+S4reaEn+WPl+WIsOelnuiBlueahOWtmOWcqCcsIGNhdGVnb3J5SWQ6IDI4LCBpc1JlbGlnaW91c09ubHk6IGZhbHNlLCBvcmRlcjogMTEgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEyLCB0ZXh0OiAn5oiR5pyD6YCP6YGO56WI56ax5oiW5Yal5oOz6IiH6LaF6LaK6ICF6YCj57WQJywgY2F0ZWdvcnlJZDogMTYsIGlzUmVsaWdpb3VzT25seTogdHJ1ZSwgb3JkZXI6IDEyIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8g5oeJ55So56iL5byP54uA5oWL5o+Q5L6b6ICFXG4gICAgICAgIGZ1bmN0aW9uIEFwcFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgICAgICAgICAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgnZWRpdG9yJyk7XG4gICAgICAgICAgICBjb25zdCBbY3VycmVudFZlcnNpb25JZCwgc2V0Q3VycmVudFZlcnNpb25JZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlKGluaXRpYWxDYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IFtxdWVzdGlvbnMsIHNldFF1ZXN0aW9uc10gPSB1c2VTdGF0ZShpbml0aWFsUXVlc3Rpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IFt2ZXJzaW9ucywgc2V0VmVyc2lvbnNdID0gdXNlU3RhdGUoe30pO1xuICAgICAgICAgICAgY29uc3QgW3Jlc3BvbnNlcywgc2V0UmVzcG9uc2VzXSA9IHVzZVN0YXRlKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IFtlZGl0aW5nUXVlc3Rpb24sIHNldEVkaXRpbmdRdWVzdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtlZGl0aW5nQ2F0ZWdvcnksIHNldEVkaXRpbmdDYXRlZ29yeV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtzYXZlU3RhdHVzLCBzZXRTYXZlU3RhdHVzXSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtzZWxlY3RlZFF1ZXN0aW9ucywgc2V0U2VsZWN0ZWRRdWVzdGlvbnNdID0gdXNlU3RhdGUobmV3IFNldCgpKTtcbiAgICAgICAgICAgIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2ZpbHRlckNhdGVnb3J5LCBzZXRGaWx0ZXJDYXRlZ29yeV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbZmlsdGVyUmVsaWdpb3VzLCBzZXRGaWx0ZXJSZWxpZ2lvdXNdID0gdXNlU3RhdGUoJ2FsbCcpO1xuICAgICAgICAgICAgY29uc3QgW2RyYXdlck9wZW4sIHNldERyYXdlck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICAgICAgLy8g5b6eIGxvY2FsU3RvcmFnZSDovInlhaXos4fmlplcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQ2F0ZWdvcmllcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzcGlyaXR1YWxfY2F0ZWdvcmllc192MycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYXZlZFF1ZXN0aW9ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzcGlyaXR1YWxfcXVlc3Rpb25zX3YzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkVmVyc2lvbnMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3Bpcml0dWFsX3ZlcnNpb25zX3YzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkUmVzcG9uc2VzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NwaXJpdHVhbF9yZXNwb25zZXNfdjMnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWRDYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXRlZ29yaWVzKEpTT04ucGFyc2Uoc2F2ZWRDYXRlZ29yaWVzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVkUXVlc3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRRdWVzdGlvbnMoSlNPTi5wYXJzZShzYXZlZFF1ZXN0aW9ucykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZFZlcnNpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWZXJzaW9ucyhKU09OLnBhcnNlKHNhdmVkVmVyc2lvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWRSZXNwb25zZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlcyhKU09OLnBhcnNlKHNhdmVkUmVzcG9uc2VzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+i8ieWFpeizh+aWmeWkseaVlzonLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2F2ZVN0YXR1cygn6LyJ5YWl6LOH5paZ5aSx5pWX77yM5L2/55So6aCQ6Kit6LOH5paZJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2ZVN0YXR1cygnJyksIDMwMDApO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICAvLyDmiYvli5XlhLLlrZjlip/og71cbiAgICAgICAgICAgIGNvbnN0IHNhdmVEYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3Bpcml0dWFsX2NhdGVnb3JpZXNfdjMnLCBKU09OLnN0cmluZ2lmeShjYXRlZ29yaWVzKSk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGlyaXR1YWxfcXVlc3Rpb25zX3YzJywgSlNPTi5zdHJpbmdpZnkocXVlc3Rpb25zKSk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGlyaXR1YWxfdmVyc2lvbnNfdjMnLCBKU09OLnN0cmluZ2lmeSh2ZXJzaW9ucykpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3Bpcml0dWFsX3Jlc3BvbnNlc192MycsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlcykpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0U2F2ZVN0YXR1cygn5YSy5a2Y5oiQ5Yqf77yBJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2ZVN0YXR1cygnJyksIDMwMDApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5YSy5a2Y5aSx5pWXOicsIGUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZlU3RhdHVzKCflhLLlrZjlpLHmlZfvvIHoq4vmqqLmn6XngI/opr3lmajlhLLlrZjnqbrplpMnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTYXZlU3RhdHVzKCcnKSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBbY2F0ZWdvcmllcywgcXVlc3Rpb25zLCB2ZXJzaW9ucywgcmVzcG9uc2VzXSk7XG5cbiAgICAgICAgICAgIC8vIOiHquWLleWEsuWtmFxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGlyaXR1YWxfY2F0ZWdvcmllc192MycsIEpTT04uc3RyaW5naWZ5KGNhdGVnb3JpZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGlyaXR1YWxfcXVlc3Rpb25zX3YzJywgSlNPTi5zdHJpbmdpZnkocXVlc3Rpb25zKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3Bpcml0dWFsX3ZlcnNpb25zX3YzJywgSlNPTi5zdHJpbmdpZnkodmVyc2lvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGlyaXR1YWxfcmVzcG9uc2VzX3YzJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iHquWLleWEsuWtmOWkseaVlzonLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgfSwgW2NhdGVnb3JpZXMsIHF1ZXN0aW9ucywgdmVyc2lvbnMsIHJlc3BvbnNlc10pO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgY3VycmVudFZlcnNpb25JZCwgc2V0Q3VycmVudFZlcnNpb25JZCxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9ucywgc2V0UXVlc3Rpb25zLFxuICAgICAgICAgICAgICAgIHZlcnNpb25zLCBzZXRWZXJzaW9ucyxcbiAgICAgICAgICAgICAgICByZXNwb25zZXMsIHNldFJlc3BvbnNlcyxcbiAgICAgICAgICAgICAgICBlZGl0aW5nUXVlc3Rpb24sIHNldEVkaXRpbmdRdWVzdGlvbixcbiAgICAgICAgICAgICAgICBlZGl0aW5nQ2F0ZWdvcnksIHNldEVkaXRpbmdDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBzYXZlRGF0YSwgc2F2ZVN0YXR1cyxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFF1ZXN0aW9ucywgc2V0U2VsZWN0ZWRRdWVzdGlvbnMsXG4gICAgICAgICAgICAgICAgc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5LFxuICAgICAgICAgICAgICAgIGZpbHRlckNhdGVnb3J5LCBzZXRGaWx0ZXJDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJSZWxpZ2lvdXMsIHNldEZpbHRlclJlbGlnaW91cyxcbiAgICAgICAgICAgICAgICBkcmF3ZXJPcGVuLCBzZXREcmF3ZXJPcGVuLFxuICAgICAgICAgICAgICAgIGlzTG9hZGluZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8QXBwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC9BcHBDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOi8ieWFpeaMh+ekuuWZqOe1hOS7tlxuICAgICAgICBmdW5jdGlvbiBMb2FkaW5nU3Bpbm5lcih7IHNpemUgPSAnbWQnIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemVDbGFzc2VzID0ge1xuICAgICAgICAgICAgICAgIHNtOiAndy00IGgtNCcsXG4gICAgICAgICAgICAgICAgbWQ6ICd3LTYgaC02JyxcbiAgICAgICAgICAgICAgICBsZzogJ3ctOCBoLTgnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbG9hZGluZy1zcGlubmVyICR7c2l6ZUNsYXNzZXNbc2l6ZV19YH0+PC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5pCc5bCL5ZKM56+p6YG4IEhvb2tcbiAgICAgICAgZnVuY3Rpb24gdXNlUXVlc3Rpb25GaWx0ZXIoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHF1ZXN0aW9ucywgY2F0ZWdvcmllcywgc2VhcmNoUXVlcnksIGZpbHRlckNhdGVnb3J5LCBmaWx0ZXJSZWxpZ2lvdXMgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG5cbiAgICAgICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWQgPSBbLi4ucXVlc3Rpb25zXTtcblxuICAgICAgICAgICAgICAgIC8vIOmXnOmNteWtl+aQnOWwi1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hRdWVyeS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihxID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgcS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g5YiG6aGe56+p6YG4XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBwYXJzZUludChmaWx0ZXJDYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldEFsbERlc2NlbmRhbnRJZHMgPSAoY2F0SWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gW2NhdElkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY2F0ZWdvcmllcy5maWx0ZXIoYyA9PiBjLnBhcmVudElkID09PSBjYXRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjZW5kYW50cy5wdXNoKC4uLmdldEFsbERlc2NlbmRhbnRJZHMoY2hpbGQuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NlbmRhbnRzO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDYXRlZ29yeUlkcyA9IGdldEFsbERlc2NlbmRhbnRJZHMoY2F0ZWdvcnlJZCk7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKHEgPT4gdGFyZ2V0Q2F0ZWdvcnlJZHMuaW5jbHVkZXMocS5jYXRlZ29yeUlkKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g5a6X5pWZ5bCI5bGs56+p6YG4XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlclJlbGlnaW91cyAhPT0gJ2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNSZWxpZ2lvdXMgPSBmaWx0ZXJSZWxpZ2lvdXMgPT09ICdyZWxpZ2lvdXMnO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihxID0+IHEuaXNSZWxpZ2lvdXNPbmx5ID09PSBpc1JlbGlnaW91cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcbiAgICAgICAgICAgIH0sIFtxdWVzdGlvbnMsIGNhdGVnb3JpZXMsIHNlYXJjaFF1ZXJ5LCBmaWx0ZXJDYXRlZ29yeSwgZmlsdGVyUmVsaWdpb3VzXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDliIbpoZ7mqLnntYTku7ZcbiAgICAgICAgZnVuY3Rpb24gQ2F0ZWdvcnlUcmVlKHsgb25TZWxlY3RDYXRlZ29yeSwgc2VsZWN0ZWRDYXRlZ29yeUlkLCBpc0RyYXdlciA9IGZhbHNlIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcywgc2V0Q2F0ZWdvcmllcywgcXVlc3Rpb25zLCBzZXRRdWVzdGlvbnMsIFxuICAgICAgICAgICAgICAgIGVkaXRpbmdDYXRlZ29yeSwgc2V0RWRpdGluZ0NhdGVnb3J5LCBkcmF3ZXJPcGVuLCBzZXREcmF3ZXJPcGVuIFxuICAgICAgICAgICAgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBbZXhwYW5kZWROb2Rlcywgc2V0RXhwYW5kZWROb2Rlc10gPSB1c2VTdGF0ZShuZXcgU2V0KFsxLCAyLCAzLCA0XSkpO1xuXG4gICAgICAgICAgICBjb25zdCB0b2dnbGVFeHBhbmQgPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnlJZCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkTm9kZXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V4cGFuZGVkID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0V4cGFuZGVkLmhhcyhjYXRlZ29yeUlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXhwYW5kZWQuZGVsZXRlKGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXhwYW5kZWQuYWRkKGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdFeHBhbmRlZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIFtdKTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0Q2F0ZWdvcnlDaGlsZHJlbiA9IHVzZUNhbGxiYWNrKChwYXJlbnRJZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yaWVzLmZpbHRlcihjYXQgPT4gY2F0LnBhcmVudElkID09PSBwYXJlbnRJZClcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChhLm9yZGVyIHx8IDApIC0gKGIub3JkZXIgfHwgMCkpO1xuICAgICAgICAgICAgfSwgW2NhdGVnb3JpZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0Q2F0ZWdvcnlRdWVzdGlvbkNvdW50ID0gdXNlQ2FsbGJhY2soKGNhdGVnb3J5SWQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXRBbGxEZXNjZW5kYW50SWRzID0gKGNhdElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gW2NhdElkXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjYXRlZ29yaWVzLmZpbHRlcihjID0+IGMucGFyZW50SWQgPT09IGNhdElkKTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjZW5kYW50cy5wdXNoKC4uLmdldEFsbERlc2NlbmRhbnRJZHMoY2hpbGQuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjZW5kYW50cztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbENhdGVnb3J5SWRzID0gZ2V0QWxsRGVzY2VuZGFudElkcyhjYXRlZ29yeUlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVlc3Rpb25zLmZpbHRlcihxID0+IGFsbENhdGVnb3J5SWRzLmluY2x1ZGVzKHEuY2F0ZWdvcnlJZCkpLmxlbmd0aDtcbiAgICAgICAgICAgIH0sIFtjYXRlZ29yaWVzLCBxdWVzdGlvbnNdKTtcblxuICAgICAgICAgICAgY29uc3QgYWRkU3ViQ2F0ZWdvcnkgPSB1c2VDYWxsYmFjaygocGFyZW50SWQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJZCA9IE1hdGgubWF4KC4uLmNhdGVnb3JpZXMubWFwKGMgPT4gYy5pZCkpICsgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRDYXRlZ29yeSA9IHBhcmVudElkID8gY2F0ZWdvcmllcy5maW5kKGMgPT4gYy5pZCA9PT0gcGFyZW50SWQpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWJsaW5ncyA9IGNhdGVnb3JpZXMuZmlsdGVyKGMgPT4gYy5wYXJlbnRJZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heE9yZGVyID0gTWF0aC5tYXgoLi4uc2libGluZ3MubWFwKGMgPT4gYy5vcmRlciB8fCAwKSwgMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBuZXdJZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+aWsOWIhumhnicsXG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiBwYXJlbnRDYXRlZ29yeSA/IHBhcmVudENhdGVnb3J5LmxldmVsICsgMSA6IDEsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudElkOiBwYXJlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IG1heE9yZGVyICsgMVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc2V0Q2F0ZWdvcmllcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdDYXRlZ29yeV0pO1xuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdDYXRlZ29yeShuZXdJZCk7XG4gICAgICAgICAgICB9LCBbY2F0ZWdvcmllcywgc2V0Q2F0ZWdvcmllcywgc2V0RWRpdGluZ0NhdGVnb3J5XSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGdldEFsbERlc2NlbmRhbnRJZHMgPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnlJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjYXRlZ29yaWVzLmZpbHRlcihjID0+IGMucGFyZW50SWQgPT09IGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kYW50cy5wdXNoKGNoaWxkLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY2VuZGFudHMucHVzaCguLi5nZXRBbGxEZXNjZW5kYW50SWRzKGNoaWxkLmlkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NlbmRhbnRzO1xuICAgICAgICAgICAgfSwgW2NhdGVnb3JpZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnlJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRJZHMgPSBnZXRBbGxEZXNjZW5kYW50SWRzKGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbElkc1RvRGVsZXRlID0gW2NhdGVnb3J5SWQsIC4uLmRlc2NlbmRhbnRJZHNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0ZWRRdWVzdGlvbnMgPSBxdWVzdGlvbnMuZmlsdGVyKHEgPT4gYWxsSWRzVG9EZWxldGUuaW5jbHVkZXMocS5jYXRlZ29yeUlkKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpcm1NZXNzYWdlID0gJ+eiuuWumuimgeWIqumZpOatpOWIhumhnuWXju+8nyc7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2NlbmRhbnRJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25maXJtTWVzc2FnZSArPSBgXFxu6YCZ5bCH5ZCM5pmC5Yiq6ZmkICR7ZGVzY2VuZGFudElkcy5sZW5ndGh9IOWAi+WtkOWIhumhnmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWxhdGVkUXVlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybU1lc3NhZ2UgKz0gYFxcbuS7peWPiiAke3JlbGF0ZWRRdWVzdGlvbnMubGVuZ3RofSDlgIvnm7jpl5zpoYznm65gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oY29uZmlybU1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENhdGVnb3JpZXMocHJldiA9PiBwcmV2LmZpbHRlcihjID0+ICFhbGxJZHNUb0RlbGV0ZS5pbmNsdWRlcyhjLmlkKSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRRdWVzdGlvbnMocHJldiA9PiBwcmV2LmZpbHRlcihxID0+ICFhbGxJZHNUb0RlbGV0ZS5pbmNsdWRlcyhxLmNhdGVnb3J5SWQpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW2dldEFsbERlc2NlbmRhbnRJZHMsIHF1ZXN0aW9ucywgc2V0Q2F0ZWdvcmllcywgc2V0UXVlc3Rpb25zXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUNhdGVnb3J5TmFtZSA9IHVzZUNhbGxiYWNrKChjYXRlZ29yeUlkLCBuZXdOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld05hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENhdGVnb3JpZXMocHJldiA9PiBwcmV2Lm1hcChjID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgYy5pZCA9PT0gY2F0ZWdvcnlJZCA/IHsgLi4uYywgbmFtZTogbmV3TmFtZS50cmltKCkgfSA6IGNcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdDYXRlZ29yeShudWxsKTtcbiAgICAgICAgICAgIH0sIFtzZXRDYXRlZ29yaWVzLCBzZXRFZGl0aW5nQ2F0ZWdvcnldKTtcblxuICAgICAgICAgICAgY29uc3QgcmVuZGVyQ2F0ZWdvcnkgPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnksIGRlcHRoID0gMCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZ2V0Q2F0ZWdvcnlDaGlsZHJlbihjYXRlZ29yeS5pZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkTm9kZXMuaGFzKGNhdGVnb3J5LmlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuRWRpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuQWRkQ2hpbGQgPSBjYXRlZ29yeS5sZXZlbCA8IDQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVlc3Rpb25Db3VudCA9IGdldENhdGVnb3J5UXVlc3Rpb25Db3VudChjYXRlZ29yeS5pZCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y2F0ZWdvcnkuaWR9IGNsYXNzTmFtZT1cInNlbGVjdC1ub25lIHNsaWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhdGVnb3J5LWl0ZW0gZmxleCBpdGVtcy1zdGFydCBweS0zIHB4LTMgaG92ZXI6YmctYmx1ZS01MCBjdXJzb3ItcG9pbnRlciByb3VuZGVkLXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5SWQgPT09IGNhdGVnb3J5LmlkID8gJ2JnLXByaW1hcnkvMTAgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzMwJyA6ICdib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBgJHtkZXB0aCAqIDIwICsgMTJ9cHhgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdENhdGVnb3J5ICYmIG9uU2VsZWN0Q2F0ZWdvcnkoY2F0ZWdvcnkuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNEcmF3ZXIpIHNldERyYXdlck9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci0zIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hhc0NoaWxkcmVuID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUV4cGFuZChjYXRlZ29yeS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTYgaC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1wcmltYXJ5IGhvdmVyOmJnLXByaW1hcnkvMTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2lzRXhwYW5kZWQgPyAn5pS25ZCIJyA6ICflsZXplosnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPXtgdy00IGgtNCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAgJHtpc0V4cGFuZGVkID8gJ3JvdGF0ZS05MCcgOiAnJ31gfSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTkgNWw3IDctNyA3XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWdyYXktMzAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMCBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nQ2F0ZWdvcnkgPT09IGNhdGVnb3J5LmlkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjYXRlZ29yeS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgdGV4dC1zbSBib3JkZXIgYm9yZGVyLXByaW1hcnkvNTAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS8yMCByZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz1cIjJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHVwZGF0ZUNhdGVnb3J5TmFtZShjYXRlZ29yeS5pZCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2F0ZWdvcnlOYW1lKGNhdGVnb3J5LmlkLCBlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6KuL6Ly45YWl5YiG6aGe5ZCN56ixXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2x0aXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2F0ZWdvcnktbmFtZSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5uYW1lLmxlbmd0aCA+IDIwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvb2x0aXAtdGV4dFwiPntjYXRlZ29yeS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkubGV2ZWwgPT09IDEgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiZy1wcmltYXJ5LzEwIHRleHQtcHJpbWFyeSB0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgbXQtMiBzZWxmLXN0YXJ0IGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb25Db3VudH3poYxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uLWJ1dHRvbnMgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhbkFkZENoaWxkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTdWJDYXRlZ29yeShjYXRlZ29yeS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtc2Vjb25kYXJ5LzgwIGhvdmVyOmJnLXNlY29uZGFyeS8xMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCB0b29sdGlwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi5paw5aKe5a2Q5YiG6aGeXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEyIDZ2Nm0wIDB2Nm0wLTZoNm0tNiAwSDZcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvb2x0aXAtdGV4dFwiPuaWsOWinuWtkOWIhumhnjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYW5FZGl0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdDYXRlZ29yeShjYXRlZ29yeS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctOCBoLTggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1wcmltYXJ5IGhvdmVyOnRleHQtcHJpbWFyeS84MCBob3ZlcjpiZy1wcmltYXJ5LzEwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHRvb2x0aXBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi57eo6Lyv5YiG6aGe5ZCN56ixXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0b29sdGlwLXRleHRcIj7nt6jovK/liIbpoZ7lkI3nqLE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNhdGVnb3J5KGNhdGVnb3J5LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWRhbmdlciBob3Zlcjp0ZXh0LWRhbmdlci84MCBob3ZlcjpiZy1kYW5nZXIvMTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgdG9vbHRpcFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLliKrpmaTliIbpoZ5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgN2wtLjg2NyAxMi4xNDJBMiAyIDAgMDExNi4xMzggMjFINy44NjJhMiAyIDAgMDEtMS45OTUtMS44NThMNSA3bTUgNHY2bTQtNnY2bTEtMTBWNGExIDEgMCAwMC0xLTFoLTRhMSAxIDAgMDAtMSAxdjNNNCA3aDE2XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvb2x0aXAtdGV4dFwiPuWIqumZpOWIhumhnjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtoYXNDaGlsZHJlbiAmJiBpc0V4cGFuZGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTIgbXQtMSBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVuLm1hcChjaGlsZCA9PiByZW5kZXJDYXRlZ29yeShjaGlsZCwgZGVwdGggKyAxKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgIGdldENhdGVnb3J5Q2hpbGRyZW4sIGV4cGFuZGVkTm9kZXMsIHNlbGVjdGVkQ2F0ZWdvcnlJZCwgb25TZWxlY3RDYXRlZ29yeSwgaXNEcmF3ZXIsIFxuICAgICAgICAgICAgICAgIHNldERyYXdlck9wZW4sIGVkaXRpbmdDYXRlZ29yeSwgdXBkYXRlQ2F0ZWdvcnlOYW1lLCB0b2dnbGVFeHBhbmQsIGdldENhdGVnb3J5UXVlc3Rpb25Db3VudCxcbiAgICAgICAgICAgICAgICBhZGRTdWJDYXRlZ29yeSwgc2V0RWRpdGluZ0NhdGVnb3J5LCBkZWxldGVDYXRlZ29yeVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvb3RDYXRlZ29yaWVzID0gdXNlTWVtbygoKSA9PiBcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmZpbHRlcihjYXQgPT4gY2F0LnBhcmVudElkID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGEub3JkZXIgfHwgMCkgLSAoYi5vcmRlciB8fCAwKSlcbiAgICAgICAgICAgICwgW2NhdGVnb3JpZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LXRyZWUgYm9yZGVyIHJvdW5kZWQteGwgYmctd2hpdGUgcC00IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgc206anVzdGlmeS1iZXR3ZWVuIHNtOml0ZW1zLWNlbnRlciBtYi00IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgdGV4dC1sZyBtYi0xXCI+5YiG6aGe57WQ5qeLPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Zub5bGk5YiG6aGe57WQ5qeL77ya6Z2I5oCn5L+u6aSK6Z2i5ZCRIOKGkiDmoLjlv4PmjIfmqJkg4oaSIOmdiOS/ruWOn+WJhyDihpIg5pel5bi45a+m6LiQXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYWRkU3ViQ2F0ZWdvcnkobnVsbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYmctc2Vjb25kYXJ5IHRleHQtd2hpdGUgcHgtNCBweS0yIHJvdW5kZWQteGwgaG92ZXI6Ymctc2Vjb25kYXJ5LzkwIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1vYmlsZS1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTIgNnY2bTAgMHY2bTAtNmg2bS02IDBINlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg5paw5aKe5YiG6aGeXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Jvb3RDYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiByZW5kZXJDYXRlZ29yeShjYXRlZ29yeSkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpc0RyYXdlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGRyYXdlci1vdmVybGF5ICR7ZHJhd2VyT3BlbiA/ICdhY3RpdmUnIDogJyd9YH0gb25DbGljaz17KCkgPT4gc2V0RHJhd2VyT3BlbihmYWxzZSl9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BkcmF3ZXIgJHtkcmF3ZXJPcGVuID8gJ2FjdGl2ZScgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPuWIhumhnue1kOanizwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RHJhd2VyT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIumXnOmWiVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRTdWJDYXRlZ29yeShudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBiZy1zZWNvbmRhcnkgdGV4dC13aGl0ZSBweC00IHB5LTMgcm91bmRlZC14bCBob3ZlcjpiZy1zZWNvbmRhcnkvOTAgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbWItNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA2djZtMCAwdjZtMC02aDZtLTYgMEg2XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5paw5aKe5YiG6aGeXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Jvb3RDYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiByZW5kZXJDYXRlZ29yeShjYXRlZ29yeSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaQnOWwi+WSjOevqemBuOe1hOS7tlxuICAgICAgICBmdW5jdGlvbiBTZWFyY2hBbmRGaWx0ZXIoKSB7XG4gICAgICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgICAgIHNlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeSwgXG4gICAgICAgICAgICAgICAgZmlsdGVyQ2F0ZWdvcnksIHNldEZpbHRlckNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGZpbHRlclJlbGlnaW91cywgc2V0RmlsdGVyUmVsaWdpb3VzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgXG4gICAgICAgICAgICB9ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0Q2F0ZWdvcnlPcHRpb25zID0gdXNlQ2FsbGJhY2soKHBhcmVudElkID0gbnVsbCwgcHJlZml4ID0gJycpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGNhdGVnb3JpZXMuZmlsdGVyKGMgPT4gYy5wYXJlbnRJZCA9PT0gcGFyZW50SWQpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiAoYS5vcmRlciB8fCAwKSAtIChiLm9yZGVyIHx8IDApKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHByZWZpeCArIGNhdGVnb3J5Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCguLi5nZXRDYXRlZ29yeU9wdGlvbnMoY2F0ZWdvcnkuaWQsIHByZWZpeCArICfjgIAnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgICAgICB9LCBbY2F0ZWdvcmllc10pO1xuXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeU9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IGdldENhdGVnb3J5T3B0aW9ucygpLCBbZ2V0Q2F0ZWdvcnlPcHRpb25zXSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNCBzaGFkb3ctc20gbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+6Zec6Y215a2X5pCc5bCLPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuaQnOWwi+mhjOebruWFp+WuuS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtMTAgcHItNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS8yMCBmb2N1czpib3JkZXItcHJpbWFyeSBtb2JpbGUtc3BhY2luZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdy00IGgtNCB0ZXh0LWdyYXktNDAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMjEgMjFsLTYtNm0yLTVhNyA3IDAgMTEtMTQgMCA3IDcgMCAwMTE0IDB6XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj7liIbpoZ7nr6npgbg8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ZpbHRlckNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlckNhdGVnb3J5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkvMjAgZm9jdXM6Ym9yZGVyLXByaW1hcnkgbW9iaWxlLXNwYWNpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPuaJgOacieWIhumhnjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnlPcHRpb25zLm1hcChvcHRpb24gPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e29wdGlvbi52YWx1ZX0gdmFsdWU9e29wdGlvbi52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbi5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPuWul+aVmeWwiOWxrDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZmlsdGVyUmVsaWdpb3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlclJlbGlnaW91cyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzIwIGZvY3VzOmJvcmRlci1wcmltYXJ5IG1vYmlsZS1zcGFjaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj7lhajpg6g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJlbGlnaW91c1wiPuWDheWul+aVmeWwiOWxrDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ2VuZXJhbFwiPuWDheS4gOiIrOmhjOebrjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaJueasoeaTjeS9nOe1hOS7tlxuICAgICAgICBmdW5jdGlvbiBCYXRjaEFjdGlvbnMoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHNlbGVjdGVkUXVlc3Rpb25zLCBzZXRTZWxlY3RlZFF1ZXN0aW9ucywgcXVlc3Rpb25zLCBzZXRRdWVzdGlvbnMgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdEFsbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRRdWVzdGlvbnMuc2l6ZSA9PT0gcXVlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFF1ZXN0aW9ucyhuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUXVlc3Rpb25zKG5ldyBTZXQocXVlc3Rpb25zLm1hcChxID0+IHEuaWQpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW3NlbGVjdGVkUXVlc3Rpb25zLnNpemUsIHF1ZXN0aW9ucy5sZW5ndGgsIHF1ZXN0aW9ucywgc2V0U2VsZWN0ZWRRdWVzdGlvbnNdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQmF0Y2hEZWxldGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUXVlc3Rpb25zLnNpemUgPT09IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oYOeiuuWumuimgeWIqumZpOmBuOS4reeahCAke3NlbGVjdGVkUXVlc3Rpb25zLnNpemV9IOWAi+mhjOebruWXju+8n2ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFF1ZXN0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKHEgPT4gIXNlbGVjdGVkUXVlc3Rpb25zLmhhcyhxLmlkKSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFF1ZXN0aW9ucyhuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFtzZWxlY3RlZFF1ZXN0aW9ucywgc2V0UXVlc3Rpb25zLCBzZXRTZWxlY3RlZFF1ZXN0aW9uc10pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVCYXRjaFRvZ2dsZVJlbGlnaW91cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRRdWVzdGlvbnMuc2l6ZSA9PT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldFF1ZXN0aW9ucyhwcmV2ID0+IHByZXYubWFwKHEgPT4gXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUXVlc3Rpb25zLmhhcyhxLmlkKSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyAuLi5xLCBpc1JlbGlnaW91c09ubHk6ICFxLmlzUmVsaWdpb3VzT25seSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHFcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH0sIFtzZWxlY3RlZFF1ZXN0aW9ucywgc2V0UXVlc3Rpb25zXSk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFF1ZXN0aW9ucy5zaXplID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhdGNoLWFjdGlvbnMgYmctcHJpbWFyeS81IGJvcmRlciBib3JkZXItcHJpbWFyeS8yMCByb3VuZGVkLXhsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1jZW50ZXIgc206anVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtcHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOW3sumBuOaThyB7c2VsZWN0ZWRRdWVzdGlvbnMuc2l6ZX0g5YCL6aGM55uuXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWxlY3RBbGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXNtIGJnLXByaW1hcnkvMTAgdGV4dC1wcmltYXJ5IHJvdW5kZWQtbGcgaG92ZXI6YmctcHJpbWFyeS8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRRdWVzdGlvbnMuc2l6ZSA9PT0gcXVlc3Rpb25zLmxlbmd0aCA/ICflj5bmtojlhajpgbgnIDogJ+WFqOmBuCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVCYXRjaFRvZ2dsZVJlbGlnaW91c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc20gYmctd2FybmluZy8xMCB0ZXh0LXdhcm5pbmcgcm91bmRlZC1sZyBob3ZlcjpiZy13YXJuaW5nLzIwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWIh+aPm+Wul+aVmeWxrOaAp1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQmF0Y2hEZWxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXNtIGJnLWRhbmdlci8xMCB0ZXh0LWRhbmdlciByb3VuZGVkLWxnIGhvdmVyOmJnLWRhbmdlci8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmibnmrKHliKrpmaRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDpoYznm67nrqHnkIbntYTku7ZcbiAgICAgICAgZnVuY3Rpb24gUXVlc3Rpb25NYW5hZ2VyKCkge1xuICAgICAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLCBcbiAgICAgICAgICAgICAgICBxdWVzdGlvbnMsIFxuICAgICAgICAgICAgICAgIHNldFF1ZXN0aW9ucywgXG4gICAgICAgICAgICAgICAgZWRpdGluZ1F1ZXN0aW9uLCBcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUXVlc3Rpb24sXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRRdWVzdGlvbnMsXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRRdWVzdGlvbnMsXG4gICAgICAgICAgICAgICAgZHJhd2VyT3BlbixcbiAgICAgICAgICAgICAgICBzZXREcmF3ZXJPcGVuXG4gICAgICAgICAgICB9ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnlJZCwgc2V0U2VsZWN0ZWRDYXRlZ29yeUlkXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW3Nob3dBbGxRdWVzdGlvbnMsIHNldFNob3dBbGxRdWVzdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW2RyYWdnZWRJdGVtLCBzZXREcmFnZ2VkSXRlbV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRRdWVzdGlvbnMgPSB1c2VRdWVzdGlvbkZpbHRlcigpO1xuXG4gICAgICAgICAgICBjb25zdCBnZXRDYXRlZ29yeVBhdGggPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnlJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IGNhdGVnb3JpZXMuZmluZChjID0+IGMuaWQgPT09IGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChjdXJyZW50Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2F0ZWdvcmllcy5maW5kKGMgPT4gYy5pZCA9PT0gY3VycmVudC5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4oJyA+ICcpO1xuICAgICAgICAgICAgfSwgW2NhdGVnb3JpZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgYWRkUXVlc3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZENhdGVnb3J5SWQgJiYgIXNob3dBbGxRdWVzdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iri+WFiOmBuOaTh+WIhumhnicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0lkID0gTWF0aC5tYXgoLi4ucXVlc3Rpb25zLm1hcChxID0+IHEuaWQpLCAwKSArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UXVlc3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBuZXdJZCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+aWsOmhjOebricsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHNlbGVjdGVkQ2F0ZWdvcnlJZCB8fCBjYXRlZ29yaWVzWzBdPy5pZCxcbiAgICAgICAgICAgICAgICAgICAgaXNSZWxpZ2lvdXNPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHF1ZXN0aW9ucy5sZW5ndGggKyAxXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzZXRRdWVzdGlvbnMocHJldiA9PiBbLi4ucHJldiwgbmV3UXVlc3Rpb25dKTtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUXVlc3Rpb24obmV3SWQpO1xuICAgICAgICAgICAgfSwgW3NlbGVjdGVkQ2F0ZWdvcnlJZCwgc2hvd0FsbFF1ZXN0aW9ucywgcXVlc3Rpb25zLCBjYXRlZ29yaWVzLCBzZXRRdWVzdGlvbnMsIHNldEVkaXRpbmdRdWVzdGlvbl0pO1xuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVRdWVzdGlvbiA9IHVzZUNhbGxiYWNrKChxdWVzdGlvbklkLCB1cGRhdGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UXVlc3Rpb25zKHByZXYgPT4gcHJldi5tYXAocSA9PiBcbiAgICAgICAgICAgICAgICAgICAgcS5pZCA9PT0gcXVlc3Rpb25JZCA/IHsgLi4ucSwgLi4udXBkYXRlcyB9IDogcVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdRdWVzdGlvbihudWxsKTtcbiAgICAgICAgICAgIH0sIFtzZXRRdWVzdGlvbnMsIHNldEVkaXRpbmdRdWVzdGlvbl0pO1xuXG4gICAgICAgICAgICBjb25zdCBkZWxldGVRdWVzdGlvbiA9IHVzZUNhbGxiYWNrKChxdWVzdGlvbklkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCfnorrlrpropoHliKrpmaTmraTpoYznm67ll47vvJ8nKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRRdWVzdGlvbnMocHJldiA9PiBwcmV2LmZpbHRlcihxID0+IHEuaWQgIT09IHF1ZXN0aW9uSWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBbc2V0UXVlc3Rpb25zXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvZ2dsZVF1ZXN0aW9uU2VsZWN0aW9uID0gdXNlQ2FsbGJhY2soKHF1ZXN0aW9uSWQpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFF1ZXN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U2VsZWN0ZWQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2VsZWN0ZWQuaGFzKHF1ZXN0aW9uSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RlZC5kZWxldGUocXVlc3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RlZC5hZGQocXVlc3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1NlbGVjdGVkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgW3NldFNlbGVjdGVkUXVlc3Rpb25zXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9IHVzZUNhbGxiYWNrKChlLCBxdWVzdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIHNldERyYWdnZWRJdGVtKHF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURyb3AgPSB1c2VDYWxsYmFjaygoZSwgdGFyZ2V0UXVlc3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkcmFnZ2VkSXRlbSB8fCBkcmFnZ2VkSXRlbS5pZCA9PT0gdGFyZ2V0UXVlc3Rpb24uaWQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHNldFF1ZXN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UXVlc3Rpb25zID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkcmFnZ2VkSW5kZXggPSBuZXdRdWVzdGlvbnMuZmluZEluZGV4KHEgPT4gcS5pZCA9PT0gZHJhZ2dlZEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IG5ld1F1ZXN0aW9ucy5maW5kSW5kZXgocSA9PiBxLmlkID09PSB0YXJnZXRRdWVzdGlvbi5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3UXVlc3Rpb25zLnNwbGljZShkcmFnZ2VkSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdRdWVzdGlvbnMuc3BsaWNlKHRhcmdldEluZGV4LCAwLCBkcmFnZ2VkSXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3UXVlc3Rpb25zLmZvckVhY2goKHEsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3UXVlc3Rpb25zO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldERyYWdnZWRJdGVtKG51bGwpO1xuICAgICAgICAgICAgfSwgW2RyYWdnZWRJdGVtLCBzZXRRdWVzdGlvbnNdKTtcblxuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0U2VhcmNoVGV4dCA9IHVzZUNhbGxiYWNrKCh0ZXh0LCBxdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcXVlcnkudHJpbSgpKSByZXR1cm4gdGV4dDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYCgke3F1ZXJ5LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyl9KWAsICdnaScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gdGV4dC5zcGxpdChyZWdleCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRzLm1hcCgocGFydCwgaW5kZXgpID0+IFxuICAgICAgICAgICAgICAgICAgICByZWdleC50ZXN0KHBhcnQpID8gXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJzZWFyY2gtaGlnaGxpZ2h0XCI+e3BhcnR9PC9zcGFuPiA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlRdWVzdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvd0FsbFF1ZXN0aW9ucyA/IGZpbHRlcmVkUXVlc3Rpb25zIDogXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlJZCA/IHF1ZXN0aW9ucy5maWx0ZXIocSA9PiBxLmNhdGVnb3J5SWQgPT09IHNlbGVjdGVkQ2F0ZWdvcnlJZCkgOiBbXTtcbiAgICAgICAgICAgIH0sIFtzaG93QWxsUXVlc3Rpb25zLCBmaWx0ZXJlZFF1ZXN0aW9ucywgc2VsZWN0ZWRDYXRlZ29yeUlkLCBxdWVzdGlvbnNdKTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgeGw6ZmxleC1yb3cgZ2FwLTQgaC1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKiDooYzli5Xnq6/liIbpoZ7mir3lsZzmjInpiJUgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieGw6aGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RHJhd2VyT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHB4LTQgcHktMyByb3VuZGVkLXhsIGhvdmVyOmJnLXByaW1hcnkvOTAgZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1iLTRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA2aDE2TTQgMTJoMTZNNCAxOGgxNlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg5YiG6aGe566h55CGXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXRlZ29yeVRyZWUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RDYXRlZ29yeT17KGNhdGVnb3J5SWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXRlZ29yeUlkKGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93QWxsUXVlc3Rpb25zKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlJZD17c2VsZWN0ZWRDYXRlZ29yeUlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhd2VyPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIOahjOmdouerr+WIhumhnuaouSAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4geGw6YmxvY2sgdy1mdWxsIHhsOnctMi81XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlUcmVlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0Q2F0ZWdvcnk9eyhjYXRlZ29yeUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnlJZChjYXRlZ29yeUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0FsbFF1ZXN0aW9ucyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5SWQ9e3NlbGVjdGVkQ2F0ZWdvcnlJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgeGw6dy0zLzVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWFyY2hBbmRGaWx0ZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgc206anVzdGlmeS1iZXR3ZWVuIHNtOml0ZW1zLWNlbnRlciBtYi00IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgdGV4dC1sZ1wiPumhjOebrueuoeeQhjwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93QWxsUXVlc3Rpb25zKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZENhdGVnb3J5SWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZC14bCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtb2JpbGUtYnV0dG9uICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dBbGxRdWVzdGlvbnMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1hY2NlbnQgdGV4dC13aGl0ZScgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaJgOaciemhjOW6q1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthZGRRdWVzdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXByaW1hcnkgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC14bCBob3ZlcjpiZy1wcmltYXJ5LzkwIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtb2JpbGUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5paw5aKe6aGM55uuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhdGNoQWN0aW9ucyAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd0FsbFF1ZXN0aW9ucyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPumhr+ekuiB7ZGlzcGxheVF1ZXN0aW9ucy5sZW5ndGh9IC8ge3F1ZXN0aW9ucy5sZW5ndGh9IOmhjDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IHNlbGVjdGVkQ2F0ZWdvcnlJZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJyZWFrLXdvcmRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldENhdGVnb3J5UGF0aChzZWxlY3RlZENhdGVnb3J5SWQpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoe2Rpc3BsYXlRdWVzdGlvbnMubGVuZ3RofSDpoYwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7oq4vpgbjmk4fliIbpoZ7miJbpu57mk4rjgIzmiYDmnInpoYzluqvjgI3mn6XnnIvpoYznm648L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtYXgtaC05NiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlRdWVzdGlvbnMubWFwKHF1ZXN0aW9uID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3F1ZXN0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHF1ZXN0aW9uLWl0ZW0gYm9yZGVyIHJvdW5kZWQteGwgcC00IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkSXRlbT8uaWQgPT09IHF1ZXN0aW9uLmlkID8gJ2RyYWdnaW5nJyA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFF1ZXN0aW9ucy5oYXMocXVlc3Rpb24uaWQpID8gJ3NlbGVjdGVkJyA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiBoYW5kbGVEcmFnU3RhcnQoZSwgcXVlc3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e2hhbmRsZURyYWdPdmVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJvcD17KGUpID0+IGhhbmRsZURyb3AoZSwgcXVlc3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nUXVlc3Rpb24gPT09IHF1ZXN0aW9uLmlkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtxdWVzdGlvbi50ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzMwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9XCIzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIumhjOebruWFp+WuuVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gdXBkYXRlUXVlc3Rpb24ocXVlc3Rpb24uaWQsIHsgdGV4dDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IHNtOml0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtxdWVzdGlvbi5jYXRlZ29yeUlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZVF1ZXN0aW9uKHF1ZXN0aW9uLmlkLCB7IGNhdGVnb3J5SWQ6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcChjYXQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdC5pZH0gdmFsdWU9e2NhdC5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldENhdGVnb3J5UGF0aChjYXQuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17cXVlc3Rpb24uaXNSZWxpZ2lvdXNPbmx5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVRdWVzdGlvbihxdWVzdGlvbi5pZCwgeyBpc1JlbGlnaW91c09ubHk6IGUudGFyZ2V0LmNoZWNrZWQgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcHJpbWFyeSBmb2N1czpyaW5nLXByaW1hcnkvMjAgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+5a6X5pWZ5bCI5bGsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0aW5nUXVlc3Rpb24obnVsbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXNlY29uZGFyeSB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc20gaG92ZXI6Ymctc2Vjb25kYXJ5LzkwIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzIG1vYmlsZS1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5a6M5oiQXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZFF1ZXN0aW9ucy5oYXMocXVlc3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlUXVlc3Rpb25TZWxlY3Rpb24ocXVlc3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcHJpbWFyeSBmb2N1czpyaW5nLXByaW1hcnkvMjAgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgbXQtMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hpZ2hsaWdodFNlYXJjaFRleHQocXVlc3Rpb24udGV4dCwgZmlsdGVyZWRRdWVzdGlvbnMuc2VhcmNoUXVlcnkgfHwgJycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBicmVhay13b3JkcyBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0Q2F0ZWdvcnlQYXRoKHF1ZXN0aW9uLmNhdGVnb3J5SWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWVzdGlvbi5pc1JlbGlnaW91c09ubHkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBiZy13YXJuaW5nLzEwIHRleHQtd2FybmluZyB0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5a6X5pWZ5bCI5bGsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNjAwIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmghuW6jzoge3F1ZXN0aW9uLm9yZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ1F1ZXN0aW9uKHF1ZXN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeSBob3Zlcjp0ZXh0LXByaW1hcnkvODAgdGV4dC1zbSBwLTIgaG92ZXI6YmctcHJpbWFyeS8xMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi57eo6Lyv6aGM55uuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRlbGV0ZVF1ZXN0aW9uKHF1ZXN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZGFuZ2VyIGhvdmVyOnRleHQtZGFuZ2VyLzgwIHRleHQtc20gcC0yIGhvdmVyOmJnLWRhbmdlci8xMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi5Yiq6Zmk6aGM55uuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDdsLS44NjcgMTIuMTQyQTIgMiAwIDAxMTYuMTM4IDIxSDcuODYyYTIgMiAwIDAxLTEuOTk1LTEuODU4TDUgN201IDR2Nm00LTZ2Nm0xLTEwVjRhMSAxIDAgMDAtMS0xaC00YTEgMSAwIDAwLTEgMXYzTTQgN2gxNlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkaXNwbGF5UXVlc3Rpb25zLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMTYgaC0xNiBteC1hdXRvIG1iLTQgdGV4dC1ncmF5LTMwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSAxMmg2bS02IDRoNm0yIDVIN2EyIDIgMCAwMS0yLTJWNWEyIDIgMCAwMTItMmg1LjU4NmExIDEgMCAwMS43MDcuMjkzbDUuNDE0IDUuNDE0YTEgMSAwIDAxLjI5My43MDdWMTlhMiAyIDAgMDEtMiAyelwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSBtYi0yXCI+5pqr54Sh6aGM55uuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj7oq4vpgbjmk4fliIbpoZ7miJbmlrDlop7poYznm648L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDllY/ljbfpoJDopr3ntYTku7ZcbiAgICAgICAgZnVuY3Rpb24gU3VydmV5UHJldmlldygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcXVlc3Rpb25zLCBjYXRlZ29yaWVzIH0gPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgW3JhbmRvbWl6ZWQsIHNldFJhbmRvbWl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBnZXRDYXRlZ29yeVBhdGggPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnlJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IGNhdGVnb3JpZXMuZmluZChjID0+IGMuaWQgPT09IGNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChjdXJyZW50Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2F0ZWdvcmllcy5maW5kKGMgPT4gYy5pZCA9PT0gY3VycmVudC5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4oJyA+ICcpO1xuICAgICAgICAgICAgfSwgW2NhdGVnb3JpZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0U2NvcmVMYWJlbCA9IHVzZUNhbGxiYWNrKChzY29yZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVscyA9IHtcbiAgICAgICAgICAgICAgICAgICAgMTogJ+WujOWFqOS4jeespuWQiCcsXG4gICAgICAgICAgICAgICAgICAgIDI6ICflvojkuI3nrKblkIgnLFxuICAgICAgICAgICAgICAgICAgICAzOiAn5LiN5aSq56ym5ZCIJyxcbiAgICAgICAgICAgICAgICAgICAgNDogJ+aciem7nuespuWQiCcsXG4gICAgICAgICAgICAgICAgICAgIDU6ICflvojnrKblkIgnLFxuICAgICAgICAgICAgICAgICAgICA2OiAn5a6M5YWo56ym5ZCIJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsc1tzY29yZV07XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZFF1ZXN0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5kb21pemVkIFxuICAgICAgICAgICAgICAgICAgICA/IFsuLi5xdWVzdGlvbnNdLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSlcbiAgICAgICAgICAgICAgICAgICAgOiBbLi4ucXVlc3Rpb25zXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XG4gICAgICAgICAgICB9LCBbcXVlc3Rpb25zLCByYW5kb21pemVkXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvZ2dsZVJhbmRvbWl6ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSYW5kb21pemVkKHByZXYgPT4gIXByZXYpO1xuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBwLTQgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTpqdXN0aWZ5LWJldHdlZW4gc206aXRlbXMtY2VudGVyIG1iLTYgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgdGV4dC1sZ1wiPuWVj+WNt+mgkOimvTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlUmFuZG9taXplfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLXhsIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1vYmlsZS1idXR0b24gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9taXplZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXdhcm5pbmcgdGV4dC13aGl0ZSBob3ZlcjpiZy13YXJuaW5nLzkwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmFuZG9taXplZCA/ICflt7LpmqjmqZ/mjpLluo8nIDogJ+maqOapn+aOkuW6jyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG1heC1oLTk2IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NvcnRlZFF1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtxdWVzdGlvbi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLXhsIHAtNCBob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICsgMX0uIHtxdWVzdGlvbi50ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTIgYnJlYWstd29yZHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0Q2F0ZWdvcnlQYXRoKHF1ZXN0aW9uLmNhdGVnb3J5SWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1ZXN0aW9uLmlzUmVsaWdpb3VzT25seSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGJnLXdhcm5pbmcvMTAgdGV4dC13YXJuaW5nIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCBtdC0yIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWul+aVmeWwiOWxrFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgc206Z3JpZC1jb2xzLTMgbGc6Z3JpZC1jb2xzLTYgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbMSwgMiwgMywgNCwgNSwgNl0ubWFwKHNjb3JlID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXtzY29yZX0gY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC0zIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS02MCBob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2BwcmV2aWV3LSR7cXVlc3Rpb24uaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzY29yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yIHctNCBoLTRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+e3Njb3JlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHRleHQtY2VudGVyIG10LTEgbGVhZGluZy10aWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldFNjb3JlTGFiZWwoc2NvcmUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7c29ydGVkUXVlc3Rpb25zLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0xMiB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCB0ZXh0LWdyYXktMzAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSA1SDdhMiAyIDAgMDAtMiAydjEwYTIgMiAwIDAwMiAyaDhhMiAyIDAgMDAyLTJWN2EyIDIgMCAwMC0yLTJoLTJNOSA1YTIgMiAwIDAwMiAyaDJhMiAyIDAgMDAyLTJNOSA1YTIgMiAwIDAxMi0yaDJhMiAyIDAgMDEyIDJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSBtYi0yXCI+5pqr54Sh6aGM55uu5Y+v6aCQ6Ka9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+6KuL5YWI5paw5aKe6aGM55uuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g57eo6Lyv5Zmo6aCB6Z2iXG4gICAgICAgIGZ1bmN0aW9uIEVkaXRvclBhZ2UoKSB7XG4gICAgICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9ucywgXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcywgXG4gICAgICAgICAgICAgICAgdmVyc2lvbnMsIFxuICAgICAgICAgICAgICAgIHNldFZlcnNpb25zLCBcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZSwgXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFZlcnNpb25JZCxcbiAgICAgICAgICAgICAgICBzYXZlRGF0YSxcbiAgICAgICAgICAgICAgICBzYXZlU3RhdHVzLFxuICAgICAgICAgICAgICAgIGlzTG9hZGluZ1xuICAgICAgICAgICAgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlU3VydmV5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChxdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfoq4vlhYjmlrDlop7poYznm67lho3nlJ/miJDllY/ljbcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uSWQgPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZlcnNpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uczogWy4uLnF1ZXN0aW9uc10sXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IFsuLi5jYXRlZ29yaWVzXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0VmVyc2lvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbdmVyc2lvbklkXTogdmVyc2lvbiB9KSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFZlcnNpb25JZCh2ZXJzaW9uSWQpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKCdzdXJ2ZXknKTtcbiAgICAgICAgICAgIH0sIFtxdWVzdGlvbnMsIGNhdGVnb3JpZXMsIHNldFZlcnNpb25zLCBzZXRDdXJyZW50VmVyc2lvbklkLCBzZXRDdXJyZW50UGFnZV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgcC0yIHNtOnAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IHNtOmp1c3RpZnktYmV0d2VlbiBzbTppdGVtcy1jZW50ZXIgbWItNiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBzbTp0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpnYjmgKfkv67ppIrllY/ljbfnt6jovK/ns7vntbFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPuW7uueri+OAgeeuoeeQhuWSjOmgkOimveaCqOeahOmdiOaAp+S/rumkiuWVj+WNtzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgaXRlbXMtc3RyZXRjaCBzbTppdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhdmVTdGF0dXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1zbSBweC00IHB5LTIgcm91bmRlZC14bCB0ZXh0LWNlbnRlciBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVTdGF0dXMuaW5jbHVkZXMoJ+aIkOWKnycpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1zZWNvbmRhcnkvMTAgdGV4dC1zZWNvbmRhcnknIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1kYW5nZXIvMTAgdGV4dC1kYW5nZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHNhdmUtc3VjY2Vzc2B9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgJiYgPExvYWRpbmdTcGlubmVyIHNpemU9XCJzbVwiIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzYXZlU3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtzYXZlRGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wcmltYXJ5IHRleHQtd2hpdGUgcHgtNiBweS0zIHJvdW5kZWQteGwgaG92ZXI6YmctcHJpbWFyeS85MCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbW9iaWxlLWJ1dHRvbiBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgJiYgPExvYWRpbmdTcGlubmVyIHNpemU9XCJzbVwiIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTggN0g1YTIgMiAwIDAwLTIgMnY5YTIgMiAwIDAwMiAyaDE0YTIgMiAwIDAwMi0yVjlhMiAyIDAgMDAtMi0yaC0zbS0xIDRsLTMtM20wIDBsLTMgM20zLTN2MTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlhLLlrZjliIbpoZ4v6aGM55uuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtnZW5lcmF0ZVN1cnZleX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXNlY29uZGFyeSB0ZXh0LXdoaXRlIHB4LTYgcHktMyByb3VuZGVkLXhsIGhvdmVyOmJnLXNlY29uZGFyeS85MCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbW9iaWxlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA2djZtMCAwdjZtMC02aDZtLTYgMEg2XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnlJ/miJDllY/ljbdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIDJ4bDpncmlkLWNvbHMtMiBnYXAtNiBtaW4taC1bY2FsYygxMDB2aC0yMDBweCldXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFF1ZXN0aW9uTWFuYWdlciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdXJ2ZXlQcmV2aWV3IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5ZWP5Y235L2c562U57WE5Lu2XG4gICAgICAgIGZ1bmN0aW9uIFN1cnZleUZvcm0oeyB2ZXJzaW9uSWQsIG9uU3VibWl0IH0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmVyc2lvbnMgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBbYW5zd2Vycywgc2V0QW5zd2Vyc10gPSB1c2VTdGF0ZSh7fSk7XG4gICAgICAgICAgICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdmVyc2lvbnNbdmVyc2lvbklkXTtcbiAgICAgICAgICAgIGlmICghdmVyc2lvbikgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgcC04XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCB0ZXh0LWdyYXktMzAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTIgOXYybTAgNGguMDFtLTYuOTM4IDRoMTMuODU2YzEuNTQgMCAyLjUwMi0xLjY2NyAxLjczMi0yLjVMMTMuNzMyIDRjLS43Ny0uODMzLTEuOTY0LS44MzMtMi43MzIgMEwzLjczMiAxNi41Yy0uNzcuODMzLjE5MiAyLjUgMS43MzIgMi41elwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+5ZWP5Y2354mI5pys5LiN5a2Y5ZyoPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0U2NvcmVMYWJlbCA9IHVzZUNhbGxiYWNrKChzY29yZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVscyA9IHtcbiAgICAgICAgICAgICAgICAgICAgMTogJ+WujOWFqOS4jeespuWQiCcsXG4gICAgICAgICAgICAgICAgICAgIDI6ICflvojkuI3nrKblkIgnLFxuICAgICAgICAgICAgICAgICAgICAzOiAn5LiN5aSq56ym5ZCIJyxcbiAgICAgICAgICAgICAgICAgICAgNDogJ+aciem7nuespuWQiCcsXG4gICAgICAgICAgICAgICAgICAgIDU6ICflvojnrKblkIgnLFxuICAgICAgICAgICAgICAgICAgICA2OiAn5a6M5YWo56ym5ZCIJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsc1tzY29yZV07XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZFF1ZXN0aW9ucyA9IHVzZU1lbW8oKCkgPT4gXG4gICAgICAgICAgICAgICAgWy4uLnZlcnNpb24ucXVlc3Rpb25zXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcilcbiAgICAgICAgICAgICwgW3ZlcnNpb24ucXVlc3Rpb25zXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFuc3dlckNoYW5nZSA9IHVzZUNhbGxiYWNrKChxdWVzdGlvbklkLCBzY29yZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEFuc3dlcnMocHJldiA9PiAoeyAuLi5wcmV2LCBbcXVlc3Rpb25JZF06IHBhcnNlSW50KHNjb3JlKSB9KSk7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuYW5zd2VyZWQgPSBzb3J0ZWRRdWVzdGlvbnMuZmlsdGVyKHEgPT4gIWFuc3dlcnNbcS5pZF0pO1xuICAgICAgICAgICAgICAgIGlmICh1bmFuc3dlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOmChOaciSAke3VuYW5zd2VyZWQubGVuZ3RofSDpoYzmnKrkvZznrZRgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5qih5pOs5o+Q5Lqk5bu26YGyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG4gICAgICAgICAgICAgICAgICAgIG9uU3VibWl0KGFuc3dlcnMpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW3NvcnRlZFF1ZXN0aW9ucywgYW5zd2Vycywgb25TdWJtaXRdKTtcblxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBPYmplY3Qua2V5cyhhbnN3ZXJzKS5sZW5ndGggLyBzb3J0ZWRRdWVzdGlvbnMubGVuZ3RoICogMTAwO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBwLTYgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj7pnYjmgKfkv67ppIrllY/ljbc8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTIwMCByb3VuZGVkLWZ1bGwgaC0zIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeSB0by1zZWNvbmRhcnkgaC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7cHJvZ3Jlc3N9JWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmAsuW6pu+8mntPYmplY3Qua2V5cyhhbnN3ZXJzKS5sZW5ndGh9IC8ge3NvcnRlZFF1ZXN0aW9ucy5sZW5ndGh9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgZm9udC1tZWRpdW0gdGV4dC1wcmltYXJ5XCI+KHtwcm9ncmVzcy50b0ZpeGVkKDEpfSUpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzb3J0ZWRRdWVzdGlvbnMubWFwKChxdWVzdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cXVlc3Rpb24uaWR9IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC14bCBwLTYgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTMgdGV4dC1ncmF5LTgwMCB0ZXh0LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICsgMX0uIHtxdWVzdGlvbi50ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWVzdGlvbi5pc1JlbGlnaW91c09ubHkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBiZy13YXJuaW5nLzEwIHRleHQtd2FybmluZyB0ZXh0LXNtIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5a6X5pWZ5bCI5bGs6aGM55uuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgc206Z3JpZC1jb2xzLTMgbGc6Z3JpZC1jb2xzLTYgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbMSwgMiwgMywgNCwgNSwgNl0ubWFwKHNjb3JlID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXtzY29yZX0gY2xhc3NOYW1lPXtgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC00IGJvcmRlci0yIHJvdW5kZWQteGwgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOnNoYWRvdy1tZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzW3F1ZXN0aW9uLmlkXSA9PT0gc2NvcmUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItcHJpbWFyeSBiZy1wcmltYXJ5LzUgc2hhZG93LW1kJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItcHJpbWFyeS8zMCBob3ZlcjpiZy1wcmltYXJ5LzUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcXVlc3Rpb24tJHtxdWVzdGlvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Njb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17YW5zd2Vyc1txdWVzdGlvbi5pZF0gPT09IHNjb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVBbnN3ZXJDaGFuZ2UocXVlc3Rpb24uaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTMgdy01IGgtNSB0ZXh0LXByaW1hcnkgZm9jdXM6cmluZy1wcmltYXJ5LzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgdGV4dC1wcmltYXJ5IG1iLTFcIj57c2NvcmV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdGV4dC1jZW50ZXIgbGVhZGluZy10aWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldFNjb3JlTGFiZWwoc2NvcmUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgcHQtOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wcmltYXJ5IHRvLXNlY29uZGFyeSB0ZXh0LXdoaXRlIHB4LTEyIHB5LTQgcm91bmRlZC14bCBob3ZlcjpzaGFkb3ctbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCB0cmFuc2Zvcm0gaG92ZXI6c2NhbGUtMTA1IGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOnRyYW5zZm9ybS1ub25lIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgJiYgPExvYWRpbmdTcGlubmVyIHNpemU9XCJtZFwiIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gJ+aPkOS6pOS4rS4uLicgOiAn5o+Q5Lqk5ZWP5Y23J31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g57WQ5p6c5YiG5p6Q57WE5Lu2XG4gICAgICAgIGZ1bmN0aW9uIFJlc3VsdEFuYWx5c2lzKHsgcmVzcG9uc2VJZCB9KSB7XG4gICAgICAgICAgICBjb25zdCB7IHJlc3BvbnNlcywgdmVyc2lvbnMgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBjaGFydFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGJhckNoYXJ0UmVmID0gdXNlUmVmKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW2NoYXJ0c0xvYWRlZCwgc2V0Q2hhcnRzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXNwb25zZXNbcmVzcG9uc2VJZF07XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCBwLThcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi00IHRleHQtZ3JheS0zMDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk05IDEyaDZtLTYgNGg2bTIgNUg3YTIgMiAwIDAxLTItMlY1YTIgMiAwIDAxMi0yaDUuNTg2YTEgMSAwIDAxLjcwNy4yOTNsNS40MTQgNS40MTRhMSAxIDAgMDEuMjkzLjcwN1YxOWEyIDIgMCAwMS0yIDJ6XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW1cIj7mib7kuI3liLDkvZznrZToqJjpjIQ8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdmVyc2lvbnNbcmVzcG9uc2UudmVyc2lvbklkXTtcbiAgICAgICAgICAgIGlmICghdmVyc2lvbikgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgcC04XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCB0ZXh0LWdyYXktMzAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTIgOXYybTAgNGguMDFtLTYuOTM4IDRoMTMuODU2YzEuNTQgMCAyLjUwMi0xLjY2NyAxLjczMi0yLjVMMTMuNzMyIDRjLS43Ny0uODMzLTEuOTY0LS44MzMtMi43MzIgMEwzLjczMiAxNi41Yy0uNzcuODMzLjE5MiAyLjUgMS43MzIgMi41elwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+5om+5LiN5Yiw5ZWP5Y2354mI5pysPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlUmVzdWx0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbnN3ZXJzID0gcmVzcG9uc2UuYW5zd2VycztcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFNjb3JlID0gT2JqZWN0LnZhbHVlcyhhbnN3ZXJzKS5yZWR1Y2UoKHN1bSwgc2NvcmUpID0+IHN1bSArIHNjb3JlLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmdTY29yZSA9IHRvdGFsU2NvcmUgLyBPYmplY3Qua2V5cyhhbnN3ZXJzKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeVNjb3JlcyA9IHt9O1xuICAgICAgICAgICAgICAgIHZlcnNpb24uY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlRdWVzdGlvbnMgPSB2ZXJzaW9uLnF1ZXN0aW9ucy5maWx0ZXIocSA9PiBxLmNhdGVnb3J5SWQgPT09IGNhdGVnb3J5LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5UXVlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5VG90YWwgPSBjYXRlZ29yeVF1ZXN0aW9ucy5yZWR1Y2UoKHN1bSwgcSkgPT4gc3VtICsgKGFuc3dlcnNbcS5pZF0gfHwgMCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTY29yZXNbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNhdGVnb3J5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IGNhdGVnb3J5VG90YWwgLyBjYXRlZ29yeVF1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyB0b3RhbFNjb3JlLCBhdmdTY29yZSwgY2F0ZWdvcnlTY29yZXMgfTtcbiAgICAgICAgICAgIH0sIFtyZXNwb25zZS5hbnN3ZXJzLCB2ZXJzaW9uLmNhdGVnb3JpZXMsIHZlcnNpb24ucXVlc3Rpb25zXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB1c2VNZW1vKCgpID0+IGNhbGN1bGF0ZVJlc3VsdHMoKSwgW2NhbGN1bGF0ZVJlc3VsdHNdKTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0U2NvcmVJbnRlcnByZXRhdGlvbiA9IHVzZUNhbGxiYWNrKChzY29yZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA+PSA1KSByZXR1cm4geyBsZXZlbDogJ+mrmCcsIGNvbG9yOiAndGV4dC1zZWNvbmRhcnknLCBiZ0NvbG9yOiAnYmctc2Vjb25kYXJ5LzEwJywgZGVzY3JpcHRpb246ICfooajnj77lhKrnp4AnIH07XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID49IDMuNSkgcmV0dXJuIHsgbGV2ZWw6ICfkuK0nLCBjb2xvcjogJ3RleHQtd2FybmluZycsIGJnQ29sb3I6ICdiZy13YXJuaW5nLzEwJywgZGVzY3JpcHRpb246ICfooajnj77oia/lpb0nIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbGV2ZWw6ICfkvY4nLCBjb2xvcjogJ3RleHQtZGFuZ2VyJywgYmdDb2xvcjogJ2JnLWRhbmdlci8xMCcsIGRlc2NyaXB0aW9uOiAn6ZyA6KaB5pS55ZaEJyB9O1xuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICAvLyDnuaroo73pm7fpgZTlnJZcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0UmVmLmN1cnJlbnQgJiYgIWNoYXJ0c0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjaGFydFJlZi5jdXJyZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbDFDYXRlZ29yaWVzID0gT2JqZWN0LnZhbHVlcyhyZXN1bHRzLmNhdGVnb3J5U2NvcmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjYXQgPT4gY2F0LmxldmVsID09PSAxKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwxQ2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2hhcnQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JhZGFyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogbGV2ZWwxQ2F0ZWdvcmllcy5tYXAoY2F0ID0+IGNhdC5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+WIhuaVuCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBsZXZlbDFDYXRlZ29yaWVzLm1hcChjYXQgPT4gY2F0LnNjb3JlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTksIDEzMCwgMjQ2LCAwLjEpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzNCODJGNicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludEJhY2tncm91bmRDb2xvcjogJyMzQjgyRjYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRCb3JkZXJDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiAnIzNCODJGNicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50UmFkaXVzOiA2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRIb3ZlclJhZGl1czogOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogJ05vdG8gU2FucyBUQycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAxNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogJ05vdG8gU2FucyBUQydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRMYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiAnTm90byBTYW5zIFRDJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDEyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFydCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW3Jlc3VsdHMsIGNoYXJ0c0xvYWRlZF0pO1xuXG4gICAgICAgICAgICAvLyDnuaroo73plbfmop3lnJZcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGJhckNoYXJ0UmVmLmN1cnJlbnQgJiYgIWNoYXJ0c0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBiYXJDaGFydFJlZi5jdXJyZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbDRDYXRlZ29yaWVzID0gT2JqZWN0LnZhbHVlcyhyZXN1bHRzLmNhdGVnb3J5U2NvcmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjYXQgPT4gY2F0LmxldmVsID09PSA0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWw0Q2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2hhcnQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IGxldmVsNENhdGVnb3JpZXMubWFwKGNhdCA9PiBjYXQubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflubPlnYfliIbmlbgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbGV2ZWw0Q2F0ZWdvcmllcy5tYXAoY2F0ID0+IGNhdC5zY29yZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGxldmVsNENhdGVnb3JpZXMubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnIzEwQjk4MScsICcjM0I4MkY2JywgJyM4QjVDRjYnLCAnI0Y1OUUwQicsICcjRUY0NDQ0J107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1tpbmRleCAlIGNvbG9ycy5sZW5ndGhdICsgJzgwJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGxldmVsNENhdGVnb3JpZXMubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnIzEwQjk4MScsICcjM0I4MkY2JywgJyM4QjVDRjYnLCAnI0Y1OUUwQicsICcjRUY0NDQ0J107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1tpbmRleCAlIGNvbG9ycy5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclNraXBwZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiAnTm90byBTYW5zIFRDJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDE0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6ICdOb3RvIFNhbnMgVEMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogJ05vdG8gU2FucyBUQycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2hhcnRzTG9hZGVkKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFtyZXN1bHRzLCBjaGFydHNMb2FkZWRdKTtcblxuICAgICAgICAgICAgY29uc3QgZXhwb3J0UERGID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsganNQREYgfSA9IHdpbmRvdy5qc3BkZjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gbmV3IGpzUERGKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyDoqK3lrprkuK3mloflrZfpq5TvvIjlpoLmnpzlj6/nlKjvvIlcbiAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnQoJ2hlbHZldGljYScpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQoJ1NwaXJpdHVhbCBTdXJ2ZXkgQW5hbHlzaXMgUmVwb3J0JywgMjAsIDIwKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQoYFRvdGFsIFNjb3JlOiAke3Jlc3VsdHMudG90YWxTY29yZS50b0ZpeGVkKDEpfWAsIDIwLCA0MCk7XG4gICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KGBBdmVyYWdlIFNjb3JlOiAke3Jlc3VsdHMuYXZnU2NvcmUudG9GaXhlZCgyKX1gLCAyMCwgNTApO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSA3MDtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhyZXN1bHRzLmNhdGVnb3J5U2NvcmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjYXQgPT4gY2F0LmxldmVsID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goY2F0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnByZXRhdGlvbiA9IGdldFNjb3JlSW50ZXJwcmV0YXRpb24oY2F0LnNjb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MudGV4dChgJHtjYXQubmFtZX06ICR7Y2F0LnNjb3JlLnRvRml4ZWQoMil9ICgke2ludGVycHJldGF0aW9uLmxldmVsfSlgLCAyMCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSArPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvYy5zYXZlKCdzcGlyaXR1YWwtc3VydmV5LWFuYWx5c2lzLnBkZicpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BERiBleHBvcnQgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1BERiDljK/lh7rlpLHmlZfvvIzoq4vnqI3lvozlho3oqaYnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBbcmVzdWx0cywgZ2V0U2NvcmVJbnRlcnByZXRhdGlvbl0pO1xuXG4gICAgICAgICAgICBjb25zdCBleHBvcnRFeGNlbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YiA9IFhMU1gudXRpbHMuYm9va19uZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuc3dlcnNEYXRhID0gdmVyc2lvbi5xdWVzdGlvbnMubWFwKHEgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIOmhjOebrjogcS50ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAg5YiG5pW4OiByZXNwb25zZS5hbnN3ZXJzW3EuaWRdIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3MxID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFuc3dlcnNEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3Yiwgd3MxLCAn5Y6f5aeL562U5qGIJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmFseXNpc0RhdGEgPSBPYmplY3QudmFsdWVzKHJlc3VsdHMuY2F0ZWdvcnlTY29yZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGNhdCA9PiBjYXQubGV2ZWwgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGNhdCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWIhumhnjogY2F0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg5bmz5Z2H5YiG5pW4OiBjYXQuc2NvcmUudG9GaXhlZCgyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDnrYnntJo6IGdldFNjb3JlSW50ZXJwcmV0YXRpb24oY2F0LnNjb3JlKS5sZXZlbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3MyID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFuYWx5c2lzRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod2IsIHdzMiwgJ+WIhuaekOe1kOaenCcpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgWExTWC53cml0ZUZpbGUod2IsICdzcGlyaXR1YWwtc3VydmV5LXJlc3VsdHMueGxzeCcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V4Y2VsIGV4cG9ydCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnRXhjZWwg5Yyv5Ye65aSx5pWX77yM6KuL56iN5b6M5YaN6KmmJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW3ZlcnNpb24ucXVlc3Rpb25zLCByZXNwb25zZS5hbnN3ZXJzLCByZXN1bHRzLmNhdGVnb3J5U2NvcmVzLCBnZXRTY29yZUludGVycHJldGF0aW9uXSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IHNtOmp1c3RpZnktYmV0d2VlbiBzbTppdGVtcy1jZW50ZXIgbWItOCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMlwiPuWIhuaekOe1kOaenDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPuaCqOeahOmdiOaAp+S/rumkiuWVj+WNt+WujOaVtOWIhuaekOWgseWRijwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC0zIG5vLXByaW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtleHBvcnRQREZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWRhbmdlciB0ZXh0LXdoaXRlIHB4LTYgcHktMyByb3VuZGVkLXhsIGhvdmVyOmJnLWRhbmdlci85MCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbW9iaWxlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEyIDEwdjZtMCAwbC0zLTNtMyAzbDMtM20yIDhIN2EyIDIgMCAwMS0yLTJWNWEyIDIgMCAwMTItMmg1LjU4NmExIDEgMCAwMS43MDcuMjkzbDUuNDE0IDUuNDE0YTEgMSAwIDAxLjI5My43MDdWMTlhMiAyIDAgMDEtMiAyelwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWMr+WHulBERlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtleHBvcnRFeGNlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctc2Vjb25kYXJ5IHRleHQtd2hpdGUgcHgtNiBweS0zIHJvdW5kZWQteGwgaG92ZXI6Ymctc2Vjb25kYXJ5LzkwIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtb2JpbGUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSAxN3YtMm0zIDJ2LTRtMyA0di02bTIgMTBIN2EyIDIgMCAwMS0yLTJWNWEyIDIgMCAwMTItMmg1LjU4NmExIDEgMCAwMS43MDcuMjkzbDUuNDE0IDUuNDE0YTEgMSAwIDAxLjI5My43MDdWMTlhMiAyIDAgMDEtMiAyelwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWMr+WHukV4Y2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTYgbWItOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLXByaW1hcnkvMTAgdG8tcHJpbWFyeS81IHAtNiByb3VuZGVkLXhsIHRleHQtY2VudGVyIGJvcmRlciBib3JkZXItcHJpbWFyeS8yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5IG1iLTJcIj7nuL3liIY8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnlcIj57cmVzdWx0cy50b3RhbFNjb3JlLnRvRml4ZWQoMSl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xXCI+5ru/5YiGIHt2ZXJzaW9uLnF1ZXN0aW9ucy5sZW5ndGggKiA2fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLXNlY29uZGFyeS8xMCB0by1zZWNvbmRhcnkvNSBwLTYgcm91bmRlZC14bCB0ZXh0LWNlbnRlciBib3JkZXIgYm9yZGVyLXNlY29uZGFyeS8yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1zZWNvbmRhcnkgbWItMlwiPuW5s+Wdh+WIhjwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtc2Vjb25kYXJ5XCI+e3Jlc3VsdHMuYXZnU2NvcmUudG9GaXhlZCgyKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTFcIj7mu7/liIYgNi4wPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLWJyIGZyb20tYWNjZW50LzEwIHRvLWFjY2VudC81IHAtNiByb3VuZGVkLXhsIHRleHQtY2VudGVyIGJvcmRlciBib3JkZXItYWNjZW50LzIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWFjY2VudCBtYi0yXCI+5pW06auU6KmV5YO5PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LTJ4bCBmb250LWJvbGQgJHtnZXRTY29yZUludGVycHJldGF0aW9uKHJlc3VsdHMuYXZnU2NvcmUpLmNvbG9yfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0U2NvcmVJbnRlcnByZXRhdGlvbihyZXN1bHRzLmF2Z1Njb3JlKS5sZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTFcIj57Z2V0U2NvcmVJbnRlcnByZXRhdGlvbihyZXN1bHRzLmF2Z1Njb3JlKS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC04IG1iLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhcnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtZ3JheS04MDBcIj7lm5vlpKfpnaLlkJHpm7fpgZTlnJY8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC04MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2FudmFzIHJlZj17Y2hhcnRSZWZ9PjwvY2FudmFzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXJ0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LWdyYXktODAwXCI+5a+m6LiQ6aCF55uu5YiG5pW4PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtODBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyByZWY9e2JhckNoYXJ0UmVmfT48L2NhbnZhcz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi02IHRleHQtZ3JheS04MDBcIj7oqbPntLDliIbmnpA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LnZhbHVlcyhyZXN1bHRzLmNhdGVnb3J5U2NvcmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGNhdCA9PiBjYXQubGV2ZWwgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoY2F0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVycHJldGF0aW9uID0gZ2V0U2NvcmVJbnRlcnByZXRhdGlvbihjYXQuc2NvcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y2F0Lm5hbWV9IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgc206anVzdGlmeS1iZXR3ZWVuIHNtOml0ZW1zLWNlbnRlciBwLTQgYmctZ3JheS01MCByb3VuZGVkLXhsIGdhcC0zIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+e2NhdC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPntjYXQuc2NvcmUudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW0gJHtpbnRlcnByZXRhdGlvbi5jb2xvcn0gJHtpbnRlcnByZXRhdGlvbi5iZ0NvbG9yfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbnRlcnByZXRhdGlvbi5sZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDllY/ljbfpoIHpnaJcbiAgICAgICAgZnVuY3Rpb24gU3VydmV5UGFnZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgXG4gICAgICAgICAgICAgICAgY3VycmVudFZlcnNpb25JZCwgXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VzLCBcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZXMsIFxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlIFxuICAgICAgICAgICAgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IFtjdXJyZW50UmVzcG9uc2VJZCwgc2V0Q3VycmVudFJlc3BvbnNlSWRdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVN1cnZleVN1Ym1pdCA9IHVzZUNhbGxiYWNrKChhbnN3ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VJZCA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25JZDogY3VycmVudFZlcnNpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgYW5zd2VyczogYW5zd2VycyxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtyZXNwb25zZUlkXTogcmVzcG9uc2UgfSkpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRSZXNwb25zZUlkKHJlc3BvbnNlSWQpO1xuICAgICAgICAgICAgfSwgW2N1cnJlbnRWZXJzaW9uSWQsIHNldFJlc3BvbnNlc10pO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgcC0yIHNtOnAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgc206anVzdGlmeS1iZXR3ZWVuIHNtOml0ZW1zLWNlbnRlciBtYi02IGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIHNtOnRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmdiOaAp+S/rumkiuWVj+WNt1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+6KuL5LuU57Sw6Zax6K6A5q+P5YCL6aGM55uu77yM5Lim6YG45pOH5pyA56ym5ZCI5oKo5oOF5rOB55qE6YG46aCFPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFBhZ2UoJ2VkaXRvcicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTUwMCB0ZXh0LXdoaXRlIHB4LTYgcHktMyByb3VuZGVkLXhsIGhvdmVyOmJnLWdyYXktNjAwIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtb2JpbGUtYnV0dG9uIG5vLXByaW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTAgMTlsLTctN20wIDBsNy03bS03IDdoMThcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDov5Tlm57nt6jovK9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHshY3VycmVudFJlc3BvbnNlSWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN1cnZleUZvcm0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25JZD17Y3VycmVudFZlcnNpb25JZH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdXJ2ZXlTdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlc3VsdEFuYWx5c2lzIHJlc3BvbnNlSWQ9e2N1cnJlbnRSZXNwb25zZUlkfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5Li75oeJ55So56iL5byPXG4gICAgICAgIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY3VycmVudFBhZ2UsIGlzTG9hZGluZyB9ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZ1NwaW5uZXIgc2l6ZT1cImxnXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtZ3JheS02MDBcIj7ovInlhaXkuK0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFBhZ2UgPT09ICdlZGl0b3InICYmIDxFZGl0b3JQYWdlIC8+fVxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFBhZ2UgPT09ICdzdXJ2ZXknICYmIDxTdXJ2ZXlQYWdlIC8+fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOa4suafk+aHieeUqOeoi+W8j1xuICAgICAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgICAgICA8QXBwUHJvdmlkZXI+XG4gICAgICAgICAgICAgICAgPEFwcCAvPlxuICAgICAgICAgICAgPC9BcHBQcm92aWRlcj4sXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpXG4gICAgICAgICk7XG4gICAgIl0sIm1hcHBpbmdzIjoiOzs7MEJBQ0EsdUtBQUFBLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLHdCQUFBQyxNQUFBLEdBQUFBLE1BQUEsT0FBQUMsQ0FBQSxHQUFBRixDQUFBLENBQUFHLFFBQUEsa0JBQUFDLENBQUEsR0FBQUosQ0FBQSxDQUFBSyxXQUFBLDhCQUFBQyxFQUFBTixDQUFBLEVBQUFFLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLFFBQUFDLENBQUEsR0FBQUwsQ0FBQSxJQUFBQSxDQUFBLENBQUFNLFNBQUEsWUFBQUMsU0FBQSxHQUFBUCxDQUFBLEdBQUFPLFNBQUEsRUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLE1BQUEsQ0FBQUwsQ0FBQSxDQUFBQyxTQUFBLFVBQUFLLG1CQUFBLENBQUFILENBQUEsdUJBQUFWLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLFFBQUFFLENBQUEsRUFBQUMsQ0FBQSxFQUFBRyxDQUFBLEVBQUFJLENBQUEsTUFBQUMsQ0FBQSxHQUFBWCxDQUFBLFFBQUFZLENBQUEsT0FBQUMsQ0FBQSxLQUFBRixDQUFBLEtBQUFiLENBQUEsS0FBQWdCLENBQUEsRUFBQXBCLENBQUEsRUFBQXFCLENBQUEsRUFBQUMsQ0FBQSxFQUFBTixDQUFBLEVBQUFNLENBQUEsQ0FBQUMsSUFBQSxDQUFBdkIsQ0FBQSxNQUFBc0IsQ0FBQSxXQUFBQSxFQUFBckIsQ0FBQSxFQUFBQyxDQUFBLFdBQUFN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QUFFLElBQUk7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQyxFQUM1RDtFQUFFSCxFQUFFLEVBQUUsQ0FBQztFQUFFZCxJQUFJLEVBQUUsUUFBUTtFQUFFZSxLQUFLLEVBQUUsQ0FBQztFQUFFQyxRQUFRLEVBQUUsSUFBSTtFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDO0FBRTdEO0FBQ0E7RUFBRUgsRUFBRSxFQUFFLEVBQUU7RUFBRWQsSUFBSSxFQUFFLE1BQU07RUFBRWUsS0FBSyxFQUFFLENBQUM7RUFBRUMsUUFBUSxFQUFFLENBQUM7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQyxFQUN6RDtFQUFFSCxFQUFFLEVBQUUsRUFBRTtFQUFFZCxJQUFJLEVBQUUsTUFBTTtFQUFFZSxLQUFLLEVBQUUsQ0FBQztFQUFFQyxRQUFRLEVBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDLEVBQ3pEO0VBQUVILEVBQUUsRUFBRSxFQUFFO0VBQUVkLElBQUksRUFBRSxNQUFNO0VBQUVlLEtBQUssRUFBRSxDQUFDO0VBQUVDLFFBQVEsRUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDekQ7RUFBRUgsRUFBRSxFQUFFLEVBQUU7RUFBRWQsSUFBSSxFQUFFLE1BQU07RUFBRWUsS0FBSyxFQUFFLENBQUM7RUFBRUMsUUFBUSxFQUFFLENBQUM7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQyxFQUN6RDtFQUFFSCxFQUFFLEVBQUUsRUFBRTtFQUFFZCxJQUFJLEVBQUUsT0FBTztFQUFFZSxLQUFLLEVBQUUsQ0FBQztFQUFFQyxRQUFRLEVBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDLEVBQzFEO0VBQUVILEVBQUUsRUFBRSxFQUFFO0VBQUVkLElBQUksRUFBRSxTQUFTO0VBQUVlLEtBQUssRUFBRSxDQUFDO0VBQUVDLFFBQVEsRUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDNUQ7RUFBRUgsRUFBRSxFQUFFLEVBQUU7RUFBRWQsSUFBSSxFQUFFLFdBQVc7RUFBRWUsS0FBSyxFQUFFLENBQUM7RUFBRUMsUUFBUSxFQUFFLENBQUM7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQztBQUU5RDtBQUNBO0VBQUVILEVBQUUsRUFBRSxFQUFFO0VBQUVkLElBQUksRUFBRSxNQUFNO0VBQUVlLEtBQUssRUFBRSxDQUFDO0VBQUVDLFFBQVEsRUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDekQ7RUFBRUgsRUFBRSxFQUFFLEVBQUU7RUFBRWQsSUFBSSxFQUFFLFdBQVc7RUFBRWUsS0FBSyxFQUFFLENBQUM7RUFBRUMsUUFBUSxFQUFFLENBQUM7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQyxFQUM5RDtFQUFFSCxFQUFFLEVBQUUsRUFBRTtFQUFFZCxJQUFJLEVBQUUsT0FBTztFQUFFZSxLQUFLLEVBQUUsQ0FBQztFQUFFQyxRQUFRLEVBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDLEVBQzFEO0VBQUVILEVBQUUsRUFBRSxFQUFFO0VBQUVkLElBQUksRUFBRSxNQUFNO0VBQUVlLEtBQUssRUFBRSxDQUFDO0VBQUVDLFFBQVEsRUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDekQ7RUFBRUgsRUFBRSxFQUFFLEVBQUU7RUFBRWQsSUFBSSxFQUFFLE9BQU87RUFBRWUsS0FBSyxFQUFFLENBQUM7RUFBRUMsUUFBUSxFQUFFLENBQUM7RUFBRUMsS0FBSyxFQUFFO0FBQUUsQ0FBQyxFQUMxRDtFQUFFSCxFQUFFLEVBQUUsRUFBRTtFQUFFZCxJQUFJLEVBQUUsT0FBTztFQUFFZSxLQUFLLEVBQUUsQ0FBQztFQUFFQyxRQUFRLEVBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7QUFBRSxDQUFDLEVBQzFEO0VBQUVILEVBQUUsRUFBRSxFQUFFO0VBQUVkLElBQUksRUFBRSxTQUFTO0VBQUVlLEtBQUssRUFBRSxDQUFDO0VBQUVDLFFBQVEsRUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtBQUFFLENBQUMsRUFDNUQ7RUFBRUgsRUFB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</script></head>
<body class="bg-gray-50">
    <div id="root"><div><div class="min-h-screen bg-gray-50 p-2 sm:p-4"><div class="max-w-full mx-auto"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4"><div><h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">靈性修養問卷編輯系統</h1><p class="text-gray-600">建立、管理和預覽您的靈性修養問卷</p></div><div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3"><button class="bg-primary text-white px-6 py-3 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mobile-button disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg>儲存分類/題目</button><button class="bg-secondary text-white px-6 py-3 rounded-xl hover:bg-secondary/90 font-medium transition-all duration-200 mobile-button"><span class="flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>生成問卷</span></button></div></div><div class="grid grid-cols-1 2xl:grid-cols-2 gap-6 min-h-[calc(100vh-200px)]"><div><div class="flex flex-col xl:flex-row gap-4 h-full"><div class="xl:hidden"><button class="w-full flex items-center justify-center gap-2 bg-primary text-white px-4 py-3 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mb-4"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>分類管理</button><div class="drawer-overlay "></div><div class="drawer "><div class="p-4 border-b"><div class="flex items-center justify-between"><h3 class="font-semibold text-gray-800">分類結構</h3><button class="w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg" aria-label="關閉"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div><div class="p-4"><button class="w-full flex items-center justify-center gap-2 bg-secondary text-white px-4 py-3 rounded-xl hover:bg-secondary/90 text-sm font-medium transition-all duration-200 mb-4"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>新增分類</button><div class="space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><button class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="收合"><svg class="w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">靈性修養七面向</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">0題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div><div class="ml-2 mt-1 space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：起心動念</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：後設思考</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：意義追尋</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：人際靈修</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：物質與環境</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：與超越者的連結</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：生活形態與全人健康</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><button class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="收合"><svg class="w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">靈性健康十核心指標</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">10題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div><div class="ml-2 mt-1 space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：人格統整</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：追求真理的後設反思</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：意義與目的</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：愛與同理</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：寬恕與和解</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：感恩與喜樂</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：財物倫理與靈修</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：敬畏與連結</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：信仰與連結（宗教性）</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：宗教信仰與靈性修養（宗教性）</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><button class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="收合"><svg class="w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">靈修七原則</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">0題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div><div class="ml-2 mt-1 space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則一：在每一個人身上看見神、看見佛、看見人</span><span class="tooltip-text">原則一：在每一個人身上看見神、看見佛、看見人</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則二：第一個去愛、第一個去給</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則三：給人信心、給人希望、給人歡喜、給人方便</span><span class="tooltip-text">原則三：給人信心、給人希望、給人歡喜、給人方便</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩</span><span class="tooltip-text">原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則五：連結神聖、追求意義、擇善固執、不變隨緣</span><span class="tooltip-text">原則五：連結神聖、追求意義、擇善固執、不變隨緣</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則六：役物不役於物，惜物厚生濟世</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則七：誠意正心、戒慎恐懼、後設反思、開放公正</span><span class="tooltip-text">原則七：誠意正心、戒慎恐懼、後設反思、開放公正</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">日常靈修實踐</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">0題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div></div></div><div class="hidden xl:block w-full xl:w-2/5"><div class="category-tree border rounded-xl bg-white p-4 shadow-sm"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3"><div><h3 class="font-semibold text-gray-800 text-lg mb-1">分類結構</h3><p class="text-xs text-gray-500">四層分類結構：靈性修養面向 → 核心指標 → 靈修原則 → 日常實踐</p></div><button class="flex items-center gap-2 bg-secondary text-white px-4 py-2 rounded-xl hover:bg-secondary/90 text-sm font-medium transition-all duration-200 mobile-button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>新增分類</button></div><div class="space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><button class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="收合"><svg class="w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">靈性修養七面向</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">0題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div><div class="ml-2 mt-1 space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：起心動念</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：後設思考</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：意義追尋</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：人際靈修</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：物質與環境</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：與超越者的連結</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">面向：生活形態與全人健康</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><button class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="收合"><svg class="w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">靈性健康十核心指標</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">10題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div><div class="ml-2 mt-1 space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：人格統整</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：追求真理的後設反思</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：意義與目的</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：愛與同理</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：寬恕與和解</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：感恩與喜樂</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：財物倫理與靈修</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：敬畏與連結</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：信仰與連結（宗教性）</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">指標：宗教信仰與靈性修養（宗教性）</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><button class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="收合"><svg class="w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">靈修七原則</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">0題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div><div class="ml-2 mt-1 space-y-1"><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則一：在每一個人身上看見神、看見佛、看見人</span><span class="tooltip-text">原則一：在每一個人身上看見神、看見佛、看見人</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則二：第一個去愛、第一個去給</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則三：給人信心、給人希望、給人歡喜、給人方便</span><span class="tooltip-text">原則三：給人信心、給人希望、給人歡喜、給人方便</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩</span><span class="tooltip-text">原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則五：連結神聖、追求意義、擇善固執、不變隨緣</span><span class="tooltip-text">原則五：連結神聖、追求意義、擇善固執、不變隨緣</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則六：役物不役於物，惜物厚生濟世</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 32px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">原則七：誠意正心、戒慎恐懼、後設反思、開放公正</span><span class="tooltip-text">原則七：誠意正心、戒慎恐懼、後設反思、開放公正</span></div></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div><div class="select-none slide-in"><div class="category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 border border-transparent" style="padding-left: 12px;"><div class="flex items-center mr-3 mt-1"><div class="w-6 h-6 flex items-center justify-center"><div class="w-2 h-2 bg-gray-300 rounded-full"></div></div></div><div class="flex-1 min-w-0 mr-3"><div class="flex flex-col"><div class="tooltip"><span class="category-name text-sm font-medium text-gray-800 block">日常靈修實踐</span></div><span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">0題</span></div></div><div class="action-buttons flex items-center space-x-1 mt-1"><button class="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip" aria-label="新增子分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg><span class="tooltip-text">新增子分類</span></button><button class="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip" aria-label="編輯分類名稱"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span class="tooltip-text">編輯分類名稱</span></button><button class="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip" aria-label="刪除分類"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg><span class="tooltip-text">刪除分類</span></button></div></div></div></div></div></div><div class="w-full xl:w-3/5"><div class="bg-white rounded-xl p-4 shadow-sm mb-4"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">關鍵字搜尋</label><div class="relative"><input type="text" placeholder="搜尋題目內容..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing" value=""><svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div></div><div><label class="block text-sm font-medium text-gray-700 mb-2">分類篩選</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"><option value="">所有分類</option><option value="1">靈性修養七面向</option><option value="11">　面向：起心動念</option><option value="12">　面向：後設思考</option><option value="13">　面向：意義追尋</option><option value="14">　面向：人際靈修</option><option value="15">　面向：物質與環境</option><option value="16">　面向：與超越者的連結</option><option value="17">　面向：生活形態與全人健康</option><option value="2">靈性健康十核心指標</option><option value="21">　指標：人格統整</option><option value="22">　指標：追求真理的後設反思</option><option value="23">　指標：意義與目的</option><option value="24">　指標：愛與同理</option><option value="25">　指標：寬恕與和解</option><option value="26">　指標：感恩與喜樂</option><option value="27">　指標：財物倫理與靈修</option><option value="28">　指標：敬畏與連結</option><option value="29">　指標：信仰與連結（宗教性）</option><option value="30">　指標：宗教信仰與靈性修養（宗教性）</option><option value="3">靈修七原則</option><option value="31">　原則一：在每一個人身上看見神、看見佛、看見人</option><option value="32">　原則二：第一個去愛、第一個去給</option><option value="33">　原則三：給人信心、給人希望、給人歡喜、給人方便</option><option value="34">　原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩</option><option value="35">　原則五：連結神聖、追求意義、擇善固執、不變隨緣</option><option value="36">　原則六：役物不役於物，惜物厚生濟世</option><option value="37">　原則七：誠意正心、戒慎恐懼、後設反思、開放公正</option><option value="4">日常靈修實踐</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">宗教專屬</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"><option value="all">全部</option><option value="religious">僅宗教專屬</option><option value="general">僅一般題目</option></select></div></div></div><div class="bg-white rounded-xl p-4 shadow-sm"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3"><div class="flex flex-col sm:flex-row sm:items-center gap-3"><h3 class="font-semibold text-gray-800 text-lg">題目管理</h3><button class="px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 mobile-button bg-accent text-white">所有題庫</button></div><button class="bg-primary text-white px-4 py-2 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mobile-button">新增題目</button></div><div class="mb-3 text-sm text-gray-600"><span>顯示 10 / 10 題</span></div><div class="space-y-3 max-h-96 overflow-y-auto"><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">當面對與自己不同的觀點時，我能保持開放的態度去理解。 </p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：意義與目的</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 2</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我對自己的人生方向有明確的感受。 </p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：追求真理的後設反思</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 3</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我能真誠地關懷他人的處境與感受。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：愛與同理</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 4</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">當我犯錯時，我有勇氣向他人道歉。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：寬恕與和解</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 5</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我時常為生活中擁有的一切感到感恩。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：感恩與喜樂</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 6</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我努力做到珍惜資源，避免不必要的浪費。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：財物倫理與靈修</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 7</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">面對壯麗的自然景觀時，我會感到敬畏。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：敬畏與連結</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 8</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我相信有一個超越性的力量（如上帝、道、宇宙法則等）存在。 </p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：信仰與連結（宗教性）</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full font-medium">宗教專屬</span><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 9</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我的信仰幫助我成為一個更有智慧與慈悲的人。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：宗教信仰與靈性修養（宗教性）</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full font-medium">宗教專屬</span><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 11</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="question-item border rounded-xl p-4 transition-all duration-300  " draggable="true"><div><div class="flex items-start gap-3"><input type="checkbox" class="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"><div class="flex-1"><p class="text-sm font-medium text-gray-800 mb-2">我能清楚地意識到自己內心的念頭與情緒變化。</p><p class="text-xs text-gray-500 break-words mb-2">靈性健康十核心指標 &gt; 指標：人格統整</p><div class="flex flex-wrap gap-2"><span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">順序: 13</span></div></div><div class="flex gap-2"><button class="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200" aria-label="編輯題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200" aria-label="刪除題目"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div></div></div></div></div></div><div><div class="bg-white rounded-xl p-4 shadow-sm"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-3"><h3 class="font-semibold text-gray-800 text-lg">問卷預覽</h3><button class="px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 mobile-button bg-gray-100 text-gray-700 hover:bg-gray-200"><span class="flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>隨機排序</span></button></div><div class="space-y-4 max-h-96 overflow-y-auto"><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">1. 當面對與自己不同的觀點時，我能保持開放的態度去理解。 </span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：意義與目的</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-20" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-20" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-20" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-20" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-20" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-20" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">2. 我對自己的人生方向有明確的感受。 </span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：追求真理的後設反思</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-21" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-21" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-21" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-21" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-21" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-21" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">3. 我能真誠地關懷他人的處境與感受。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：愛與同理</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-22" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-22" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-22" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-22" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-22" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-22" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">4. 當我犯錯時，我有勇氣向他人道歉。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：寬恕與和解</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-23" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-23" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-23" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-23" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-23" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-23" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">5. 我時常為生活中擁有的一切感到感恩。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：感恩與喜樂</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-24" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-24" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-24" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-24" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-24" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-24" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">6. 我努力做到珍惜資源，避免不必要的浪費。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：財物倫理與靈修</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-25" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-25" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-25" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-25" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-25" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-25" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">7. 面對壯麗的自然景觀時，我會感到敬畏。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：敬畏與連結</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-26" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-26" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-26" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-26" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-26" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-26" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">8. 我相信有一個超越性的力量（如上帝、道、宇宙法則等）存在。 </span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：信仰與連結（宗教性）</p><span class="inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full mt-2 font-medium">宗教專屬</span></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-27" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-27" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-27" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-27" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-27" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-27" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">9. 我的信仰幫助我成為一個更有智慧與慈悲的人。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：宗教信仰與靈性修養（宗教性）</p><span class="inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full mt-2 font-medium">宗教專屬</span></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-29" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-29" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-29" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-29" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-29" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-29" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div><div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300"><div class="mb-4"><span class="text-sm font-medium text-gray-800">10. 我能清楚地意識到自己內心的念頭與情緒變化。</span><p class="text-xs text-gray-500 mt-2 break-words">靈性健康十核心指標 &gt; 指標：人格統整</p></div><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2"><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-19" disabled="" class="mb-2 w-4 h-4" value="1"><span class="text-sm font-semibold text-primary">1</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-19" disabled="" class="mb-2 w-4 h-4" value="2"><span class="text-sm font-semibold text-primary">2</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很不符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-19" disabled="" class="mb-2 w-4 h-4" value="3"><span class="text-sm font-semibold text-primary">3</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">不太符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-19" disabled="" class="mb-2 w-4 h-4" value="4"><span class="text-sm font-semibold text-primary">4</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">有點符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-19" disabled="" class="mb-2 w-4 h-4" value="5"><span class="text-sm font-semibold text-primary">5</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">很符合</span></label><label class="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors"><input type="radio" name="preview-19" disabled="" class="mb-2 w-4 h-4" value="6"><span class="text-sm font-semibold text-primary">6</span><span class="text-xs text-gray-500 text-center mt-1 leading-tight">完全符合</span></label></div></div></div></div></div></div></div></div></div></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext, useMemo, useCallback } = React;

        // 全域狀態管理
        const AppContext = createContext();

        // 初始分類資料
        const initialCategories = [
            // 第一層：四大主分類
            { id: 1, name: '靈性修養七面向', level: 1, parentId: null, order: 1 },
            { id: 2, name: '靈性健康十核心指標', level: 1, parentId: null, order: 2 },
            { id: 3, name: '靈修七原則', level: 1, parentId: null, order: 3 },
            { id: 4, name: '日常靈修實踐', level: 1, parentId: null, order: 4 },
            
            // 第二層：靈性修養七面向
            { id: 11, name: '起心動念', level: 2, parentId: 1, order: 1 },
            { id: 12, name: '後設思考', level: 2, parentId: 1, order: 2 },
            { id: 13, name: '意義追尋', level: 2, parentId: 1, order: 3 },
            { id: 14, name: '人際靈修', level: 2, parentId: 1, order: 4 },
            { id: 15, name: '物質與環境', level: 2, parentId: 1, order: 5 },
            { id: 16, name: '與超越者的連結', level: 2, parentId: 1, order: 6 },
            { id: 17, name: '生活形態與全人健康', level: 2, parentId: 1, order: 7 },
            
            // 第二層：靈性健康十核心指標
            { id: 21, name: '人格統整', level: 2, parentId: 2, order: 1 },
            { id: 22, name: '追求真理的後設反思', level: 2, parentId: 2, order: 2 },
            { id: 23, name: '意義與目的', level: 2, parentId: 2, order: 3 },
            { id: 24, name: '愛與同理', level: 2, parentId: 2, order: 4 },
            { id: 25, name: '寬恕與和解', level: 2, parentId: 2, order: 5 },
            { id: 26, name: '感恩與喜樂', level: 2, parentId: 2, order: 6 },
            { id: 27, name: '財物倫理與靈修', level: 2, parentId: 2, order: 7 },
            { id: 28, name: '敬畏與連結', level: 2, parentId: 2, order: 8 },
            { id: 29, name: '信仰與連結（宗教性）', level: 2, parentId: 2, order: 9 },
            { id: 30, name: '宗教信仰與靈性修養（宗教性）', level: 2, parentId: 2, order: 10 },
            
            // 第二層：靈修七原則
            { id: 31, name: '原則一：在每一個人身上看見神、看見佛、看見人', level: 2, parentId: 3, order: 1 },
            { id: 32, name: '原則二：第一個去愛、第一個去給', level: 2, parentId: 3, order: 2 },
            { id: 33, name: '原則三：給人信心、給人希望、給人歡喜、給人方便', level: 2, parentId: 3, order: 3 },
            { id: 34, name: '原則四：緩於發怒、敏於寬恕、勇於道歉、時時感恩', level: 2, parentId: 3, order: 4 },
            { id: 35, name: '原則五：連結神聖、追求意義、擇善固執、不變隨緣', level: 2, parentId: 3, order: 5 },
            { id: 36, name: '原則六：役物不役於物，惜物厚生濟世', level: 2, parentId: 3, order: 6 },
            { id: 37, name: '原則七：誠意正心、戒慎恐懼、後設反思、開放公正', level: 2, parentId: 3, order: 7 },
            
            // 第三層和第四層示例
            { id: 111, name: '正念覺察', level: 3, parentId: 11, order: 1 },
            { id: 112, name: '情緒調節', level: 3, parentId: 11, order: 2 },
            { id: 1111, name: '呼吸覺察練習', level: 4, parentId: 111, order: 1 },
            { id: 1112, name: '身體掃描', level: 4, parentId: 111, order: 2 },
            { id: 1121, name: '情緒識別技巧', level: 4, parentId: 112, order: 1 },
            { id: 1122, name: '情緒轉化方法', level: 4, parentId: 112, order: 2 },
        ];

        // 初始題目資料
        const initialQuestions = [
            { id: 1, text: '我能覺察自己的起心動念', categoryId: 1111, isReligiousOnly: false, order: 1 },
            { id: 2, text: '我會定期進行呼吸覺察練習', categoryId: 1111, isReligiousOnly: false, order: 2 },
            { id: 3, text: '我能透過身體掃描了解內在狀態', categoryId: 1112, isReligiousOnly: false, order: 3 },
            { id: 4, text: '我能準確識別自己的情緒狀態', categoryId: 1121, isReligiousOnly: false, order: 4 },
            { id: 5, text: '我具備將負面情緒轉化為正面能量的能力', categoryId: 1122, isReligiousOnly: false, order: 5 },
            { id: 6, text: '我會反思自己的思考模式', categoryId: 112, isReligiousOnly: false, order: 6 },
            { id: 7, text: '我能在人際關係中實踐愛與給予', categoryId: 32, isReligiousOnly: false, order: 7 },
            { id: 8, text: '我會定期進行宗教儀式', categoryId: 29, isReligiousOnly: true, order: 8 },
            { id: 9, text: '我能在困難時保持感恩的心', categoryId: 26, isReligiousOnly: false, order: 9 },
            { id: 10, text: '我會主動寬恕傷害我的人', categoryId: 25, isReligiousOnly: false, order: 10 },
            { id: 11, text: '我能在日常生活中感受到神聖的存在', categoryId: 28, isReligiousOnly: false, order: 11 },
            { id: 12, text: '我會透過祈禱或冥想與超越者連結', categoryId: 16, isReligiousOnly: true, order: 12 },
        ];

        // 應用程式狀態提供者
        function AppProvider({ children }) {
            const [currentPage, setCurrentPage] = useState('editor');
            const [currentVersionId, setCurrentVersionId] = useState(null);
            const [categories, setCategories] = useState(initialCategories);
            const [questions, setQuestions] = useState(initialQuestions);
            const [versions, setVersions] = useState({});
            const [responses, setResponses] = useState({});
            const [editingQuestion, setEditingQuestion] = useState(null);
            const [editingCategory, setEditingCategory] = useState(null);
            const [saveStatus, setSaveStatus] = useState('');
            const [selectedQuestions, setSelectedQuestions] = useState(new Set());
            const [searchQuery, setSearchQuery] = useState('');
            const [filterCategory, setFilterCategory] = useState('');
            const [filterReligious, setFilterReligious] = useState('all');
            const [drawerOpen, setDrawerOpen] = useState(false);
            const [isLoading, setIsLoading] = useState(false);

            // 從 localStorage 載入資料
            useEffect(() => {
                setIsLoading(true);
                try {
                    const savedCategories = localStorage.getItem('spiritual_categories_v3');
                    const savedQuestions = localStorage.getItem('spiritual_questions_v3');
                    const savedVersions = localStorage.getItem('spiritual_versions_v3');
                    const savedResponses = localStorage.getItem('spiritual_responses_v3');

                    if (savedCategories) {
                        setCategories(JSON.parse(savedCategories));
                    }
                    if (savedQuestions) {
                        setQuestions(JSON.parse(savedQuestions));
                    }
                    if (savedVersions) {
                        setVersions(JSON.parse(savedVersions));
                    }
                    if (savedResponses) {
                        setResponses(JSON.parse(savedResponses));
                    }
                } catch (e) {
                    console.error('載入資料失敗:', e);
                    setSaveStatus('載入資料失敗，使用預設資料');
                    setTimeout(() => setSaveStatus(''), 3000);
                } finally {
                    setIsLoading(false);
                }
            }, []);

            // 手動儲存功能
            const saveData = useCallback(() => {
                setIsLoading(true);
                try {
                    localStorage.setItem('spiritual_categories_v3', JSON.stringify(categories));
                    localStorage.setItem('spiritual_questions_v3', JSON.stringify(questions));
                    localStorage.setItem('spiritual_versions_v3', JSON.stringify(versions));
                    localStorage.setItem('spiritual_responses_v3', JSON.stringify(responses));
                    
                    setSaveStatus('儲存成功！');
                    setTimeout(() => setSaveStatus(''), 3000);
                } catch (e) {
                    console.error('儲存失敗:', e);
                    setSaveStatus('儲存失敗！請檢查瀏覽器儲存空間');
                    setTimeout(() => setSaveStatus(''), 5000);
                } finally {
                    setIsLoading(false);
                }
            }, [categories, questions, versions, responses]);

            // 自動儲存
            useEffect(() => {
                const timeoutId = setTimeout(() => {
                    try {
                        localStorage.setItem('spiritual_categories_v3', JSON.stringify(categories));
                        localStorage.setItem('spiritual_questions_v3', JSON.stringify(questions));
                        localStorage.setItem('spiritual_versions_v3', JSON.stringify(versions));
                        localStorage.setItem('spiritual_responses_v3', JSON.stringify(responses));
                    } catch (e) {
                        console.error('自動儲存失敗:', e);
                    }
                }, 2000);

                return () => clearTimeout(timeoutId);
            }, [categories, questions, versions, responses]);

            const value = {
                currentPage, setCurrentPage,
                currentVersionId, setCurrentVersionId,
                categories, setCategories,
                questions, setQuestions,
                versions, setVersions,
                responses, setResponses,
                editingQuestion, setEditingQuestion,
                editingCategory, setEditingCategory,
                saveData, saveStatus,
                selectedQuestions, setSelectedQuestions,
                searchQuery, setSearchQuery,
                filterCategory, setFilterCategory,
                filterReligious, setFilterReligious,
                drawerOpen, setDrawerOpen,
                isLoading
            };

            return (
                <AppContext.Provider value={value}>
                    {children}
                </AppContext.Provider>
            );
        }

        // 載入指示器組件
        function LoadingSpinner({ size = 'md' }) {
            const sizeClasses = {
                sm: 'w-4 h-4',
                md: 'w-6 h-6',
                lg: 'w-8 h-8'
            };

            return (
                <div className={`loading-spinner ${sizeClasses[size]}`}></div>
            );
        }

        // 搜尋和篩選 Hook
        function useQuestionFilter() {
            const { questions, categories, searchQuery, filterCategory, filterReligious } = useContext(AppContext);

            return useMemo(() => {
                let filtered = [...questions];

                // 關鍵字搜尋
                if (searchQuery.trim()) {
                    const query = searchQuery.toLowerCase();
                    filtered = filtered.filter(q => 
                        q.text.toLowerCase().includes(query)
                    );
                }

                // 分類篩選
                if (filterCategory) {
                    const categoryId = parseInt(filterCategory);
                    const getAllDescendantIds = (catId) => {
                        const descendants = [catId];
                        const children = categories.filter(c => c.parentId === catId);
                        children.forEach(child => {
                            descendants.push(...getAllDescendantIds(child.id));
                        });
                        return descendants;
                    };
                    const targetCategoryIds = getAllDescendantIds(categoryId);
                    filtered = filtered.filter(q => targetCategoryIds.includes(q.categoryId));
                }

                // 宗教專屬篩選
                if (filterReligious !== 'all') {
                    const isReligious = filterReligious === 'religious';
                    filtered = filtered.filter(q => q.isReligiousOnly === isReligious);
                }

                return filtered.sort((a, b) => a.order - b.order);
            }, [questions, categories, searchQuery, filterCategory, filterReligious]);
        }

        // 分類樹組件
        function CategoryTree({ onSelectCategory, selectedCategoryId, isDrawer = false }) {
            const { 
                categories, setCategories, questions, setQuestions, 
                editingCategory, setEditingCategory, drawerOpen, setDrawerOpen 
            } = useContext(AppContext);
            const [expandedNodes, setExpandedNodes] = useState(new Set([1, 2, 3, 4]));

            const toggleExpand = useCallback((categoryId) => {
                setExpandedNodes(prev => {
                    const newExpanded = new Set(prev);
                    if (newExpanded.has(categoryId)) {
                        newExpanded.delete(categoryId);
                    } else {
                        newExpanded.add(categoryId);
                    }
                    return newExpanded;
                });
            }, []);

            const getCategoryChildren = useCallback((parentId) => {
                return categories.filter(cat => cat.parentId === parentId)
                    .sort((a, b) => (a.order || 0) - (b.order || 0));
            }, [categories]);

            const getCategoryQuestionCount = useCallback((categoryId) => {
                const getAllDescendantIds = (catId) => {
                    const descendants = [catId];
                    const children = categories.filter(c => c.parentId === catId);
                    children.forEach(child => {
                        descendants.push(...getAllDescendantIds(child.id));
                    });
                    return descendants;
                };
                
                const allCategoryIds = getAllDescendantIds(categoryId);
                return questions.filter(q => allCategoryIds.includes(q.categoryId)).length;
            }, [categories, questions]);

            const addSubCategory = useCallback((parentId) => {
                const newId = Math.max(...categories.map(c => c.id)) + 1;
                const parentCategory = parentId ? categories.find(c => c.id === parentId) : null;
                const siblings = categories.filter(c => c.parentId === parentId);
                const maxOrder = Math.max(...siblings.map(c => c.order || 0), 0);
                
                const newCategory = {
                    id: newId,
                    name: '新分類',
                    level: parentCategory ? parentCategory.level + 1 : 1,
                    parentId: parentId,
                    order: maxOrder + 1
                };
                setCategories(prev => [...prev, newCategory]);
                setEditingCategory(newId);
            }, [categories, setCategories, setEditingCategory]);

            const getAllDescendantIds = useCallback((categoryId) => {
                const descendants = [];
                const children = categories.filter(c => c.parentId === categoryId);
                
                children.forEach(child => {
                    descendants.push(child.id);
                    descendants.push(...getAllDescendantIds(child.id));
                });
                
                return descendants;
            }, [categories]);

            const deleteCategory = useCallback((categoryId) => {
                const descendantIds = getAllDescendantIds(categoryId);
                const allIdsToDelete = [categoryId, ...descendantIds];
                const relatedQuestions = questions.filter(q => allIdsToDelete.includes(q.categoryId));
                
                let confirmMessage = '確定要刪除此分類嗎？';
                if (descendantIds.length > 0) {
                    confirmMessage += `\n這將同時刪除 ${descendantIds.length} 個子分類`;
                }
                if (relatedQuestions.length > 0) {
                    confirmMessage += `\n以及 ${relatedQuestions.length} 個相關題目`;
                }
                
                if (window.confirm(confirmMessage)) {
                    setCategories(prev => prev.filter(c => !allIdsToDelete.includes(c.id)));
                    setQuestions(prev => prev.filter(q => !allIdsToDelete.includes(q.categoryId)));
                }
            }, [getAllDescendantIds, questions, setCategories, setQuestions]);

            const updateCategoryName = useCallback((categoryId, newName) => {
                if (newName.trim()) {
                    setCategories(prev => prev.map(c => 
                        c.id === categoryId ? { ...c, name: newName.trim() } : c
                    ));
                }
                setEditingCategory(null);
            }, [setCategories, setEditingCategory]);

            const renderCategory = useCallback((category, depth = 0) => {
                const children = getCategoryChildren(category.id);
                const isExpanded = expandedNodes.has(category.id);
                const hasChildren = children.length > 0;
                const canEdit = true;
                const canAddChild = category.level < 4;
                const questionCount = getCategoryQuestionCount(category.id);

                return (
                    <div key={category.id} className="select-none slide-in">
                        <div 
                            className={`category-item flex items-start py-3 px-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-300 ${
                                selectedCategoryId === category.id ? 'bg-primary/10 border border-primary/30' : 'border border-transparent'
                            }`}
                            style={{ paddingLeft: `${depth * 20 + 12}px` }}
                            onClick={() => {
                                onSelectCategory && onSelectCategory(category.id);
                                if (isDrawer) setDrawerOpen(false);
                            }}
                        >
                            <div className="flex items-center mr-3 mt-1">
                                {hasChildren ? (
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            toggleExpand(category.id);
                                        }}
                                        className="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-all duration-200"
                                        aria-label={isExpanded ? '收合' : '展開'}
                                    >
                                        <svg className={`w-4 h-4 transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                                        </svg>
                                    </button>
                                ) : (
                                    <div className="w-6 h-6 flex items-center justify-center">
                                        <div className="w-2 h-2 bg-gray-300 rounded-full"></div>
                                    </div>
                                )}
                            </div>
                            
                            <div className="flex-1 min-w-0 mr-3">
                                {editingCategory === category.id ? (
                                    <textarea
                                        defaultValue={category.name}
                                        className="w-full px-3 py-2 text-sm border border-primary/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"
                                        rows="2"
                                        autoFocus
                                        onBlur={(e) => updateCategoryName(category.id, e.target.value)}
                                        onKeyPress={(e) => {
                                            if (e.key === 'Enter' && !e.shiftKey) {
                                                e.preventDefault();
                                                updateCategoryName(category.id, e.target.value);
                                            }
                                        }}
                                        onClick={(e) => e.stopPropagation()}
                                        placeholder="請輸入分類名稱"
                                    />
                                ) : (
                                    <div className="flex flex-col">
                                        <div className="tooltip">
                                            <span className="category-name text-sm font-medium text-gray-800 block">
                                                {category.name}
                                            </span>
                                            {category.name.length > 20 && (
                                                <span className="tooltip-text">{category.name}</span>
                                            )}
                                        </div>
                                        {category.level === 1 && (
                                            <span className="bg-primary/10 text-primary text-xs px-2 py-1 rounded-full mt-2 self-start font-medium">
                                                {questionCount}題
                                            </span>
                                        )}
                                    </div>
                                )}
                            </div>

                            <div className="action-buttons flex items-center space-x-1 mt-1">
                                {canAddChild && (
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            addSubCategory(category.id);
                                        }}
                                        className="w-8 h-8 flex items-center justify-center text-secondary hover:text-secondary/80 hover:bg-secondary/10 rounded-lg transition-all duration-200 tooltip"
                                        aria-label="新增子分類"
                                    >
                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                        </svg>
                                        <span className="tooltip-text">新增子分類</span>
                                    </button>
                                )}

                                {canEdit && (
                                    <>
                                        <button
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                setEditingCategory(category.id);
                                            }}
                                            className="w-8 h-8 flex items-center justify-center text-primary hover:text-primary/80 hover:bg-primary/10 rounded-lg transition-all duration-200 tooltip"
                                            aria-label="編輯分類名稱"
                                        >
                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                            </svg>
                                            <span className="tooltip-text">編輯分類名稱</span>
                                        </button>
                                        <button
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                deleteCategory(category.id);
                                            }}
                                            className="w-8 h-8 flex items-center justify-center text-danger hover:text-danger/80 hover:bg-danger/10 rounded-lg transition-all duration-200 tooltip"
                                            aria-label="刪除分類"
                                        >
                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                            </svg>
                                            <span className="tooltip-text">刪除分類</span>
                                        </button>
                                    </>
                                )}
                            </div>
                        </div>

                        {hasChildren && isExpanded && (
                            <div className="ml-2 mt-1 space-y-1">
                                {children.map(child => renderCategory(child, depth + 1))}
                            </div>
                        )}
                    </div>
                );
            }, [
                getCategoryChildren, expandedNodes, selectedCategoryId, onSelectCategory, isDrawer, 
                setDrawerOpen, editingCategory, updateCategoryName, toggleExpand, getCategoryQuestionCount,
                addSubCategory, setEditingCategory, deleteCategory
            ]);

            const rootCategories = useMemo(() => 
                categories.filter(cat => cat.parentId === null)
                    .sort((a, b) => (a.order || 0) - (b.order || 0))
            , [categories]);

            const content = (
                <div className="category-tree border rounded-xl bg-white p-4 shadow-sm">
                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3">
                        <div>
                            <h3 className="font-semibold text-gray-800 text-lg mb-1">分類結構</h3>
                            <p className="text-xs text-gray-500">
                                四層分類結構：靈性修養面向 → 核心指標 → 靈修原則 → 日常實踐
                            </p>
                        </div>
                        <button
                            onClick={() => addSubCategory(null)}
                            className="flex items-center gap-2 bg-secondary text-white px-4 py-2 rounded-xl hover:bg-secondary/90 text-sm font-medium transition-all duration-200 mobile-button"
                        >
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                            新增分類
                        </button>
                    </div>
                    
                    <div className="space-y-1">
                        {rootCategories.map(category => renderCategory(category))}
                    </div>
                </div>
            );

            if (isDrawer) {
                return (
                    <>
                        <div className={`drawer-overlay ${drawerOpen ? 'active' : ''}`} onClick={() => setDrawerOpen(false)}></div>
                        <div className={`drawer ${drawerOpen ? 'active' : ''}`}>
                            <div className="p-4 border-b">
                                <div className="flex items-center justify-between">
                                    <h3 className="font-semibold text-gray-800">分類結構</h3>
                                    <button
                                        onClick={() => setDrawerOpen(false)}
                                        className="w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"
                                        aria-label="關閉"
                                    >
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div className="p-4">
                                <button
                                    onClick={() => addSubCategory(null)}
                                    className="w-full flex items-center justify-center gap-2 bg-secondary text-white px-4 py-3 rounded-xl hover:bg-secondary/90 text-sm font-medium transition-all duration-200 mb-4"
                                >
                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                    </svg>
                                    新增分類
                                </button>
                                <div className="space-y-1">
                                    {rootCategories.map(category => renderCategory(category))}
                                </div>
                            </div>
                        </div>
                    </>
                );
            }

            return content;
        }

        // 搜尋和篩選組件
        function SearchAndFilter() {
            const { 
                searchQuery, setSearchQuery, 
                filterCategory, setFilterCategory,
                filterReligious, setFilterReligious,
                categories 
            } = useContext(AppContext);

            const getCategoryOptions = useCallback((parentId = null, prefix = '') => {
                const children = categories.filter(c => c.parentId === parentId)
                    .sort((a, b) => (a.order || 0) - (b.order || 0));
                
                let options = [];
                children.forEach(category => {
                    options.push({
                        value: category.id,
                        label: prefix + category.name
                    });
                    options.push(...getCategoryOptions(category.id, prefix + '　'));
                });
                return options;
            }, [categories]);

            const categoryOptions = useMemo(() => getCategoryOptions(), [getCategoryOptions]);

            return (
                <div className="bg-white rounded-xl p-4 shadow-sm mb-4">
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">關鍵字搜尋</label>
                            <div className="relative">
                                <input
                                    type="text"
                                    value={searchQuery}
                                    onChange={(e) => setSearchQuery(e.target.value)}
                                    placeholder="搜尋題目內容..."
                                    className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"
                                />
                                <svg className="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </div>
                        </div>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">分類篩選</label>
                            <select
                                value={filterCategory}
                                onChange={(e) => setFilterCategory(e.target.value)}
                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"
                            >
                                <option value="">所有分類</option>
                                {categoryOptions.map(option => (
                                    <option key={option.value} value={option.value}>
                                        {option.label}
                                    </option>
                                ))}
                            </select>
                        </div>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">宗教專屬</label>
                            <select
                                value={filterReligious}
                                onChange={(e) => setFilterReligious(e.target.value)}
                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary mobile-spacing"
                            >
                                <option value="all">全部</option>
                                <option value="religious">僅宗教專屬</option>
                                <option value="general">僅一般題目</option>
                            </select>
                        </div>
                    </div>
                </div>
            );
        }

        // 批次操作組件
        function BatchActions() {
            const { selectedQuestions, setSelectedQuestions, questions, setQuestions } = useContext(AppContext);

            const handleSelectAll = useCallback(() => {
                if (selectedQuestions.size === questions.length) {
                    setSelectedQuestions(new Set());
                } else {
                    setSelectedQuestions(new Set(questions.map(q => q.id)));
                }
            }, [selectedQuestions.size, questions.length, questions, setSelectedQuestions]);

            const handleBatchDelete = useCallback(() => {
                if (selectedQuestions.size === 0) return;
                
                if (window.confirm(`確定要刪除選中的 ${selectedQuestions.size} 個題目嗎？`)) {
                    setQuestions(prev => prev.filter(q => !selectedQuestions.has(q.id)));
                    setSelectedQuestions(new Set());
                }
            }, [selectedQuestions, setQuestions, setSelectedQuestions]);

            const handleBatchToggleReligious = useCallback(() => {
                if (selectedQuestions.size === 0) return;
                
                setQuestions(prev => prev.map(q => 
                    selectedQuestions.has(q.id) 
                        ? { ...q, isReligiousOnly: !q.isReligiousOnly }
                        : q
                ));
            }, [selectedQuestions, setQuestions]);

            if (selectedQuestions.size === 0) return null;

            return (
                <div className="batch-actions bg-primary/5 border border-primary/20 rounded-xl">
                    <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                        <span className="text-sm font-medium text-primary">
                            已選擇 {selectedQuestions.size} 個題目
                        </span>
                        <div className="flex flex-wrap gap-2">
                            <button
                                onClick={handleSelectAll}
                                className="px-3 py-1 text-sm bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors"
                            >
                                {selectedQuestions.size === questions.length ? '取消全選' : '全選'}
                            </button>
                            <button
                                onClick={handleBatchToggleReligious}
                                className="px-3 py-1 text-sm bg-warning/10 text-warning rounded-lg hover:bg-warning/20 transition-colors"
                            >
                                切換宗教屬性
                            </button>
                            <button
                                onClick={handleBatchDelete}
                                className="px-3 py-1 text-sm bg-danger/10 text-danger rounded-lg hover:bg-danger/20 transition-colors"
                            >
                                批次刪除
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // 題目管理組件
        function QuestionManager() {
            const { 
                categories, 
                questions, 
                setQuestions, 
                editingQuestion, 
                setEditingQuestion,
                selectedQuestions,
                setSelectedQuestions,
                drawerOpen,
                setDrawerOpen
            } = useContext(AppContext);
            
            const [selectedCategoryId, setSelectedCategoryId] = useState(null);
            const [showAllQuestions, setShowAllQuestions] = useState(false);
            const [draggedItem, setDraggedItem] = useState(null);
            
            const filteredQuestions = useQuestionFilter();

            const getCategoryPath = useCallback((categoryId) => {
                const path = [];
                let current = categories.find(c => c.id === categoryId);
                while (current) {
                    path.unshift(current.name);
                    current = categories.find(c => c.id === current.parentId);
                }
                return path.join(' > ');
            }, [categories]);

            const addQuestion = useCallback(() => {
                if (!selectedCategoryId && !showAllQuestions) {
                    alert('請先選擇分類');
                    return;
                }
                const newId = Math.max(...questions.map(q => q.id), 0) + 1;
                const newQuestion = {
                    id: newId,
                    text: '新題目',
                    categoryId: selectedCategoryId || categories[0]?.id,
                    isReligiousOnly: false,
                    order: questions.length + 1
                };
                setQuestions(prev => [...prev, newQuestion]);
                setEditingQuestion(newId);
            }, [selectedCategoryId, showAllQuestions, questions, categories, setQuestions, setEditingQuestion]);

            const updateQuestion = useCallback((questionId, updates) => {
                setQuestions(prev => prev.map(q => 
                    q.id === questionId ? { ...q, ...updates } : q
                ));
                setEditingQuestion(null);
            }, [setQuestions, setEditingQuestion]);

            const deleteQuestion = useCallback((questionId) => {
                if (window.confirm('確定要刪除此題目嗎？')) {
                    setQuestions(prev => prev.filter(q => q.id !== questionId));
                }
            }, [setQuestions]);

            const toggleQuestionSelection = useCallback((questionId) => {
                setSelectedQuestions(prev => {
                    const newSelected = new Set(prev);
                    if (newSelected.has(questionId)) {
                        newSelected.delete(questionId);
                    } else {
                        newSelected.add(questionId);
                    }
                    return newSelected;
                });
            }, [setSelectedQuestions]);

            const handleDragStart = useCallback((e, question) => {
                setDraggedItem(question);
                e.dataTransfer.effectAllowed = 'move';
            }, []);

            const handleDragOver = useCallback((e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            }, []);

            const handleDrop = useCallback((e, targetQuestion) => {
                e.preventDefault();
                if (!draggedItem || draggedItem.id === targetQuestion.id) return;

                setQuestions(prev => {
                    const newQuestions = [...prev];
                    const draggedIndex = newQuestions.findIndex(q => q.id === draggedItem.id);
                    const targetIndex = newQuestions.findIndex(q => q.id === targetQuestion.id);

                    newQuestions.splice(draggedIndex, 1);
                    newQuestions.splice(targetIndex, 0, draggedItem);

                    newQuestions.forEach((q, index) => {
                        q.order = index + 1;
                    });

                    return newQuestions;
                });
                setDraggedItem(null);
            }, [draggedItem, setQuestions]);

            const highlightSearchText = useCallback((text, query) => {
                if (!query.trim()) return text;
                
                const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
                const parts = text.split(regex);
                
                return parts.map((part, index) => 
                    regex.test(part) ? 
                        <span key={index} className="search-highlight">{part}</span> : 
                        part
                );
            }, []);

            const displayQuestions = useMemo(() => {
                return showAllQuestions ? filteredQuestions : 
                    selectedCategoryId ? questions.filter(q => q.categoryId === selectedCategoryId) : [];
            }, [showAllQuestions, filteredQuestions, selectedCategoryId, questions]);

            return (
                <div className="flex flex-col xl:flex-row gap-4 h-full">
                    {/* 行動端分類抽屜按鈕 */}
                    <div className="xl:hidden">
                        <button
                            onClick={() => setDrawerOpen(true)}
                            className="w-full flex items-center justify-center gap-2 bg-primary text-white px-4 py-3 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mb-4"
                        >
                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                            分類管理
                        </button>
                        <CategoryTree 
                            onSelectCategory={(categoryId) => {
                                setSelectedCategoryId(categoryId);
                                setShowAllQuestions(false);
                            }}
                            selectedCategoryId={selectedCategoryId}
                            isDrawer={true}
                        />
                    </div>

                    {/* 桌面端分類樹 */}
                    <div className="hidden xl:block w-full xl:w-2/5">
                        <CategoryTree 
                            onSelectCategory={(categoryId) => {
                                setSelectedCategoryId(categoryId);
                                setShowAllQuestions(false);
                            }}
                            selectedCategoryId={selectedCategoryId}
                        />
                    </div>
                    
                    <div className="w-full xl:w-3/5">
                        <SearchAndFilter />
                        
                        <div className="bg-white rounded-xl p-4 shadow-sm">
                            <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3">
                                <div className="flex flex-col sm:flex-row sm:items-center gap-3">
                                    <h3 className="font-semibold text-gray-800 text-lg">題目管理</h3>
                                    <button
                                        onClick={() => {
                                            setShowAllQuestions(true);
                                            setSelectedCategoryId(null);
                                        }}
                                        className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 mobile-button ${
                                            showAllQuestions 
                                                ? 'bg-accent text-white' 
                                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                    >
                                        所有題庫
                                    </button>
                                </div>
                                <button
                                    onClick={addQuestion}
                                    className="bg-primary text-white px-4 py-2 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mobile-button"
                                >
                                    新增題目
                                </button>
                            </div>

                            <BatchActions />

                            <div className="mb-3 text-sm text-gray-600">
                                {showAllQuestions ? (
                                    <span>顯示 {displayQuestions.length} / {questions.length} 題</span>
                                ) : selectedCategoryId ? (
                                    <span className="break-words">
                                        {getCategoryPath(selectedCategoryId)} 
                                        ({displayQuestions.length} 題)
                                    </span>
                                ) : (
                                    <span>請選擇分類或點擊「所有題庫」查看題目</span>
                                )}
                            </div>

                            <div className="space-y-3 max-h-96 overflow-y-auto">
                                {displayQuestions.map(question => (
                                    <div
                                        key={question.id}
                                        className={`question-item border rounded-xl p-4 transition-all duration-300 ${
                                            draggedItem?.id === question.id ? 'dragging' : ''
                                        } ${
                                            selectedQuestions.has(question.id) ? 'selected' : ''
                                        }`}
                                        draggable
                                        onDragStart={(e) => handleDragStart(e, question)}
                                        onDragOver={handleDragOver}
                                        onDrop={(e) => handleDrop(e, question)}
                                    >
                                        {editingQuestion === question.id ? (
                                            <div className="space-y-4">
                                                <textarea
                                                    defaultValue={question.text}
                                                    className="w-full p-3 border border-primary/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"
                                                    rows="3"
                                                    placeholder="題目內容"
                                                    onBlur={(e) => updateQuestion(question.id, { text: e.target.value })}
                                                />
                                                <div className="flex flex-col sm:flex-row sm:items-center gap-3">
                                                    <select
                                                        defaultValue={question.categoryId}
                                                        onChange={(e) => updateQuestion(question.id, { categoryId: parseInt(e.target.value) })}
                                                        className="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"
                                                    >
                                                        {categories.map(cat => (
                                                            <option key={cat.id} value={cat.id}>
                                                                {getCategoryPath(cat.id)}
                                                            </option>
                                                        ))}
                                                    </select>
                                                    <label className="flex items-center gap-2">
                                                        <input
                                                            type="checkbox"
                                                            defaultChecked={question.isReligiousOnly}
                                                            onChange={(e) => updateQuestion(question.id, { isReligiousOnly: e.target.checked })}
                                                            className="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded"
                                                        />
                                                        <span className="text-sm">宗教專屬</span>
                                                    </label>
                                                    <button
                                                        onClick={() => setEditingQuestion(null)}
                                                        className="bg-secondary text-white px-4 py-2 rounded-lg text-sm hover:bg-secondary/90 font-medium transition-colors mobile-button"
                                                    >
                                                        完成
                                                    </button>
                                                </div>
                                            </div>
                                        ) : (
                                            <div>
                                                <div className="flex items-start gap-3">
                                                    <input
                                                        type="checkbox"
                                                        checked={selectedQuestions.has(question.id)}
                                                        onChange={() => toggleQuestionSelection(question.id)}
                                                        className="w-4 h-4 text-primary focus:ring-primary/20 border-gray-300 rounded mt-1"
                                                    />
                                                    <div className="flex-1">
                                                        <p className="text-sm font-medium text-gray-800 mb-2">
                                                            {highlightSearchText(question.text, filteredQuestions.searchQuery || '')}
                                                        </p>
                                                        <p className="text-xs text-gray-500 break-words mb-2">
                                                            {getCategoryPath(question.categoryId)}
                                                        </p>
                                                        <div className="flex flex-wrap gap-2">
                                                            {question.isReligiousOnly && (
                                                                <span className="inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full font-medium">
                                                                    宗教專屬
                                                                </span>
                                                            )}
                                                            <span className="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">
                                                                順序: {question.order}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div className="flex gap-2">
                                                        <button
                                                            onClick={() => setEditingQuestion(question.id)}
                                                            className="text-primary hover:text-primary/80 text-sm p-2 hover:bg-primary/10 rounded-lg transition-all duration-200"
                                                            aria-label="編輯題目"
                                                        >
                                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                                            </svg>
                                                        </button>
                                                        <button
                                                            onClick={() => deleteQuestion(question.id)}
                                                            className="text-danger hover:text-danger/80 text-sm p-2 hover:bg-danger/10 rounded-lg transition-all duration-200"
                                                            aria-label="刪除題目"
                                                        >
                                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                ))}
                                
                                {displayQuestions.length === 0 && (
                                    <div className="text-center py-12 text-gray-500">
                                        <svg className="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                        </svg>
                                        <p className="text-lg font-medium mb-2">暫無題目</p>
                                        <p className="text-sm">請選擇分類或新增題目</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // 問卷預覽組件
        function SurveyPreview() {
            const { questions, categories } = useContext(AppContext);
            const [randomized, setRandomized] = useState(false);

            const getCategoryPath = useCallback((categoryId) => {
                const path = [];
                let current = categories.find(c => c.id === categoryId);
                while (current) {
                    path.unshift(current.name);
                    current = categories.find(c => c.id === current.parentId);
                }
                return path.join(' > ');
            }, [categories]);

            const getScoreLabel = useCallback((score) => {
                const labels = {
                    1: '完全不符合',
                    2: '很不符合',
                    3: '不太符合',
                    4: '有點符合',
                    5: '很符合',
                    6: '完全符合'
                };
                return labels[score];
            }, []);

            const sortedQuestions = useMemo(() => {
                return randomized 
                    ? [...questions].sort(() => Math.random() - 0.5)
                    : [...questions].sort((a, b) => a.order - b.order);
            }, [questions, randomized]);

            const toggleRandomize = useCallback(() => {
                setRandomized(prev => !prev);
            }, []);

            return (
                <div className="bg-white rounded-xl p-4 shadow-sm">
                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-3">
                        <h3 className="font-semibold text-gray-800 text-lg">問卷預覽</h3>
                        <button
                            onClick={toggleRandomize}
                            className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 mobile-button ${
                                randomized 
                                    ? 'bg-warning text-white hover:bg-warning/90' 
                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                            }`}
                        >
                            <span className="flex items-center gap-2">
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                </svg>
                                {randomized ? '已隨機排序' : '隨機排序'}
                            </span>
                        </button>
                    </div>

                    <div className="space-y-4 max-h-96 overflow-y-auto">
                        {sortedQuestions.map((question, index) => (
                            <div key={question.id} className="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-300">
                                <div className="mb-4">
                                    <span className="text-sm font-medium text-gray-800">
                                        {index + 1}. {question.text}
                                    </span>
                                    <p className="text-xs text-gray-500 mt-2 break-words">
                                        {getCategoryPath(question.categoryId)}
                                    </p>
                                    {question.isReligiousOnly && (
                                        <span className="inline-block bg-warning/10 text-warning text-xs px-2 py-1 rounded-full mt-2 font-medium">
                                            宗教專屬
                                        </span>
                                    )}
                                </div>
                                <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2">
                                    {[1, 2, 3, 4, 5, 6].map(score => (
                                        <label key={score} className="flex flex-col items-center p-3 border border-gray-200 rounded-lg cursor-not-allowed opacity-60 hover:bg-gray-50 transition-colors">
                                            <input
                                                type="radio"
                                                name={`preview-${question.id}`}
                                                value={score}
                                                disabled
                                                className="mb-2 w-4 h-4"
                                            />
                                            <span className="text-sm font-semibold text-primary">{score}</span>
                                            <span className="text-xs text-gray-500 text-center mt-1 leading-tight">
                                                {getScoreLabel(score)}
                                            </span>
                                        </label>
                                    ))}
                                </div>
                            </div>
                        ))}
                        
                        {sortedQuestions.length === 0 && (
                            <div className="text-center py-12 text-gray-500">
                                <svg className="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                </svg>
                                <p className="text-lg font-medium mb-2">暫無題目可預覽</p>
                                <p className="text-sm">請先新增題目</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // 編輯器頁面
        function EditorPage() {
            const { 
                questions, 
                categories, 
                versions, 
                setVersions, 
                setCurrentPage, 
                setCurrentVersionId,
                saveData,
                saveStatus,
                isLoading
            } = useContext(AppContext);

            const generateSurvey = useCallback(() => {
                if (questions.length === 0) {
                    alert('請先新增題目再生成問卷');
                    return;
                }
                
                const versionId = Date.now().toString();
                const version = {
                    id: versionId,
                    timestamp: new Date().toISOString(),
                    questions: [...questions],
                    categories: [...categories]
                };
                
                setVersions(prev => ({ ...prev, [versionId]: version }));
                setCurrentVersionId(versionId);
                setCurrentPage('survey');
            }, [questions, categories, setVersions, setCurrentVersionId, setCurrentPage]);

            return (
                <div className="min-h-screen bg-gray-50 p-2 sm:p-4">
                    <div className="max-w-full mx-auto">
                        <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
                            <div>
                                <h1 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">
                                    靈性修養問卷編輯系統
                                </h1>
                                <p className="text-gray-600">建立、管理和預覽您的靈性修養問卷</p>
                            </div>
                            <div className="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
                                {saveStatus && (
                                    <span className={`text-sm px-4 py-2 rounded-xl text-center font-medium flex items-center gap-2 ${
                                        saveStatus.includes('成功') 
                                            ? 'bg-secondary/10 text-secondary' 
                                            : 'bg-danger/10 text-danger'
                                    } save-success`}>
                                        {isLoading && <LoadingSpinner size="sm" />}
                                        {saveStatus}
                                    </span>
                                )}
                                <button
                                    onClick={saveData}
                                    disabled={isLoading}
                                    className="bg-primary text-white px-6 py-3 rounded-xl hover:bg-primary/90 font-medium transition-all duration-200 mobile-button disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"
                                >
                                    {isLoading && <LoadingSpinner size="sm" />}
                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12" />
                                    </svg>
                                    儲存分類/題目
                                </button>
                                <button
                                    onClick={generateSurvey}
                                    className="bg-secondary text-white px-6 py-3 rounded-xl hover:bg-secondary/90 font-medium transition-all duration-200 mobile-button"
                                >
                                    <span className="flex items-center gap-2">
                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                        </svg>
                                        生成問卷
                                    </span>
                                </button>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 2xl:grid-cols-2 gap-6 min-h-[calc(100vh-200px)]">
                            <div>
                                <QuestionManager />
                            </div>
                            <div>
                                <SurveyPreview />
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // 問卷作答組件
        function SurveyForm({ versionId, onSubmit }) {
            const { versions } = useContext(AppContext);
            const [answers, setAnswers] = useState({});
            const [isSubmitting, setIsSubmitting] = useState(false);

            const version = versions[versionId];
            if (!version) return (
                <div className="text-center text-gray-500 p-8">
                    <svg className="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                    </svg>
                    <p className="text-lg font-medium">問卷版本不存在</p>
                </div>
            );

            const getScoreLabel = useCallback((score) => {
                const labels = {
                    1: '完全不符合',
                    2: '很不符合',
                    3: '不太符合',
                    4: '有點符合',
                    5: '很符合',
                    6: '完全符合'
                };
                return labels[score];
            }, []);

            const sortedQuestions = useMemo(() => 
                [...version.questions].sort((a, b) => a.order - b.order)
            , [version.questions]);

            const handleAnswerChange = useCallback((questionId, score) => {
                setAnswers(prev => ({ ...prev, [questionId]: parseInt(score) }));
            }, []);

            const handleSubmit = useCallback(async (e) => {
                e.preventDefault();
                const unanswered = sortedQuestions.filter(q => !answers[q.id]);
                if (unanswered.length > 0) {
                    alert(`還有 ${unanswered.length} 題未作答`);
                    return;
                }
                
                setIsSubmitting(true);
                try {
                    // 模擬提交延遲
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    onSubmit(answers);
                } finally {
                    setIsSubmitting(false);
                }
            }, [sortedQuestions, answers, onSubmit]);

            const progress = Object.keys(answers).length / sortedQuestions.length * 100;

            return (
                <div className="bg-white rounded-xl p-6 shadow-sm">
                    <div className="mb-8">
                        <h2 className="text-2xl font-bold text-gray-800 mb-4">靈性修養問卷</h2>
                        <div className="bg-gray-200 rounded-full h-3 mb-3">
                            <div 
                                className="bg-gradient-to-r from-primary to-secondary h-3 rounded-full transition-all duration-500"
                                style={{ width: `${progress}%` }}
                            ></div>
                        </div>
                        <p className="text-sm text-gray-600">
                            進度：{Object.keys(answers).length} / {sortedQuestions.length} 
                            <span className="ml-2 font-medium text-primary">({progress.toFixed(1)}%)</span>
                        </p>
                    </div>

                    <form onSubmit={handleSubmit} className="space-y-8">
                        {sortedQuestions.map((question, index) => (
                            <div key={question.id} className="border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-300">
                                <div className="mb-6">
                                    <h3 className="font-semibold mb-3 text-gray-800 text-lg">
                                        {index + 1}. {question.text}
                                    </h3>
                                    {question.isReligiousOnly && (
                                        <span className="inline-block bg-warning/10 text-warning text-sm px-3 py-1 rounded-full font-medium">
                                            宗教專屬題目
                                        </span>
                                    )}
                                </div>
                                
                                <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3">
                                    {[1, 2, 3, 4, 5, 6].map(score => (
                                        <label key={score} className={`flex flex-col items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${
                                            answers[question.id] === score 
                                                ? 'border-primary bg-primary/5 shadow-md' 
                                                : 'border-gray-200 hover:border-primary/30 hover:bg-primary/5'
                                        }`}>
                                            <input
                                                type="radio"
                                                name={`question-${question.id}`}
                                                value={score}
                                                checked={answers[question.id] === score}
                                                onChange={(e) => handleAnswerChange(question.id, e.target.value)}
                                                className="mb-3 w-5 h-5 text-primary focus:ring-primary/20"
                                            />
                                            <span className="text-lg font-bold text-primary mb-1">{score}</span>
                                            <span className="text-xs text-gray-600 text-center leading-tight">
                                                {getScoreLabel(score)}
                                            </span>
                                        </label>
                                    ))}
                                </div>
                            </div>
                        ))}

                        <div className="flex justify-center pt-8">
                            <button
                                type="submit"
                                disabled={isSubmitting}
                                className="bg-gradient-to-r from-primary to-secondary text-white px-12 py-4 rounded-xl hover:shadow-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center gap-3"
                            >
                                {isSubmitting && <LoadingSpinner size="md" />}
                                {isSubmitting ? '提交中...' : '提交問卷'}
                            </button>
                        </div>
                    </form>
                </div>
            );
        }

        // 結果分析組件
        function ResultAnalysis({ responseId }) {
            const { responses, versions } = useContext(AppContext);
            const chartRef = useRef(null);
            const barChartRef = useRef(null);
            const [chartsLoaded, setChartsLoaded] = useState(false);

            const response = responses[responseId];
            if (!response) return (
                <div className="text-center text-gray-500 p-8">
                    <svg className="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <p className="text-lg font-medium">找不到作答記錄</p>
                </div>
            );

            const version = versions[response.versionId];
            if (!version) return (
                <div className="text-center text-gray-500 p-8">
                    <svg className="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                    </svg>
                    <p className="text-lg font-medium">找不到問卷版本</p>
                </div>
            );

            const calculateResults = useCallback(() => {
                const answers = response.answers;
                const totalScore = Object.values(answers).reduce((sum, score) => sum + score, 0);
                const avgScore = totalScore / Object.keys(answers).length;

                const categoryScores = {};
                version.categories.forEach(category => {
                    const categoryQuestions = version.questions.filter(q => q.categoryId === category.id);
                    if (categoryQuestions.length > 0) {
                        const categoryTotal = categoryQuestions.reduce((sum, q) => sum + (answers[q.id] || 0), 0);
                        categoryScores[category.id] = {
                            name: category.name,
                            score: categoryTotal / categoryQuestions.length,
                            level: category.level
                        };
                    }
                });

                return { totalScore, avgScore, categoryScores };
            }, [response.answers, version.categories, version.questions]);

            const results = useMemo(() => calculateResults(), [calculateResults]);

            const getScoreInterpretation = useCallback((score) => {
                if (score >= 5) return { level: '高', color: 'text-secondary', bgColor: 'bg-secondary/10', description: '表現優秀' };
                if (score >= 3.5) return { level: '中', color: 'text-warning', bgColor: 'bg-warning/10', description: '表現良好' };
                return { level: '低', color: 'text-danger', bgColor: 'bg-danger/10', description: '需要改善' };
            }, []);

            // 繪製雷達圖
            useEffect(() => {
                if (chartRef.current && !chartsLoaded) {
                    const ctx = chartRef.current.getContext('2d');
                    
                    const level1Categories = Object.values(results.categoryScores)
                        .filter(cat => cat.level === 1);

                    if (level1Categories.length > 0) {
                        new Chart(ctx, {
                            type: 'radar',
                            data: {
                                labels: level1Categories.map(cat => cat.name),
                                datasets: [{
                                    label: '分數',
                                    data: level1Categories.map(cat => cat.score),
                                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                    borderColor: '#3B82F6',
                                    pointBackgroundColor: '#3B82F6',
                                    pointBorderColor: '#ffffff',
                                    pointHoverBackgroundColor: '#ffffff',
                                    pointHoverBorderColor: '#3B82F6',
                                    borderWidth: 3,
                                    pointRadius: 6,
                                    pointHoverRadius: 8
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        display: true,
                                        position: 'top',
                                        labels: {
                                            font: {
                                                family: 'Noto Sans TC',
                                                size: 14
                                            }
                                        }
                                    }
                                },
                                scales: {
                                    r: {
                                        beginAtZero: true,
                                        max: 6,
                                        ticks: {
                                            stepSize: 1,
                                            font: {
                                                family: 'Noto Sans TC'
                                            }
                                        },
                                        pointLabels: {
                                            font: {
                                                family: 'Noto Sans TC',
                                                size: 12
                                            }
                                        }
                                    }
                                },
                                animation: {
                                    duration: 1500,
                                    easing: 'easeInOutQuart'
                                }
                            }
                        });
                    }
                }
            }, [results, chartsLoaded]);

            // 繪製長條圖
            useEffect(() => {
                if (barChartRef.current && !chartsLoaded) {
                    const ctx = barChartRef.current.getContext('2d');
                    
                    const level4Categories = Object.values(results.categoryScores)
                        .filter(cat => cat.level === 4)
                        .sort((a, b) => b.score - a.score);

                    if (level4Categories.length > 0) {
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: level4Categories.map(cat => cat.name),
                                datasets: [{
                                    label: '平均分數',
                                    data: level4Categories.map(cat => cat.score),
                                    backgroundColor: level4Categories.map((_, index) => {
                                        const colors = ['#10B981', '#3B82F6', '#8B5CF6', '#F59E0B', '#EF4444'];
                                        return colors[index % colors.length] + '80';
                                    }),
                                    borderColor: level4Categories.map((_, index) => {
                                        const colors = ['#10B981', '#3B82F6', '#8B5CF6', '#F59E0B', '#EF4444'];
                                        return colors[index % colors.length];
                                    }),
                                    borderWidth: 2,
                                    borderRadius: 8,
                                    borderSkipped: false
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        display: true,
                                        position: 'top',
                                        labels: {
                                            font: {
                                                family: 'Noto Sans TC',
                                                size: 14
                                            }
                                        }
                                    }
                                },
                                scales: {
                                    y: {
                                        beginAtZero: true,
                                        max: 6,
                                        ticks: {
                                            font: {
                                                family: 'Noto Sans TC'
                                            }
                                        }
                                    },
                                    x: {
                                        ticks: {
                                            font: {
                                                family: 'Noto Sans TC',
                                                size: 10
                                            }
                                        }
                                    }
                                },
                                animation: {
                                    duration: 1500,
                                    easing: 'easeInOutQuart'
                                }
                            }
                        });
                    }
                    
                    setChartsLoaded(true);
                }
            }, [results, chartsLoaded]);

            const exportPDF = useCallback(() => {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    // 設定中文字體（如果可用）
                    doc.setFont('helvetica');
                    
                    doc.text('Spiritual Survey Analysis Report', 20, 20);
                    doc.text(`Total Score: ${results.totalScore.toFixed(1)}`, 20, 40);
                    doc.text(`Average Score: ${results.avgScore.toFixed(2)}`, 20, 50);
                    
                    let y = 70;
                    Object.values(results.categoryScores)
                        .filter(cat => cat.level === 1)
                        .forEach(cat => {
                            const interpretation = getScoreInterpretation(cat.score);
                            doc.text(`${cat.name}: ${cat.score.toFixed(2)} (${interpretation.level})`, 20, y);
                            y += 10;
                        });

                    doc.save('spiritual-survey-analysis.pdf');
                } catch (error) {
                    console.error('PDF export failed:', error);
                    alert('PDF 匯出失敗，請稍後再試');
                }
            }, [results, getScoreInterpretation]);

            const exportExcel = useCallback(() => {
                try {
                    const wb = XLSX.utils.book_new();
                    
                    const answersData = version.questions.map(q => ({
                        題目: q.text,
                        分數: response.answers[q.id] || 0
                    }));
                    
                    const ws1 = XLSX.utils.json_to_sheet(answersData);
                    XLSX.utils.book_append_sheet(wb, ws1, '原始答案');
                    
                    const analysisData = Object.values(results.categoryScores)
                        .filter(cat => cat.level === 1)
                        .map(cat => ({
                            分類: cat.name,
                            平均分數: cat.score.toFixed(2),
                            等級: getScoreInterpretation(cat.score).level
                        }));
                    
                    const ws2 = XLSX.utils.json_to_sheet(analysisData);
                    XLSX.utils.book_append_sheet(wb, ws2, '分析結果');
                    
                    XLSX.writeFile(wb, 'spiritual-survey-results.xlsx');
                } catch (error) {
                    console.error('Excel export failed:', error);
                    alert('Excel 匯出失敗，請稍後再試');
                }
            }, [version.questions, response.answers, results.categoryScores, getScoreInterpretation]);

            return (
                <div className="bg-white rounded-xl p-6 shadow-sm">
                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-8 gap-4">
                        <div>
                            <h2 className="text-2xl font-bold text-gray-800 mb-2">分析結果</h2>
                            <p className="text-gray-600">您的靈性修養問卷完整分析報告</p>
                        </div>
                        <div className="flex flex-col sm:flex-row gap-3 no-print">
                            <button
                                onClick={exportPDF}
                                className="bg-danger text-white px-6 py-3 rounded-xl hover:bg-danger/90 font-medium transition-all duration-200 mobile-button"
                            >
                                <span className="flex items-center gap-2">
                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    匯出PDF
                                </span>
                            </button>
                            <button
                                onClick={exportExcel}
                                className="bg-secondary text-white px-6 py-3 rounded-xl hover:bg-secondary/90 font-medium transition-all duration-200 mobile-button"
                            >
                                <span className="flex items-center gap-2">
                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    匯出Excel
                                </span>
                            </button>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div className="bg-gradient-to-br from-primary/10 to-primary/5 p-6 rounded-xl text-center border border-primary/20">
                            <h3 className="text-lg font-semibold text-primary mb-2">總分</h3>
                            <p className="text-3xl font-bold text-primary">{results.totalScore.toFixed(1)}</p>
                            <p className="text-sm text-gray-600 mt-1">滿分 {version.questions.length * 6}</p>
                        </div>
                        <div className="bg-gradient-to-br from-secondary/10 to-secondary/5 p-6 rounded-xl text-center border border-secondary/20">
                            <h3 className="text-lg font-semibold text-secondary mb-2">平均分</h3>
                            <p className="text-3xl font-bold text-secondary">{results.avgScore.toFixed(2)}</p>
                            <p className="text-sm text-gray-600 mt-1">滿分 6.0</p>
                        </div>
                        <div className="bg-gradient-to-br from-accent/10 to-accent/5 p-6 rounded-xl text-center border border-accent/20">
                            <h3 className="text-lg font-semibold text-accent mb-2">整體評價</h3>
                            <p className={`text-2xl font-bold ${getScoreInterpretation(results.avgScore).color}`}>
                                {getScoreInterpretation(results.avgScore).level}
                            </p>
                            <p className="text-sm text-gray-600 mt-1">{getScoreInterpretation(results.avgScore).description}</p>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div className="chart-container">
                            <h3 className="text-lg font-semibold mb-4 text-gray-800">四大面向雷達圖</h3>
                            <div className="h-80">
                                <canvas ref={chartRef}></canvas>
                            </div>
                        </div>
                        <div className="chart-container">
                            <h3 className="text-lg font-semibold mb-4 text-gray-800">實踐項目分數</h3>
                            <div className="h-80">
                                <canvas ref={barChartRef}></canvas>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 className="text-lg font-semibold mb-6 text-gray-800">詳細分析</h3>
                        <div className="space-y-4">
                            {Object.values(results.categoryScores)
                                .filter(cat => cat.level === 1)
                                .map(cat => {
                                    const interpretation = getScoreInterpretation(cat.score);
                                    return (
                                        <div key={cat.name} className="flex flex-col sm:flex-row sm:justify-between sm:items-center p-4 bg-gray-50 rounded-xl gap-3 hover:shadow-md transition-all duration-300">
                                            <span className="font-semibold text-gray-800">{cat.name}</span>
                                            <div className="flex items-center gap-3">
                                                <span className="text-xl font-bold text-gray-800">{cat.score.toFixed(2)}</span>
                                                <span className={`px-3 py-1 rounded-full text-sm font-medium ${interpretation.color} ${interpretation.bgColor}`}>
                                                    {interpretation.level}
                                                </span>
                                            </div>
                                        </div>
                                    );
                                })}
                        </div>
                    </div>
                </div>
            );
        }

        // 問卷頁面
        function SurveyPage() {
            const { 
                currentVersionId, 
                responses, 
                setResponses, 
                setCurrentPage 
            } = useContext(AppContext);
            
            const [currentResponseId, setCurrentResponseId] = useState(null);

            const handleSurveySubmit = useCallback((answers) => {
                const responseId = Date.now().toString();
                const response = {
                    id: responseId,
                    versionId: currentVersionId,
                    answers: answers,
                    timestamp: new Date().toISOString()
                };
                
                setResponses(prev => ({ ...prev, [responseId]: response }));
                setCurrentResponseId(responseId);
            }, [currentVersionId, setResponses]);

            return (
                <div className="min-h-screen bg-gray-50 p-2 sm:p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
                            <div>
                                <h1 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">
                                    靈性修養問卷
                                </h1>
                                <p className="text-gray-600">請仔細閱讀每個題目，並選擇最符合您情況的選項</p>
                            </div>
                            <button
                                onClick={() => setCurrentPage('editor')}
                                className="bg-gray-500 text-white px-6 py-3 rounded-xl hover:bg-gray-600 font-medium transition-all duration-200 mobile-button no-print"
                            >
                                <span className="flex items-center gap-2">
                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                    </svg>
                                    返回編輯
                                </span>
                            </button>
                        </div>

                        {!currentResponseId ? (
                            <SurveyForm 
                                versionId={currentVersionId} 
                                onSubmit={handleSurveySubmit}
                            />
                        ) : (
                            <ResultAnalysis responseId={currentResponseId} />
                        )}
                    </div>
                </div>
            );
        }

        // 主應用程式
        function App() {
            const { currentPage, isLoading } = useContext(AppContext);

            if (isLoading) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <LoadingSpinner size="lg" />
                            <p className="mt-4 text-gray-600">載入中...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div>
                    {currentPage === 'editor' && <EditorPage />}
                    {currentPage === 'survey' && <SurveyPage />}
                </div>
            );
        }

        // 渲染應用程式
        ReactDOM.render(
            <AppProvider>
                <App />
            </AppProvider>,
            document.getElementById('root')
        );
    </script>


</body></html>
